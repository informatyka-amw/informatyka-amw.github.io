import{$ as Bi,$a as Fl,$b as bs,A as kn,Aa as Gi,Ab as Pe,B as qn,Ba as fi,Bb as de,C as zr,Ca as pi,Cb as gi,D as as,Da as wl,Db as he,E as Ye,Ea as Dl,Eb as vi,F as ml,Fa as Al,Fb as Yi,G as gl,Ga as Sl,Gb as Ll,H as pn,Ha as Il,Hb as Jr,I as Rn,Ia as Ml,Ib as to,J as ls,Ja as Pl,Jb as ms,K as vl,Ka as Fe,Kb as eo,L as bl,La as Tl,Lb as gs,M as yl,Ma as Ol,Mb as Vl,N as Hr,Na as $i,Nb as ze,O as on,Oa as Ct,Ob as Ul,P as Me,Pa as kt,Pb as He,Q as Re,Qa as qr,Qb as Bl,R as Kt,Ra as Nn,Rb as zl,S as qt,Sa as kl,Sb as vs,T as Ui,Ta as Rl,Tb as Hl,U as Pt,Ua as Xr,Ub as Gl,V as Qt,Va as mi,Vb as Wt,W as _l,Wa as ds,Wb as no,X as Vt,Xa as hs,Xb as io,Y as cs,Ya as fs,Yb as ro,Z as bt,Za as jn,Zb as bi,_ as vt,_a as vn,_b as oo,a as ft,aa as Gr,ab as Nl,ac as Cn,b as le,ba as zi,bb as te,bc as $l,ca as ce,cb as Xe,cc as Wl,d as Fd,da as Jt,db as Ht,dc as so,e as Nd,ea as pe,eb as Ae,ec as ao,f as ns,fa as Xn,fb as Wi,g as Tn,ga as Cl,gb as jl,h as fl,ha as di,hb as Ke,hc as ys,i as Li,ia as qe,ib as Kr,ic as _s,j as is,ja as mn,jb as Zr,jc as Cs,k as rs,ka as Ue,kb as Qr,l as Zt,la as Be,lb as _t,lc as Jn,m as Ie,ma as hi,mb as xt,mc as ti,n as On,na as us,nb as se,nc as xs,o as De,oa as $r,ob as Zn,oc as Es,p as At,pa as Hi,pb as bn,pc as ws,q as Yn,qa as ee,qb as ye,r as os,ra as oe,rb as Bt,s as pl,sa as Kn,sb as yn,t as Tt,ta as ue,tb as _n,u as Vi,ua as Fn,ub as Ze,v as Ve,va as xl,vb as Qn,w as Ur,wa as Wr,wb as _e,x as ss,xa as El,xb as Ce,y as Br,ya as gn,yb as ps,z as rn,za as Yr,zb as Ft}from"./chunk-HYXFBBHV.js";var Gu=Fd(zt=>{"use strict";(function(){var t=this;typeof Math.sgn>"u"&&(Math.sgn=function(M){return M==0?0:M>0?1:-1});var n={subtract:function(M,L){return{x:M.x-L.x,y:M.y-L.y}},dotProduct:function(M,L){return M.x*L.x+M.y*L.y},square:function(M){return Math.sqrt(M.x*M.x+M.y*M.y)},scale:function(M,L){return{x:M.x*L,y:M.y*L}}},e=64,i=Math.pow(2,-e-1),r=function(M,L){for(var G=[],X=o(M,L),x=L.length-1,C=2*x-1,g=c(X,C,G,0),p=n.subtract(M,L[0]),E=n.square(p),y=0,V=0;V<g;V++){p=n.subtract(M,_(L,x,G[V],null,null));var Y=n.square(p);Y<E&&(E=Y,y=G[V])}return p=n.subtract(M,L[x]),Y=n.square(p),Y<E&&(E=Y,y=1),{location:y,distance:E}},s=function(M,L){var G=r(M,L);return{point:_(L,L.length-1,G.location,null,null),location:G.location}},o=function(M,L){for(var G=L.length-1,X=2*G-1,x=[],C=[],g=[],p=[],E=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],y=0;y<=G;y++)x[y]=n.subtract(L[y],M);for(var y=0;y<=G-1;y++)C[y]=n.subtract(L[y+1],L[y]),C[y]=n.scale(C[y],3);for(var V=0;V<=G-1;V++)for(var Y=0;Y<=G;Y++)g[V]||(g[V]=[]),g[V][Y]=n.dotProduct(C[V],x[Y]);for(y=0;y<=X;y++)p[y]||(p[y]=[]),p[y].y=0,p[y].x=parseFloat(y)/X;for(var W=G,K=G-1,et=0;et<=W+K;et++){var nt=Math.max(0,et-K),Q=Math.min(et,W);for(y=nt;y<=Q;y++){var rt=et-y;p[y+rt].y+=g[rt][y]*E[rt][y]}}return p},c=function(M,L,G,X){var x=[],C=[],g,p,E=[],y=[];switch(a(M,L)){case 0:return 0;case 1:{if(X>=e)return G[0]=(M[0].x+M[L].x)/2,1;if(l(M,L))return G[0]=b(M,L),1;break}}_(M,L,.5,x,C),g=c(x,L,E,X+1),p=c(C,L,y,X+1);for(var V=0;V<g;V++)G[V]=E[V];for(var V=0;V<p;V++)G[V+g]=y[V];return g+p},a=function(M,L){var G=0,X,x;X=x=Math.sgn(M[0].y);for(var C=1;C<=L;C++)X=Math.sgn(M[C].y),X!=x&&G++,x=X;return G},l=function(M,L){var G,X,x,C,g,p,E,y,V,Y,W,K,et,nt,Q,rt;p=M[0].y-M[L].y,E=M[L].x-M[0].x,y=M[0].x*M[L].y-M[L].x*M[0].y;var dt,pt;dt=pt=0;for(var mt=1;mt<L;mt++){var Mt=p*M[mt].x+E*M[mt].y+y;Mt>dt?dt=Mt:Mt<pt&&(pt=Mt)}return W=0,K=1,et=0,nt=p,Q=E,rt=y-dt,V=W*Q-nt*K,Y=1/V,X=(K*rt-Q*et)*Y,nt=p,Q=E,rt=y-pt,V=W*Q-nt*K,Y=1/V,x=(K*rt-Q*et)*Y,C=Math.min(X,x),g=Math.max(X,x),G=g-C,G<i?1:0},b=function(M,L){var G=1,X=0,x=M[L].x-M[0].x,C=M[L].y-M[0].y,g=M[0].x-0,p=M[0].y-0,E=x*X-C*G,y=1/E,V=(x*p-C*g)*y;return 0+G*V},_=function(M,L,G,X,x){for(var C=[[]],g=0;g<=L;g++)C[0][g]=M[g];for(var p=1;p<=L;p++)for(var g=0;g<=L-p;g++)C[p]||(C[p]=[]),C[p][g]||(C[p][g]={}),C[p][g].x=(1-G)*C[p-1][g].x+G*C[p-1][g+1].x,C[p][g].y=(1-G)*C[p-1][g].y+G*C[p-1][g+1].y;if(X!=null)for(g=0;g<=L;g++)X[g]=C[g][0];if(x!=null)for(g=0;g<=L;g++)x[g]=C[L-g][g];return C[L][0]},O={},T=function(M){var L=O[M];if(!L){L=[];var G=function(){return function(Y){return Math.pow(Y,M)}},X=function(){return function(Y){return Math.pow(1-Y,M)}},x=function(Y){return function(W){return Y}},C=function(){return function(Y){return Y}},g=function(){return function(Y){return 1-Y}},p=function(Y){return function(W){for(var K=1,et=0;et<Y.length;et++)K=K*Y[et](W);return K}};L.push(new G);for(var E=1;E<M;E++){for(var y=[new x(M)],V=0;V<M-E;V++)y.push(new C);for(var V=0;V<E;V++)y.push(new g);L.push(new p(y))}L.push(new X),O[M]=L}return L},U=function(M,L){for(var G=T(M.length-1),X=0,x=0,C=0;C<M.length;C++)X=X+M[C].x*G[C](L),x=x+M[C].y*G[C](L);return{x:X,y:x}},P=function(M,L){return Math.sqrt(Math.pow(M.x-L.x,2)+Math.pow(M.y-L.y,2))},h=function(M){return M[0].x===M[1].x&&M[0].y===M[1].y},d=function(M,L,G){if(h(M))return{point:M[0],location:L};for(var X=U(M,L),x=0,C=L,g=G>0?1:-1,p=null;x<Math.abs(G);)C+=.005*g,p=U(M,C),x+=P(p,X),X=p;return{point:p,location:C}},k=function(M){var L=new Date().getTime();if(h(M))return 0;for(var G=U(M,0),X=0,x=0,C=1,g=null;x<1;)x+=.005*C,g=U(M,x),X+=P(g,G),G=g;return console.log("length",new Date().getTime()-L),X},N=function(M,L,G){return d(M,L,G).point},$=function(M,L,G){return d(M,L,G).location},z=function(M,L){var G=U(M,L),X=U(M.slice(0,M.length-1),L),x=X.y-G.y,C=X.x-G.x;return x===0?1/0:Math.atan(x/C)},u=function(M,L,G){var X=d(M,L,G);return X.location>1&&(X.location=1),X.location<0&&(X.location=0),z(M,X.location)},v=function(M,L,G,X){X=X??0;var x=d(M,L,X),C=z(M,x.location),g=Math.atan(-1/C),p=G/2*Math.sin(g),E=G/2*Math.cos(g);return[{x:x.point.x+E,y:x.point.y+p},{x:x.point.x-E,y:x.point.y-p}]},m=function(M,L,G,X,x){var C=X-L,g=M-G,p=M*(L-X)+L*(G-M),E=A(x),y=[C*E[0][0]+g*E[1][0],C*E[0][1]+g*E[1][1],C*E[0][2]+g*E[1][2],C*E[0][3]+g*E[1][3]+p],V=j.apply(null,y),Y=[];if(V!=null)for(var W=0;W<3;W++){var K=V[W],et=Math.pow(K,2),nt=Math.pow(K,3),Q=[E[0][0]*nt+E[0][1]*et+E[0][2]*K+E[0][3],E[1][0]*nt+E[1][1]*et+E[1][2]*K+E[1][3]],rt;G-M!==0?rt=(Q[0]-M)/(G-M):rt=(Q[1]-L)/(X-L),K>=0&&K<=1&&rt>=0&&rt<=1&&Y.push(Q)}return Y},S=function(M,L,G,X,x){var C=[];return C.push.apply(C,m(M,L,M+G,L,x)),C.push.apply(C,m(M+G,L,M+G,L+X,x)),C.push.apply(C,m(M+G,L+X,M,L+X,x)),C.push.apply(C,m(M,L+X,M,L,x)),C},R=function(M,L){var G=[];return G.push.apply(G,m(M.x,M.y,M.x+M.w,M.y,L)),G.push.apply(G,m(M.x+M.w,M.y,M.x+M.w,M.y+M.h,L)),G.push.apply(G,m(M.x+M.w,M.y+M.h,M.x,M.y+M.h,L)),G.push.apply(G,m(M.x,M.y+M.h,M.x,M.y,L)),G};function w(M,L){return[-M[0][L]+3*M[1][L]+-3*M[2][L]+M[3][L],3*M[0][L]-6*M[1][L]+3*M[2][L],-3*M[0][L]+3*M[1][L],M[0][L]]}function A(M){return[w(M,"x"),w(M,"y")]}function D(M){return M<0?-1:M>0?1:0}function j(M,L,G,X){var x=L/M,C=G/M,g=X/M,p=(3*C-Math.pow(x,2))/9,E=(9*x*C-27*g-2*Math.pow(x,3))/54,y=Math.pow(p,3)+Math.pow(E,2),V,Y,W=[];if(y>=0)V=D(E+Math.sqrt(y))*Math.pow(Math.abs(E+Math.sqrt(y)),1/3),Y=D(E-Math.sqrt(y))*Math.pow(Math.abs(E-Math.sqrt(y)),1/3),W[0]=-x/3+(V+Y),W[1]=-x/3-(V+Y)/2,W[2]=-x/3-(V+Y)/2,Math.abs(Math.sqrt(3)*(V-Y)/2)!==0&&(W[1]=-1,W[2]=-1);else{var K=Math.acos(E/Math.sqrt(-Math.pow(p,3)));W[0]=2*Math.sqrt(-p)*Math.cos(K/3)-x/3,W[1]=2*Math.sqrt(-p)*Math.cos((K+2*Math.PI)/3)-x/3,W[2]=2*Math.sqrt(-p)*Math.cos((K+4*Math.PI)/3)-x/3}for(var et=0;et<3;et++)(W[et]<0||W[et]>1)&&(W[et]=-1);return W}var H=this.jsBezier={distanceFromCurve:r,gradientAtPoint:z,gradientAtPointAlongCurveFrom:u,nearestPointOnCurve:s,pointOnCurve:U,pointAlongCurveFrom:N,perpendicularToCurveAt:v,locationAlongCurveFrom:$,getLength:k,lineIntersection:m,boxIntersection:S,boundingBoxIntersection:R,version:"0.9.0"};typeof zt<"u"&&(zt.jsBezier=H)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.Biltong={version:"0.4.0"};typeof zt<"u"&&(zt.Biltong=n);var e=function(P){return Object.prototype.toString.call(P)==="[object Array]"},i=function(P,h,d){return P=e(P)?P:[P.x,P.y],h=e(h)?h:[h.x,h.y],d(P,h)},r=n.gradient=function(P,h){return i(P,h,function(d,k){return k[0]==d[0]?k[1]>d[1]?1/0:-1/0:k[1]==d[1]?k[0]>d[0]?0:-0:(k[1]-d[1])/(k[0]-d[0])})},s=n.normal=function(P,h){return-1/r(P,h)},o=n.lineLength=function(P,h){return i(P,h,function(d,k){return Math.sqrt(Math.pow(k[1]-d[1],2)+Math.pow(k[0]-d[0],2))})},c=n.quadrant=function(P,h){return i(P,h,function(d,k){return k[0]>d[0]||k[0]==d[0]?k[1]>d[1]?2:1:k[1]>d[1]?3:4})},a=n.theta=function(P,h){return i(P,h,function(d,k){var N=r(d,k),$=Math.atan(N),z=c(d,k);return(z==4||z==3)&&($+=Math.PI),$<0&&($+=2*Math.PI),$})},l=n.intersects=function(P,h){var d=P.x,k=P.x+P.w,N=P.y,$=P.y+P.h,z=h.x,u=h.x+h.w,v=h.y,m=h.y+h.h;return d<=z&&z<=k&&N<=v&&v<=$||d<=u&&u<=k&&N<=v&&v<=$||d<=z&&z<=k&&N<=m&&m<=$||d<=u&&z<=k&&N<=m&&m<=$||z<=d&&d<=u&&v<=N&&N<=m||z<=k&&k<=u&&v<=N&&N<=m||z<=d&&d<=u&&v<=$&&$<=m||z<=k&&d<=u&&v<=$&&$<=m},b=n.encloses=function(P,h,d){var k=P.x,N=P.x+P.w,$=P.y,z=P.y+P.h,u=h.x,v=h.x+h.w,m=h.y,S=h.y+h.h,R=function(w,A,D,j){return d?w<=A&&D>=j:w<A&&D>j};return R(k,u,N,v)&&R($,m,z,S)},_=[null,[1,-1],[1,1],[-1,1],[-1,-1]],O=[null,[-1,-1],[-1,1],[1,1],[1,-1]],T=n.pointOnLine=function(P,h,d){var k=r(P,h),N=c(P,h),$=d>0?_[N]:O[N],z=Math.atan(k),u=Math.abs(d*Math.sin(z))*$[1],v=Math.abs(d*Math.cos(z))*$[0];return{x:P.x+v,y:P.y+u}},U=n.perpendicularLineTo=function(P,h,d){var k=r(P,h),N=Math.atan(-1/k),$=d/2*Math.sin(N),z=d/2*Math.cos(N);return[{x:h.x+z,y:h.y+$},{x:h.x-z,y:h.y-$}]}}).call(typeof window<"u"?window:zt);(function(){"use strict";function t(p,E,y,V,Y,W,K,et){return new Touch({target:E,identifier:g(),pageX:y,pageY:V,screenX:Y,screenY:W,clientX:K||Y,clientY:et||W})}function n(){var p=[];return Array.prototype.push.apply(p,arguments),p.item=function(E){return this[E]},p}function e(p,E,y,V,Y,W,K,et){return n(t.apply(null,arguments))}var i=this,r=function(p,E,y){y=y||p.parentNode;for(var V=y.querySelectorAll(E),Y=0;Y<V.length;Y++)if(V[Y]===p)return!0;return!1},s=function(p){return typeof p=="string"||p.constructor===String?document.getElementById(p):p},o=function(p){return p.srcElement||p.target},c=function(p,E,y,V){if(V){if(typeof p.path<"u"&&p.path.indexOf)return{path:p.path,end:p.path.indexOf(y)};var Y={path:[],end:-1},W=function(K){Y.path.push(K),K===y?Y.end=Y.path.length-1:K.parentNode!=null&&W(K.parentNode)};return W(E),Y}else return{path:[E],end:1}},a=function(p,E){for(var y=0,V=p.length;y<V&&p[y]!=E;y++);y<p.length&&p.splice(y,1)},l=1,b=function(p,E,y){var V=l++;return p.__ta=p.__ta||{},p.__ta[E]=p.__ta[E]||{},p.__ta[E][V]=y,y.__tauid=V,V},_=function(p,E,y){if(p.__ta&&p.__ta[E]&&delete p.__ta[E][y.__tauid],y.__taExtra){for(var V=0;V<y.__taExtra.length;V++)x(p,y.__taExtra[V][0],y.__taExtra[V][1]);y.__taExtra.length=0}y.__taUnstore&&y.__taUnstore()},O=function(p,E,y,V){if(p==null)return y;var Y=p.split(","),W=function(K){W.__tauid=y.__tauid;var et=o(K),nt=et,Q=c(K,et,E,p!=null);if(Q.end!=-1)for(var rt=0;rt<Q.end;rt++){nt=Q.path[rt];for(var dt=0;dt<Y.length;dt++)r(nt,Y[dt],E)&&y.apply(nt,arguments)}};return T(y,V,W),W},T=function(p,E,y){p.__taExtra=p.__taExtra||[],p.__taExtra.push([E,y])},U=function(p,E,y,V){if($&&u[E]){var Y=O(V,p,y,u[E]);X(p,u[E],Y,y)}E==="focus"&&p.getAttribute("tabindex")==null&&p.setAttribute("tabindex","1"),X(p,E,O(V,p,y,E),y)},P=function(p,E,y,V){if(p.__taSmartClicks==null){var Y=function(et){p.__tad=D(et)},W=function(et){p.__tau=D(et)},K=function(et){if(p.__tad&&p.__tau&&p.__tad[0]===p.__tau[0]&&p.__tad[1]===p.__tau[1])for(var nt=0;nt<p.__taSmartClicks.length;nt++)p.__taSmartClicks[nt].apply(o(et),[et])};U(p,"mousedown",Y,V),U(p,"mouseup",W,V),U(p,"click",K,V),p.__taSmartClicks=[]}p.__taSmartClicks.push(y),y.__taUnstore=function(){a(p.__taSmartClicks,y)}},h={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},d=function(p,E){return function(y,V,Y,W){if(V=="contextmenu"&&z)U(y,V,Y,W);else{if(y.__taTapHandler==null){var K=y.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},et=function(dt){for(var pt=o(dt),mt=c(dt,pt,y,W!=null),Mt=!1,gt=0;gt<mt.end;gt++){if(Mt)return;pt=mt.path[gt];for(var Dt=0;Dt<K.downSelectors.length;Dt++)if(K.downSelectors[Dt]==null||r(pt,K.downSelectors[Dt],y)){K.down=!0,setTimeout(Q,p),setTimeout(rt,E),Mt=!0;break}}},nt=function(dt){if(K.down){var pt=o(dt),mt,Mt;K.taps++;var gt=G(dt);for(var Dt in h)if(h.hasOwnProperty(Dt)){var tt=h[Dt];if(tt.touches===gt&&(tt.taps===1||tt.taps===K.taps))for(var J=0;J<K[Dt].length;J++){Mt=c(dt,pt,y,K[Dt][J][1]!=null);for(var it=0;it<Mt.end;it++)if(mt=Mt.path[it],K[Dt][J][1]==null||r(mt,K[Dt][J][1],y)){K[Dt][J][0].apply(mt,[dt]);break}}}}},Q=function(){K.down=!1},rt=function(){K.taps=0};U(y,"mousedown",et),U(y,"mouseup",nt)}y.__taTapHandler.downSelectors.push(W),y.__taTapHandler[V].push([Y,W]),Y.__taUnstore=function(){a(y.__taTapHandler[V],Y)}}}},k=function(p,E,y,V){for(var Y in y.__tamee[p])y.__tamee[p].hasOwnProperty(Y)&&y.__tamee[p][Y].apply(V,[E])},N=function(){var p=[];return function(E,y,V,Y){if(!E.__tamee){E.__tamee={over:!1,mouseenter:[],mouseexit:[]};var W=function(et){var nt=o(et);(Y==null&&nt==E&&!E.__tamee.over||r(nt,Y,E)&&(nt.__tamee==null||!nt.__tamee.over))&&(k("mouseenter",et,E,nt),nt.__tamee=nt.__tamee||{},nt.__tamee.over=!0,p.push(nt))},K=function(et){for(var nt=o(et),Q=0;Q<p.length;Q++)nt==p[Q]&&!r(et.relatedTarget||et.toElement,"*",nt)&&(nt.__tamee.over=!1,p.splice(Q,1),k("mouseexit",et,E,nt))};X(E,"mouseover",O(Y,E,W,"mouseover"),W),X(E,"mouseout",O(Y,E,K,"mouseout"),K)}V.__taUnstore=function(){delete E.__tamee[y][V.__tauid]},b(E,y,V),E.__tamee[y][V.__tauid]=V}},$="ontouchstart"in document.documentElement||navigator.maxTouchPoints,z="onmousedown"in document.documentElement,u={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},v="touchstart",m="touchend",S="touchmove",R=function(){var p=-1;if(navigator.appName=="Microsoft Internet Explorer"){var E=navigator.userAgent,y=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");y.exec(E)!=null&&(p=parseFloat(RegExp.$1))}return p}(),w=R>-1&&R<9,A=function(p,E){if(p==null)return[0,0];var y=L(p),V=M(y,0);return[V[E+"X"],V[E+"Y"]]},D=function(p){return p==null?[0,0]:w?[p.clientX+document.documentElement.scrollLeft,p.clientY+document.documentElement.scrollTop]:A(p,"page")},j=function(p){return A(p,"screen")},H=function(p){return A(p,"client")},M=function(p,E){return p.item?p.item(E):p[E]},L=function(p){return p.touches&&p.touches.length>0?p.touches:p.changedTouches&&p.changedTouches.length>0?p.changedTouches:p.targetTouches&&p.targetTouches.length>0?p.targetTouches:[p]},G=function(p){return L(p).length},X=function(p,E,y,V){if(b(p,E,y),V.__tauid=y.__tauid,p.addEventListener)p.addEventListener(E,y,!1);else if(p.attachEvent){var Y=E+y.__tauid;p["e"+Y]=y,p[Y]=function(){p["e"+Y]&&p["e"+Y](window.event)},p.attachEvent("on"+E,p[Y])}},x=function(p,E,y){y!=null&&C(p,function(){var V=s(this);if(_(V,E,y),y.__tauid!=null){if(V.removeEventListener)V.removeEventListener(E,y,!1),$&&u[E]&&V.removeEventListener(u[E],y,!1);else if(this.detachEvent){var Y=E+y.__tauid;V[Y]&&V.detachEvent("on"+E,V[Y]),V[Y]=null,V["e"+Y]=null}}y.__taTouchProxy&&x(p,y.__taTouchProxy[1],y.__taTouchProxy[0])})},C=function(p,E){if(p!=null){p=typeof Window<"u"&&typeof p.top!="unknown"&&p==p.top?[p]:typeof p!="string"&&p.tagName==null&&p.length!=null?p:typeof p=="string"?document.querySelectorAll(p):[p];for(var y=0;y<p.length;y++)E.apply(p[y])}},g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var E=Math.random()*16|0,y=p=="x"?E:E&3|8;return y.toString(16)})};i.Mottle=function(p){p=p||{};var E=p.clickThreshold||250,y=p.dblClickThreshold||450,V=new N,Y=new d(E,y),W=p.smartClicks,K=function(et,nt,Q,rt){Q!=null&&C(et,function(){var dt=s(this);W&&nt==="click"?P(dt,nt,Q,rt):nt==="tap"||nt==="dbltap"||nt==="contextmenu"?Y(dt,nt,Q,rt):nt==="mouseenter"||nt=="mouseexit"?V(dt,nt,Q,rt):U(dt,nt,Q,rt)})};this.remove=function(et){return C(et,function(){var nt=s(this);if(nt.__ta){for(var Q in nt.__ta)if(nt.__ta.hasOwnProperty(Q))for(var rt in nt.__ta[Q])nt.__ta[Q].hasOwnProperty(rt)&&x(nt,Q,nt.__ta[Q][rt])}nt.parentNode&&nt.parentNode.removeChild(nt)}),this},this.on=function(et,nt,Q,rt){var dt=arguments[0],pt=arguments.length==4?arguments[2]:null,mt=arguments[1],Mt=arguments[arguments.length-1];return K(dt,mt,Mt,pt),this},this.off=function(et,nt,Q){return x(et,nt,Q),this},this.trigger=function(et,nt,Q,rt){var dt=z&&(typeof MouseEvent>"u"||Q==null||Q.constructor===MouseEvent),pt=$&&!z&&u[nt]?u[nt]:nt,mt=!($&&!z&&u[nt]),Mt=D(Q),gt=j(Q),Dt=H(Q);return C(et,function(){var tt=s(this),J;Q=Q||{screenX:gt[0],screenY:gt[1],clientX:Dt[0],clientY:Dt[1]};var it=function(Xt){rt&&(Xt.payload=rt)},ct={TouchEvent:function(Xt){var ke=e(window,tt,0,Mt[0],Mt[1],gt[0],gt[1],Dt[0],Dt[1]),tn=Xt.initTouchEvent||Xt.initEvent;tn(pt,!0,!0,window,null,gt[0],gt[1],Dt[0],Dt[1],!1,!1,!1,!1,ke,ke,ke,1,0)},MouseEvents:function(Xt){Xt.initMouseEvent(pt,!0,!0,window,0,gt[0],gt[1],Dt[0],Dt[1],!1,!1,!1,!1,1,tt)}};if(document.createEvent){var Et=!mt&&!dt&&$&&u[nt],Ut=Et?"TouchEvent":"MouseEvents";J=document.createEvent(Ut),ct[Ut](J),it(J),tt.dispatchEvent(J)}else document.createEventObject&&(J=document.createEventObject(),J.eventType=J.eventName=pt,J.screenX=gt[0],J.screenY=gt[1],J.clientX=Dt[0],J.clientY=Dt[1],it(J),tt.fireEvent("on"+pt,J))}),this}},i.Mottle.consume=function(p,E){p.stopPropagation?p.stopPropagation():p.returnValue=!1,!E&&p.preventDefault&&p.preventDefault()},i.Mottle.pageLocation=D,i.Mottle.setForceTouchEvents=function(p){$=p},i.Mottle.setForceMouseEvents=function(p){z=p},i.Mottle.version="0.8.0",typeof zt<"u"&&(zt.Mottle=i.Mottle)}).call(typeof window>"u"?zt:window);(function(){"use strict";var t=this,n=function(x,C,g){return x.indexOf(C)===-1?(g?x.unshift(C):x.push(C),!0):!1},e=function(x,C){var g=x.indexOf(C);g!==-1&&x.splice(g,1)},i=function(x,C){for(var g=[],p=0;p<x.length;p++)C.indexOf(x[p])===-1&&g.push(x[p]);return g},r=function(x){return x==null?!1:typeof x=="string"||x.constructor===String},s=function(x){var C=x.getBoundingClientRect(),g=document.body,p=document.documentElement,E=window.pageYOffset||p.scrollTop||g.scrollTop,y=window.pageXOffset||p.scrollLeft||g.scrollLeft,V=p.clientTop||g.clientTop||0,Y=p.clientLeft||g.clientLeft||0,W=C.top+E-V,K=C.left+y-Y;return{top:Math.round(W),left:Math.round(K)}},o=function(x,C,g){g=g||x.parentNode;for(var p=g.querySelectorAll(C),E=0;E<p.length;E++)if(p[E]===x)return!0;return!1},c=function(x,C,g){if(o(C,g,x))return C;for(var p=C.parentNode;p!=null&&p!==x;){if(o(p,g,x))return p;p=p.parentNode}},a=function(x,C,g){for(var p=null,E=C.getAttribute("katavorio-draggable"),y=E!=null?"[katavorio-draggable='"+E+"'] ":"",V=0;V<x.length;V++)if(p=c(C,g,y+x[V].selector),p!=null){if(x[V].filter){var Y=o(g,x[V].filter,p),W=x[V].filterExclude===!0;if(W&&!Y||Y)return null}return[x[V],p]}return null},l=function(){var x=-1;if(navigator.appName==="Microsoft Internet Explorer"){var C=navigator.userAgent,g=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");g.exec(C)!=null&&(x=parseFloat(RegExp.$1))}return x}(),b=10,_=10,O=l>-1&&l<9,T=l===9,U=function(x){if(O)return[x.clientX+document.documentElement.scrollLeft,x.clientY+document.documentElement.scrollTop];var C=h(x),g=P(C,0);return T?[g.pageX||g.clientX,g.pageY||g.clientY]:[g.pageX,g.pageY]},P=function(x,C){return x.item?x.item(C):x[C]},h=function(x){return x.touches&&x.touches.length>0?x.touches:x.changedTouches&&x.changedTouches.length>0?x.changedTouches:x.targetTouches&&x.targetTouches.length>0?x.targetTouches:[x]},d={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},k="katavorio-drag-scope",N=["stop","start","drag","drop","over","out","beforeStart"],$=function(){},z=function(){return!0},u=function(x,C,g){for(var p=0;p<x.length;p++)x[p]!=g&&C(x[p])},v=function(x,C,g,p){u(x,function(E){E.setActive(C),C&&E.updatePosition(),g&&E.setHover(p,C)})},m=function(x,C){if(x!=null){x=!r(x)&&x.tagName==null&&x.length!=null?x:[x];for(var g=0;g<x.length;g++)C.apply(x[g],[x[g]])}},S=function(x){x.stopPropagation?(x.stopPropagation(),x.preventDefault()):x.returnValue=!1},R="input,textarea,select,button,option",w=function(x,C,g){var p=x.srcElement||x.target;return!o(p,g.getInputFilterSelector(),C)},A=function(x,C,g,p){this.params=C||{},this.el=x,this.params.addClass(this.el,this._class),this.uuid=L();var E=!0;return this.setEnabled=function(y){E=y},this.isEnabled=function(){return E},this.toggleEnabled=function(){E=!E},this.setScope=function(y){this.scopes=y?y.split(/\s+/):[p]},this.addScope=function(y){var V={};m(this.scopes,function(W){V[W]=!0}),m(y?y.split(/\s+/):[],function(W){V[W]=!0}),this.scopes=[];for(var Y in V)this.scopes.push(Y)},this.removeScope=function(y){var V={};m(this.scopes,function(W){V[W]=!0}),m(y?y.split(/\s+/):[],function(W){delete V[W]}),this.scopes=[];for(var Y in V)this.scopes.push(Y)},this.toggleScope=function(y){var V={};m(this.scopes,function(W){V[W]=!0}),m(y?y.split(/\s+/):[],function(W){V[W]?delete V[W]:V[W]=!0}),this.scopes=[];for(var Y in V)this.scopes.push(Y)},this.setScope(C.scope),this.k=C.katavorio,C.katavorio},D=function(){return!0},j=function(){return!1},H=function(x,C,g,p){this._class=g.draggable;var E=A.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var y=[0,0],V=null,Y=null,W=[0,0],K=!1,et=[0,0],nt=this.params.consumeStartEvent!==!1,Q=this.el,rt=this.params.clone,dt=this.params.scroll,pt=C.multipleDrop!==!1,mt=!1,Mt,gt,Dt=null,tt=[],J=null,it=C.ghostProxyParent,ct,Et,Ut,Xt;if(C.ghostProxy===!0?Mt=D:C.ghostProxy&&typeof C.ghostProxy=="function"?Mt=C.ghostProxy:Mt=function(ot,St){return J&&J.useGhostProxy?J.useGhostProxy(ot,St):!1},C.makeGhostProxy?gt=C.makeGhostProxy:gt=function(ot){return J&&J.makeGhostProxy?J.makeGhostProxy(ot):ot.cloneNode(!0)},C.selector){var ke=x.getAttribute("katavorio-draggable");ke==null&&(ke=""+new Date().getTime(),x.setAttribute("katavorio-draggable",ke)),tt.push(C)}var tn=C.snapThreshold,Or=function(ot,St,Ot,It,jt){var $t=Math.floor(ot[0]/St),Se=St*$t,f=Se+St,F=Math.abs(ot[0]-Se)<=It?Se:Math.abs(f-ot[0])<=It?f:ot[0],I=Math.floor(ot[1]/Ot),B=Ot*I,q=B+Ot,Z=Math.abs(ot[1]-B)<=jt?B:Math.abs(q-ot[1])<=jt?q:ot[1];return[F,Z]};this.posses=[],this.posseRoles={},this.toGrid=function(ot){if(this.params.grid==null)return ot;var St=this.params.grid?this.params.grid[0]/2:tn||b/2,Ot=this.params.grid?this.params.grid[1]/2:tn||_/2;return Or(ot,this.params.grid[0],this.params.grid[1],St,Ot)},this.snap=function(ot,St){if(Q!=null){ot=ot||(this.params.grid?this.params.grid[0]:b),St=St||(this.params.grid?this.params.grid[1]:_);var Ot=this.params.getPosition(Q),It=this.params.grid?this.params.grid[0]/2:tn,jt=this.params.grid?this.params.grid[1]/2:tn,$t=Or(Ot,ot,St,It,jt);return this.params.setPosition(Q,$t),$t}},this.setUseGhostProxy=function(ot){Mt=ot?D:j};var ln,$n=function(ot){return C.allowNegative===!1?[Math.max(0,ot[0]),Math.max(0,ot[1])]:ot},en=function(ot){ln=typeof ot=="function"?ot:ot?function(St,Ot,It,jt){return $n([Math.max(0,Math.min(It.w-jt[0],St[0])),Math.max(0,Math.min(It.h-jt[1],St[1]))])}.bind(this):function(St){return $n(St)}}.bind(this);en(typeof this.params.constrain=="function"?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(ot){en(ot)};var cn=function(ot,St,Ot,It){return J!=null&&J.constrain&&typeof J.constrain=="function"?J.constrain(ot,St,Ot,It):ln(ot,St,Ot,It)},ui;this.setRevert=function(ot){ui=ot},this.params.revert&&(ui=this.params.revert);var es=function(ot){return typeof ot=="function"?(ot._katavorioId=L(),ot._katavorioId):ot},un={},Wn=function(ot){for(var St in un){var Ot=un[St],It=Ot[0](ot);if(Ot[1]&&(It=!It),!It)return!1}return!0},In=this.setFilter=function(ot,St){if(ot){var Ot=es(ot);un[Ot]=[function(It){var jt=It.srcElement||It.target,$t;return r(ot)?$t=o(jt,ot,x):typeof ot=="function"&&($t=ot(It,x)),$t},St!==!1]}},kr=this.addFilter=In,Fi=this.removeFilter=function(ot){var St=typeof ot=="function"?ot._katavorioId:ot;delete un[St]};this.clearAllFilters=function(){un={}},this.canDrag=this.params.canDrag||z;var Rr,ie=[],we=[];this.addSelector=function(ot){ot.selector&&tt.push(ot)},this.downListener=function(ot){if(!ot.defaultPrevented){var St=this.rightButtonCanDrag||ot.which!==3&&ot.button!==2;if(St&&this.isEnabled()&&this.canDrag()){var Ot=Wn(ot)&&w(ot,this.el,this.k);if(Ot){if(J=null,Dt=null,tt.length>0){var It=a(tt,this.el,ot.target||ot.srcElement);if(It!=null&&(J=It[0],Dt=It[1]),Dt==null)return}else Dt=this.el;if(rt)if(Q=Dt.cloneNode(!0),this.params.addClass(Q,d.clonedDrag),Q.setAttribute("id",null),Q.style.position="absolute",this.params.parent!=null){var jt=this.params.getPosition(this.el);Q.style.left=jt[0]+"px",Q.style.top=jt[1]+"px",this.params.parent.appendChild(Q)}else{var $t=s(Dt);Q.style.left=$t.left+"px",Q.style.top=$t.top+"px",document.body.appendChild(Q)}else Q=Dt;nt&&S(ot),y=U(ot),Q&&Q.parentNode&&(et=[Q.parentNode.scrollLeft,Q.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),E.markSelection(this),E.markPosses(this),this.params.addClass(document.body,g.noSelect),dn("beforeStart",{el:this.el,pos:V,e:ot,drag:this})}else this.params.consumeFilteredEvents&&S(ot)}}}.bind(this),this.moveListener=function(ot){if(y){if(!K){var St=dn("start",{el:this.el,pos:V,e:ot,drag:this});if(St!==!1){if(!y)return;this.mark(!0),K=!0}else this.abort()}if(y){we.length=0;var Ot=U(ot),It=Ot[0]-y[0],jt=Ot[1]-y[1],$t=this.params.ignoreZoom?1:E.getZoom();Q&&Q.parentNode&&(It+=Q.parentNode.scrollLeft-et[0],jt+=Q.parentNode.scrollTop-et[1]),It/=$t,jt/=$t,this.moveBy(It,jt,ot),E.updateSelection(It,jt,this),E.updatePosses(It,jt,this)}}}.bind(this),this.upListener=function(ot){y&&(y=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,g.noSelect),this.unmark(ot),E.unmarkSelection(this,ot),E.unmarkPosses(this,ot),this.stop(ot),E.notifyPosseDragStop(this,ot),K=!1,we.length=0,rt?(Q&&Q.parentNode&&Q.parentNode.removeChild(Q),Q=null):ui&&ui(Q,this.params.getPosition(Q))===!0&&(this.params.setPosition(Q,V),dn("revert",Q)))}.bind(this),this.getFilters=function(){return un},this.abort=function(){y!=null&&this.upListener()},this.getDragElement=function(ot){return ot?Dt||this.el:Q||this.el};var fe={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};C.events.start&&fe.start.push(C.events.start),C.events.beforeStart&&fe.beforeStart.push(C.events.beforeStart),C.events.stop&&fe.stop.push(C.events.stop),C.events.drag&&fe.drag.push(C.events.drag),C.events.revert&&fe.revert.push(C.events.revert),this.on=function(ot,St){fe[ot]&&fe[ot].push(St)},this.off=function(ot,St){if(fe[ot]){for(var Ot=[],It=0;It<fe[ot].length;It++)fe[ot][It]!==St&&Ot.push(fe[ot][It]);fe[ot]=Ot}};var dn=function(ot,St){var Ot=null;if(J&&J[ot])Ot=J[ot](St);else if(fe[ot])for(var It=0;It<fe[ot].length;It++)try{var jt=fe[ot][It](St);jt!=null&&(Ot=jt)}catch{}return Ot};this.notifyStart=function(ot){dn("start",{el:this.el,pos:this.params.getPosition(Q),e:ot,drag:this})},this.stop=function(ot,St){if(St||K){var Ot=[],It=E.getSelection(),jt=this.params.getPosition(Q);if(It.length>0)for(var $t=0;$t<It.length;$t++){var Se=this.params.getPosition(It[$t].el);Ot.push([It[$t].el,{left:Se[0],top:Se[1]},It[$t]])}else Ot.push([Q,{left:jt[0],top:jt[1]},this]);dn("stop",{el:Q,pos:hn||jt,finalPos:jt,e:ot,drag:this,selection:Ot})}},this.mark=function(ot){V=this.params.getPosition(Q),Y=this.params.getPosition(Q,!0),W=[Y[0]-V[0],Y[1]-V[1]],this.size=this.params.getSize(Q),ie=E.getMatchingDroppables(this),v(ie,!0,!1,this),this.params.addClass(Q,this.params.dragClass||g.drag);var St;this.params.getConstrainingRectangle?St=this.params.getConstrainingRectangle(Q):St=this.params.getSize(Q.parentNode),Rr={w:St[0],h:St[1]},Ut=0,Xt=0,ot&&E.notifySelectionDragStart(this)};var hn;this.unmark=function(ot,St){if(v(ie,!1,!0,this),mt&&Mt(Dt,Q)?(hn=[Q.offsetLeft-Ut,Q.offsetTop-Xt],Q.parentNode.removeChild(Q),Q=Dt):hn=null,this.params.removeClass(Q,this.params.dragClass||g.drag),ie.length=0,mt=!1,!St){we.length>0&&hn&&C.setPosition(Dt,hn),we.sort(G);for(var Ot=0;Ot<we.length;Ot++){var It=we[Ot].drop(this,ot);if(It===!0)break}}},this.moveBy=function(ot,St,Ot){we.length=0;var It=this.toGrid([V[0]+ot,V[1]+St]),jt=cn(It,Q,Rr,this.size);if(Mt(this.el,Q))if(It[0]!==jt[0]||It[1]!==jt[1]){if(!mt){var $t=gt(Dt);C.addClass($t,d.ghostProxy),it?(it.appendChild($t),ct=C.getPosition(Dt.parentNode,!0),Et=C.getPosition(C.ghostProxyParent,!0),Ut=ct[0]-Et[0],Xt=ct[1]-Et[1]):Dt.parentNode.appendChild($t),Q=$t,mt=!0}jt=It}else mt&&(Q.parentNode.removeChild(Q),Q=Dt,mt=!1,ct=null,Et=null,Ut=0,Xt=0);var Se={x:jt[0],y:jt[1],w:this.size[0],h:this.size[1]},f={x:Se.x+W[0],y:Se.y+W[1],w:Se.w,h:Se.h},F=null;this.params.setPosition(Q,[jt[0]+Ut,jt[1]+Xt]);for(var I=0;I<ie.length;I++){var B={x:ie[I].pagePosition[0],y:ie[I].pagePosition[1],w:ie[I].size[0],h:ie[I].size[1]};this.params.intersects(f,B)&&(pt||F==null||F===ie[I].el)&&ie[I].canDrop(this)?(F||(F=ie[I].el),we.push(ie[I]),ie[I].setHover(this,!0,Ot)):ie[I].isHover()&&ie[I].setHover(this,!1,Ot)}dn("drag",{el:this.el,pos:jt,e:Ot,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?In(this.params.handle,!1):In(this.params.filter,this.params.filterExclude)},M=function(x,C,g,p){this._class=g.droppable,this.params=C||{},this.rank=C.rank||0,this._activeClass=this.params.activeClass||g.active,this._hoverClass=this.params.hoverClass||g.hover,A.apply(this,arguments);var E=!1;this.allowLoopback=this.params.allowLoopback!==!1,this.setActive=function(y){this.params[y?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(y){return!0},this.isHover=function(){return E},this.setHover=function(y,V,Y){(V||this.el._katavorioDragHover==null||this.el._katavorioDragHover===y.el._katavorio)&&(this.params[V?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=V?y.el._katavorio:null,E!==V&&this.params.events[V?"over":"out"]({el:this.el,e:Y,drag:y,drop:this}),E=V)},this.drop=function(y,V){return this.params.events.drop({drag:y,e:V,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,E=null}},L=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var C=Math.random()*16|0,g=x==="x"?C:C&3|8;return g.toString(16)})},G=function(x,C){return x.rank<C.rank?1:x.rank>C.rank?-1:0},X=function(x){return x==null||(x=typeof x=="string"||x.constructor===String?document.getElementById(x):x,x==null)?null:(x._katavorio=x._katavorio||L(),x)};t.Katavorio=function(x){var C=[],g={};this._dragsByScope={},this._dropsByScope={};var p=1,E=function(tt,J){m(tt,function(it){for(var ct=0;ct<it.scopes.length;ct++)J[it.scopes[ct]]=J[it.scopes[ct]]||[],J[it.scopes[ct]].push(it)})},y=function(tt,J){var it=0;return m(tt,function(ct){for(var Et=0;Et<ct.scopes.length;Et++)if(J[ct.scopes[Et]]){var Ut=x.indexOf(J[ct.scopes[Et]],ct);Ut!==-1&&(J[ct.scopes[Et]].splice(Ut,1),it++)}}),it>0},V=this.getMatchingDroppables=function(tt){for(var J=[],it={},ct=0;ct<tt.scopes.length;ct++){var Et=this._dropsByScope[tt.scopes[ct]];if(Et)for(var Ut=0;Ut<Et.length;Ut++)Et[Ut].canDrop(tt)&&!it[Et[Ut].uuid]&&(Et[Ut].allowLoopback||Et[Ut].el!==tt.el)&&(it[Et[Ut].uuid]=!0,J.push(Et[Ut]))}return J.sort(G),J},Y=function(tt){tt=tt||{};var J={events:{}},it;for(it in x)J[it]=x[it];for(it in tt)J[it]=tt[it];for(it=0;it<N.length;it++)J.events[N[it]]=tt[N[it]]||$;return J.katavorio=this,J}.bind(this),W=function(tt,J){for(var it=0;it<N.length;it++)J[N[it]]&&tt.on(N[it],J[N[it]])}.bind(this),K={},et=x.css||{},nt=x.scope||k;for(var Q in d)K[Q]=d[Q];for(var Q in et)K[Q]=et[Q];var rt=x.inputFilterSelector||R;this.getInputFilterSelector=function(){return rt},this.setInputFilterSelector=function(tt){return rt=tt,this},this.draggable=function(tt,J){var it=[];return m(tt,function(ct){if(ct=X(ct),ct!=null)if(ct._katavorioDrag==null){var Et=Y(J);ct._katavorioDrag=new H(ct,Et,K,nt),E(ct._katavorioDrag,this._dragsByScope),it.push(ct._katavorioDrag),x.addClass(ct,Et.selector?K.delegatedDraggable:K.draggable)}else W(ct._katavorioDrag,J)}.bind(this)),it},this.droppable=function(tt,J){var it=[];return m(tt,function(ct){if(ct=X(ct),ct!=null){var Et=new M(ct,Y(J),K,nt);ct._katavorioDrop=ct._katavorioDrop||[],ct._katavorioDrop.push(Et),E(Et,this._dropsByScope),it.push(Et),x.addClass(ct,K.droppable)}}.bind(this)),it},this.select=function(tt){return m(tt,function(){var J=X(this);J&&J._katavorioDrag&&(g[J._katavorio]||(C.push(J._katavorioDrag),g[J._katavorio]=[J,C.length-1],x.addClass(J,K.selected)))}),this},this.deselect=function(tt){return m(tt,function(){var J=X(this);if(J&&J._katavorio){var it=g[J._katavorio];if(it){for(var ct=[],Et=0;Et<C.length;Et++)C[Et].el!==J&&ct.push(C[Et]);C=ct,delete g[J._katavorio],x.removeClass(J,K.selected)}}}),this},this.deselectAll=function(){for(var tt in g){var J=g[tt];x.removeClass(J[0],K.selected)}C.length=0,g={}},this.markSelection=function(tt){u(C,function(J){J.mark()},tt)},this.markPosses=function(tt){tt.posses&&m(tt.posses,function(J){tt.posseRoles[J]&&gt[J]&&u(gt[J].members,function(it){it.mark()},tt)})},this.unmarkSelection=function(tt,J){u(C,function(it){it.unmark(J)},tt)},this.unmarkPosses=function(tt,J){tt.posses&&m(tt.posses,function(it){tt.posseRoles[it]&&gt[it]&&u(gt[it].members,function(ct){ct.unmark(J,!0)},tt)})},this.getSelection=function(){return C.slice(0)},this.updateSelection=function(tt,J,it){u(C,function(ct){ct.moveBy(tt,J)},it)};var dt=function(tt,J){J.posses&&m(J.posses,function(it){J.posseRoles[it]&&gt[it]&&u(gt[it].members,function(ct){tt(ct)},J)})};this.updatePosses=function(tt,J,it){dt(function(ct){ct.moveBy(tt,J)},it)},this.notifyPosseDragStop=function(tt,J){dt(function(it){it.stop(J,!0)},tt)},this.notifySelectionDragStop=function(tt,J){u(C,function(it){it.stop(J,!0)},tt)},this.notifySelectionDragStart=function(tt,J){u(C,function(it){it.notifyStart(J)},tt)},this.setZoom=function(tt){p=tt},this.getZoom=function(){return p};var pt=function(tt,J,it,ct){m(tt,function(Et){y(Et,it),Et[ct](J),E(Et,it)})};m(["set","add","remove","toggle"],function(tt){this[tt+"Scope"]=function(J,it){pt(J._katavorioDrag,it,this._dragsByScope,tt+"Scope"),pt(J._katavorioDrop,it,this._dropsByScope,tt+"Scope")}.bind(this),this[tt+"DragScope"]=function(J,it){pt(J.constructor===H?J:J._katavorioDrag,it,this._dragsByScope,tt+"Scope")}.bind(this),this[tt+"DropScope"]=function(J,it){pt(J.constructor===M?J:J._katavorioDrop,it,this._dropsByScope,tt+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(tt,J){for(var it in this._dragsByScope)u(this._dragsByScope[it],function(ct){ct.snap(tt,J)})},this.getDragsForScope=function(tt){return this._dragsByScope[tt]},this.getDropsForScope=function(tt){return this._dropsByScope[tt]};var mt=function(tt,J,it){if(tt=X(tt),tt[J]){var ct=C.indexOf(tt[J]);ct>=0&&C.splice(ct,1),y(tt[J],it)&&m(tt[J],function(Et){Et.destroy()}),delete tt[J]}},Mt=function(tt,J,it,ct){tt=X(tt),tt[J]&&tt[J].off(it,ct)};this.elementRemoved=function(tt){tt._katavorioDrag&&this.destroyDraggable(tt),tt._katavorioDrop&&this.destroyDroppable(tt)},this.destroyDraggable=function(tt,J,it){arguments.length===1?mt(tt,"_katavorioDrag",this._dragsByScope):Mt(tt,"_katavorioDrag",J,it)},this.destroyDroppable=function(tt,J,it){arguments.length===1?mt(tt,"_katavorioDrop",this._dropsByScope):Mt(tt,"_katavorioDrop",J,it)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},C=[],g={},gt={}};var gt={},Dt=function(tt,J,it){var ct=r(J)?J:J.id,Et=r(J)?!0:J.active!==!1,Ut=gt[ct]||function(){var Xt={name:ct,members:[]};return gt[ct]=Xt,Xt}();return m(tt,function(Xt){if(Xt._katavorioDrag){if(it&&Xt._katavorioDrag.posseRoles[Ut.name]!=null)return;n(Ut.members,Xt._katavorioDrag),n(Xt._katavorioDrag.posses,Ut.name),Xt._katavorioDrag.posseRoles[Ut.name]=Et}}),Ut};this.addToPosse=function(tt,J){for(var it=[],ct=1;ct<arguments.length;ct++)it.push(Dt(tt,arguments[ct]));return it.length===1?it[0]:it},this.setPosse=function(tt,J){for(var it=[],ct=1;ct<arguments.length;ct++)it.push(Dt(tt,arguments[ct],!0).name);return m(tt,function(Et){if(Et._katavorioDrag){var Ut=i(Et._katavorioDrag.posses,it),Xt=[];Array.prototype.push.apply(Xt,Et._katavorioDrag.posses);for(var ke=0;ke<Ut.length;ke++)this.removeFromPosse(Et,Ut[ke])}}.bind(this)),it.length===1?it[0]:it},this.removeFromPosse=function(tt,J){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var it=1;it<arguments.length;it++)J=arguments[it],m(tt,function(ct){if(ct._katavorioDrag&&ct._katavorioDrag.posses){var Et=ct._katavorioDrag;m(J,function(Ut){e(gt[Ut].members,Et),e(Et.posses,Ut),delete Et.posseRoles[Ut]})}})},this.removeFromAllPosses=function(tt){m(tt,function(J){if(J._katavorioDrag&&J._katavorioDrag.posses){var it=J._katavorioDrag;m(it.posses,function(ct){e(gt[ct].members,it)}),it.posses.length=0,it.posseRoles={}}})},this.setPosseState=function(tt,J,it){var ct=gt[J];ct&&m(tt,function(Et){Et._katavorioDrag&&Et._katavorioDrag.posses&&(Et._katavorioDrag.posseRoles[ct.name]=it)})}},t.Katavorio.version="1.0.0",typeof zt<"u"&&(zt.Katavorio=t.Katavorio)}).call(typeof window<"u"?window:zt);(function(){var t=this;t.jsPlumbUtil=t.jsPlumbUtil||{};var n=t.jsPlumbUtil;typeof zt<"u"&&(zt.jsPlumbUtil=n);function e(x){return Object.prototype.toString.call(x)==="[object Array]"}n.isArray=e;function i(x){return Object.prototype.toString.call(x)==="[object Number]"}n.isNumber=i;function r(x){return typeof x=="string"}n.isString=r;function s(x){return typeof x=="boolean"}n.isBoolean=s;function o(x){return x==null}n.isNull=o;function c(x){return x==null?!1:Object.prototype.toString.call(x)==="[object Object]"}n.isObject=c;function a(x){return Object.prototype.toString.call(x)==="[object Date]"}n.isDate=a;function l(x){return Object.prototype.toString.call(x)==="[object Function]"}n.isFunction=l;function b(x){return l(x)&&x.name!=null&&x.name.length>0}n.isNamedFunction=b;function _(x){for(var C in x)if(x.hasOwnProperty(C))return!1;return!0}n.isEmpty=_;function O(x){if(r(x))return""+x;if(s(x))return!!x;if(a(x))return new Date(x.getTime());if(l(x))return x;if(e(x)){for(var C=[],g=0;g<x.length;g++)C.push(O(x[g]));return C}else if(c(x)){var p={};for(var E in x)p[E]=O(x[E]);return p}else return x}n.clone=O;function T(x,C,g,p){var E={},y,V,Y={};for(g=g||[],p=p||[],V=0;V<g.length;V++)E[g[V]]=!0;for(V=0;V<p.length;V++)Y[p[V]]=!0;var W=O(x);for(V in C)if(W[V]==null||Y[V])W[V]=C[V];else if(r(C[V])||s(C[V]))E[V]?(y=[],y.push.apply(y,e(W[V])?W[V]:[W[V]]),y.push.apply(y,s(C[V])?C[V]:[C[V]]),W[V]=y):W[V]=C[V];else if(e(C[V]))y=[],e(W[V])&&y.push.apply(y,W[V]),y.push.apply(y,C[V]),W[V]=y;else if(c(C[V])){c(W[V])||(W[V]={});for(var K in C[V])W[V][K]=C[V][K]}return W}n.merge=T;function U(x,C,g){if(x!=null){var p=x,E=p;return C.replace(/([^\.])+/g,function(y,V,Y,W){var K=y.match(/([^\[0-9]+){1}(\[)([0-9+])/),et=Y+y.length>=W.length,nt=function(){return E[K[1]]||function(){return E[K[1]]=[],E[K[1]]}()};if(et)K?nt()[K[3]]=g:E[y]=g;else if(K){var Q=nt();E=Q[K[3]]||function(){return Q[K[3]]={},Q[K[3]]}()}else E=E[y]||function(){return E[y]={},E[y]}();return""}),x}}n.replace=U;function P(x,C,g){for(var p=0;p<g.length;p++){var E=g[p][0][g[p][1]].apply(g[p][0],g[p][2]);if(E===C)return E}return x}n.functionChain=P;function h(x,C,g,p){var E=function(V){var Y=V.match(/(\${.*?})/g);if(Y!=null)for(var W=0;W<Y.length;W++){var K=C[Y[W].substring(2,Y[W].length-1)]||"";K!=null&&(V=V.replace(Y[W],K))}return V},y=function(V){if(V!=null){if(r(V))return E(V);if(l(V)&&!p&&(g==null||(V.name||"").indexOf(g)===0))return V(C);if(e(V)){for(var Y=[],W=0;W<V.length;W++)Y.push(y(V[W]));return Y}else if(c(V)){var K={};for(var et in V)K[et]=y(V[et]);return K}else return V}};return y(x)}n.populate=h;function d(x,C){if(x){for(var g=0;g<x.length;g++)if(C(x[g]))return g}return-1}n.findWithFunction=d;function k(x,C){var g=d(x,C);return g>-1&&x.splice(g,1),g!==-1}n.removeWithFunction=k;function N(x,C){var g=x.indexOf(C);return g>-1&&x.splice(g,1),g!==-1}n.remove=N;function $(x,C,g){d(x,g)===-1&&x.push(C)}n.addWithFunction=$;function z(x,C,g,p){var E=x[C];return E==null&&(E=[],x[C]=E),E[p?"unshift":"push"](g),E}n.addToList=z;function u(x,C,g){return x.indexOf(C)===-1?(g?x.unshift(C):x.push(C),!0):!1}n.suggest=u;function v(x,C,g){var p;C=e(C)?C:[C];var E=function(W){for(var K=W.__proto__;K!=null;)if(K.prototype!=null){for(var et in K.prototype)K.prototype.hasOwnProperty(et)&&!x.prototype.hasOwnProperty(et)&&(x.prototype[et]=K.prototype[et]);K=K.prototype.__proto__}else K=null};for(p=0;p<C.length;p++){for(var y in C[p].prototype)C[p].prototype.hasOwnProperty(y)&&!x.prototype.hasOwnProperty(y)&&(x.prototype[y]=C[p].prototype[y]);E(C[p])}var V=function(W,K){return function(){for(p=0;p<C.length;p++)C[p].prototype[W]&&C[p].prototype[W].apply(this,arguments);return K.apply(this,arguments)}},Y=function(W){for(var K in W)x.prototype[K]=V(K,W[K])};if(arguments.length>2)for(p=2;p<arguments.length;p++)Y(arguments[p]);return x}n.extend=v;for(var m=[],S=0;S<256;S++)m[S]=(S<16?"0":"")+S.toString(16);function R(){var x=Math.random()*4294967295|0,C=Math.random()*4294967295|0,g=Math.random()*4294967295|0,p=Math.random()*4294967295|0;return m[x&255]+m[x>>8&255]+m[x>>16&255]+m[x>>24&255]+"-"+m[C&255]+m[C>>8&255]+"-"+m[C>>16&15|64]+m[C>>24&255]+"-"+m[g&63|128]+m[g>>8&255]+"-"+m[g>>16&255]+m[g>>24&255]+m[p&255]+m[p>>8&255]+m[p>>16&255]+m[p>>24&255]}n.uuid=R;function w(x){if(x==null)return null;for(var C=x.replace(/^\s\s*/,""),g=/\s/,p=C.length;g.test(C.charAt(--p)););return C.slice(0,p+1)}n.fastTrim=w;function A(x,C){x=x.length==null||typeof x=="string"?[x]:x;for(var g=0;g<x.length;g++)C(x[g])}n.each=A;function D(x,C){for(var g=[],p=0;p<x.length;p++)g.push(C(x[p]));return g}n.map=D;function j(x,C,g){g=g||"parent";var p=function(W){return W?C[W]:null},E=function(W){return W?p(W[g]):null},y=function(W,K){if(W==null)return K;var et=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];K.mergeStrategy==="override"&&Array.prototype.push.apply(et,["events","overlays"]);var nt=T(W,K,[],et);return y(E(W),nt)},V=function(W){if(W==null)return{};if(typeof W=="string")return p(W);if(W.length){for(var K=!1,et=0,nt=void 0;!K&&et<W.length;)nt=V(W[et]),nt?K=!0:et++;return nt}},Y=V(x);return Y?y(E(Y),Y):{}}n.mergeWithParents=j,n.logEnabled=!0;function H(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];if(n.logEnabled&&typeof console<"u")try{var g=arguments[arguments.length-1];console.log(g)}catch{}}n.log=H;function M(x,C,g){return function(){var p=null;try{C!=null&&(p=C.apply(this,arguments))}catch(E){H("jsPlumb function failed : "+E)}if(x!=null&&(g==null||p!==g))try{p=x.apply(this,arguments)}catch(E){H("wrapped function failed : "+E)}return p}}n.wrap=M;var L=function(){function x(){var C=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(g,p,E){var y=function(Y){z(C._listeners,Y,p,E),p.__jsPlumb=p.__jsPlumb||{},p.__jsPlumb[R()]=Y};if(typeof g=="string")y(g);else if(g.length!=null)for(var V=0;V<g.length;V++)y(g[V]);return C},this.fire=function(g,p,E){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[g]){var y=this._listeners[g].length,V=0,Y=!1,W=null;if(!this.shouldFireEvent||this.shouldFireEvent(g,p,E))for(;!Y&&V<y&&W!==!1;){if(this.eventsToDieOn[g])this._listeners[g][V].apply(this,[p,E]);else try{W=this._listeners[g][V].apply(this,[p,E])}catch(K){H("jsPlumb: fire failed for event "+g+" : "+K)}V++,(this._listeners==null||this._listeners[g]==null)&&(Y=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var g=C.queue.pop();g&&C.fire.apply(C,g)},this.unbind=function(g,p){if(arguments.length===0)this._listeners={};else if(arguments.length===1){if(typeof g=="string")delete this._listeners[g];else if(g.__jsPlumb){var E=void 0;for(var y in g.__jsPlumb)E=g.__jsPlumb[y],N(this._listeners[E]||[],g)}}else arguments.length===2&&N(this._listeners[g]||[],p);return this},this.getListener=function(g){return C._listeners[g]},this.setSuspendEvents=function(g){C.eventsSuspended=g},this.isSuspendEvents=function(){return C.eventsSuspended},this.silently=function(g){C.setSuspendEvents(!0);try{g()}catch(p){H("Cannot execute silent function "+p)}C.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var g in C._listeners)C._listeners[g]=null}}return x}();n.EventGenerator=L;function G(x,C,g){var p=[x[0]-C[0],x[1]-C[1]],E=Math.cos(g/360*Math.PI*2),y=Math.sin(g/360*Math.PI*2);return[p[0]*E-p[1]*y+C[0],p[1]*E+p[0]*y+C[1],E,y]}n.rotatePoint=G;function X(x,C){var g=G(x,[0,0],C);return[Math.round(g[0]),Math.round(g[1])]}n.rotateAnchorOrientation=X}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this;t.jsPlumbUtil.matchesSelector=function(n,e,i){i=i||n.parentNode;for(var r=i.querySelectorAll(e),s=0;s<r.length;s++)if(r[s]===n)return!0;return!1},t.jsPlumbUtil.consume=function(n,e){n.stopPropagation?n.stopPropagation():n.returnValue=!1,!e&&n.preventDefault&&n.preventDefault()},t.jsPlumbUtil.sizeElement=function(n,e,i,r,s){n&&(n.style.height=s+"px",n.height=s,n.style.width=r+"px",n.width=r,n.style.left=e+"px",n.style.top=i+"px")}}).call(typeof window<"u"?window:zt);(function(){var t={deriveAnchor:function(r,s,o,c){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[r][s]}},n=this,e=function(r,s){this.count=0,this.instance=r,this.lists={},this.options=s||{},this.instance.addList=function(o,c){return this.listManager.addList(o,c)},this.instance.removeList=function(o){this.listManager.removeList(o)},this.instance.bind("manageElement",function(o){for(var c=this.instance.getSelector(o.el,"[jtk-scrollable-list]"),a=0;a<c.length;a++)this.addList(c[a])}.bind(this)),this.instance.bind("unmanageElement",function(o){this.removeList(o.el)}),this.instance.bind("connection",function(o,c){c==null&&(this._maybeUpdateParentList(o.source),this._maybeUpdateParentList(o.target))}.bind(this))};n.jsPlumbListManager=e,e.prototype={addList:function(r,s){var o=this.instance.extend({},t);this.instance.extend(o,this.options),s=this.instance.extend(o,s||{});var c=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[c]=new i(this.instance,r,s,c)},removeList:function(r){var s=this.lists[r._jsPlumbList];s&&(s.destroy(),delete this.lists[r._jsPlumbList])},_maybeUpdateParentList:function(r){for(var s=r.parentNode,o=this.instance.getContainer();s!=null&&s!==o;){if(s._jsPlumbList!=null&&this.lists[s._jsPlumbList]!=null){s._jsPlumbScrollHandler();return}s=s.parentNode}}};var i=function(r,s,o,c){s._jsPlumbList=c;function a(O,T,U,P){return o.anchor?o.anchor:o.deriveAnchor(O,T,U,P)}function l(O,T,U,P){return o.deriveEndpoint?o.deriveEndpoint(O,T,U,P):o.endpoint?o.endpoint:U.type}function b(O){for(var T=O.parentNode,U=r.getContainer();T!=null&&T!==U;){if(r.hasClass(T,"jtk-managed")){r.recalculateOffsets(T);return}T=T.parentNode}}var _=function(O){for(var T=r.getSelector(s,".jtk-managed"),U=r.getId(s),P=0;P<T.length;P++){if(T[P].offsetTop<s.scrollTop)T[P]._jsPlumbProxies||(T[P]._jsPlumbProxies=T[P]._jsPlumbProxies||[],r.select({source:T[P]}).each(function(d){r.proxyConnection(d,0,s,U,function(){return l("top",0,d.endpoints[0],d)},function(){return a("top",0,d.endpoints[0],d)}),T[P]._jsPlumbProxies.push([d,0])}),r.select({target:T[P]}).each(function(d){r.proxyConnection(d,1,s,U,function(){return l("top",1,d.endpoints[1],d)},function(){return a("top",1,d.endpoints[1],d)}),T[P]._jsPlumbProxies.push([d,1])}));else if(T[P].offsetTop+T[P].offsetHeight>s.scrollTop+s.offsetHeight)T[P]._jsPlumbProxies||(T[P]._jsPlumbProxies=T[P]._jsPlumbProxies||[],r.select({source:T[P]}).each(function(d){r.proxyConnection(d,0,s,U,function(){return l("bottom",0,d.endpoints[0],d)},function(){return a("bottom",0,d.endpoints[0],d)}),T[P]._jsPlumbProxies.push([d,0])}),r.select({target:T[P]}).each(function(d){r.proxyConnection(d,1,s,U,function(){return l("bottom",1,d.endpoints[1],d)},function(){return a("bottom",1,d.endpoints[1],d)}),T[P]._jsPlumbProxies.push([d,1])}));else if(T[P]._jsPlumbProxies){for(var h=0;h<T[P]._jsPlumbProxies.length;h++)r.unproxyConnection(T[P]._jsPlumbProxies[h][0],T[P]._jsPlumbProxies[h][1],U);delete T[P]._jsPlumbProxies}r.revalidate(T[P])}b(s)};r.setAttribute(s,"jtk-scrollable-list","true"),s._jsPlumbScrollHandler=_,r.on(s,"scroll",_),_(),this.destroy=function(){r.off(s,"scroll",_),delete s._jsPlumbScrollHandler;for(var O=r.getSelector(s,".jtk-managed"),T=r.getId(s),U=0;U<O.length;U++)if(O[U]._jsPlumbProxies){for(var P=0;P<O[U]._jsPlumbProxies.length;P++)r.unproxyConnection(O[U]._jsPlumbProxies[P][0],O[U]._jsPlumbProxies[P][1],T);delete O[U]._jsPlumbProxies}}}}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumbUtil,e=function(h){if(h._jsPlumb.paintStyle&&h._jsPlumb.hoverPaintStyle){var d={};P.extend(d,h._jsPlumb.paintStyle),P.extend(d,h._jsPlumb.hoverPaintStyle),delete h._jsPlumb.hoverPaintStyle,d.gradient&&h._jsPlumb.paintStyle.fill&&delete d.gradient,h._jsPlumb.hoverPaintStyle=d}},i=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],r={mouseout:"mouseleave",mouseexit:"mouseleave"},s=function(h,d,k,N){var $=h.getAttachedElements();if($)for(var z=0,u=$.length;z<u;z++)(!N||N!==$[z])&&$[z].setHover(d,!0,k)},o=function(h){return h==null?null:h.split(" ")},c=function(h,d,k){for(var N in d)h[N]=k},a=function(h,d){d=n.isArray(d)||d.length!=null&&!n.isString(d)?d:[d];for(var k=0;k<d.length;k++)try{h.apply(d[k],[d[k]])}catch(N){n.log(".each iteration failed : "+N)}},l=function(h,d,k){if(h.getDefaultType){var N=h.getTypeDescriptor(),$={},z=h.getDefaultType(),u=n.merge({},z);c($,z,"__default");for(var v=0,m=h._jsPlumb.types.length;v<m;v++){var S=h._jsPlumb.types[v];if(S!=="__default"){var R=h._jsPlumb.instance.getType(S,N);if(R!=null){var w=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],A=[];R.mergeStrategy==="override"?Array.prototype.push.apply(w,["events","overlays","cssClass"]):A.push("cssClass"),u=n.merge(u,R,A,w),c($,R,S)}}}d&&(u=n.populate(u,d,"_")),h.applyType(u,k,$),k||h.repaint()}},b=t.jsPlumbUIComponent=function(h){n.EventGenerator.apply(this,arguments);var d=this,k=arguments,N=d.idPrefix,$=N+new Date().getTime();this._jsPlumb={instance:h._jsPlumb,parameters:h.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:h.beforeDetach,beforeDrop:h.beforeDrop,overlayPlacements:[],hoverClass:h.hoverClass||h._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(A,D,j){this._jsPlumb.typeCache[j]=this._jsPlumb.typeCache[j]||{},this._jsPlumb.typeCache[j][A]=D},this.getCachedTypeItem=function(A,D){return this._jsPlumb.typeCache[D]?this._jsPlumb.typeCache[D][A]:null},this.getId=function(){return $};var z=h.overlays||[],u={};if(this.defaultOverlayKeys){for(var v=0;v<this.defaultOverlayKeys.length;v++)Array.prototype.push.apply(z,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[v]]||[]);for(v=0;v<z.length;v++){var m=P.convertToFullOverlaySpec(z[v]);u[m[1].id]=m}}var S={overlays:u,parameters:h.parameters||{},scope:h.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return S},this.appendToDefaultType=function(A){for(var D in A)S[D]=A[D]},h.events)for(var R in h.events)d.bind(R,h.events[R]);this.clone=function(){var A=Object.create(this.constructor.prototype);return this.constructor.apply(A,k),A}.bind(this),this.isDetachAllowed=function(A){var D=!0;if(this._jsPlumb.beforeDetach)try{D=this._jsPlumb.beforeDetach(A)}catch(j){n.log("jsPlumb: beforeDetach callback failed",j)}return D},this.isDropAllowed=function(A,D,j,H,M,L,G){var X=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:A,targetId:D,scope:j,connection:H,dropEndpoint:M,source:L,target:G});if(this._jsPlumb.beforeDrop)try{X=this._jsPlumb.beforeDrop({sourceId:A,targetId:D,scope:j,connection:H,dropEndpoint:M,source:L,target:G})}catch(x){n.log("jsPlumb: beforeDrop callback failed",x)}return X};var w=[];this.setListenerComponent=function(A){for(var D=0;D<w.length;D++)w[D][3]=A}},_=function(h,d){var k=h._jsPlumb.types[d],N=h._jsPlumb.instance.getType(k,h.getTypeDescriptor());N!=null&&N.cssClass&&h.canvas&&h._jsPlumb.instance.removeClass(h.canvas,N.cssClass)};n.extend(t.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(h){return this._jsPlumb.parameters[h]},setParameter:function(h,d){this._jsPlumb.parameters[h]=d},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(h){this._jsPlumb.parameters=h},getClass:function(){return P.getClass(this.canvas)},hasClass:function(h){return P.hasClass(this.canvas,h)},addClass:function(h){P.addClass(this.canvas,h)},removeClass:function(h){P.removeClass(this.canvas,h)},updateClasses:function(h,d){P.updateClasses(this.canvas,h,d)},setType:function(h,d,k){this.clearTypes(),this._jsPlumb.types=o(h)||[],l(this,d,k)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(h,d){l(this,h,d)},hasType:function(h){return this._jsPlumb.types.indexOf(h)!==-1},addType:function(h,d,k){var N=o(h),$=!1;if(N!=null){for(var z=0,u=N.length;z<u;z++)this.hasType(N[z])||(this._jsPlumb.types.push(N[z]),$=!0);$&&l(this,d,k)}},removeType:function(h,d,k){var N=o(h),$=!1,z=function(m){var S=this._jsPlumb.types.indexOf(m);return S!==-1?(_(this,S),this._jsPlumb.types.splice(S,1),!0):!1}.bind(this);if(N!=null){for(var u=0,v=N.length;u<v;u++)$=z(N[u])||$;$&&l(this,d,k)}},clearTypes:function(h,d){for(var k=this._jsPlumb.types.length,N=0;N<k;N++)_(this,0),this._jsPlumb.types.splice(0,1);l(this,h,d)},toggleType:function(h,d,k){var N=o(h);if(N!=null){for(var $=0,z=N.length;$<z;$++){var u=this._jsPlumb.types.indexOf(N[$]);u!==-1?(_(this,u),this._jsPlumb.types.splice(u,1)):this._jsPlumb.types.push(N[$])}l(this,d,k)}},applyType:function(h,d){if(this.setPaintStyle(h.paintStyle,d),this.setHoverPaintStyle(h.hoverPaintStyle,d),h.parameters)for(var k in h.parameters)this.setParameter(k,h.parameters[k]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(h,d){this._jsPlumb.paintStyle=h,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,e(this),d||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(h,d){this._jsPlumb.hoverPaintStyle=h,e(this),d||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(h){(h||this.typeId==null)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(h,d,k){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=h;var N=h?"addClass":"removeClass";this.canvas!=null&&(this._jsPlumb.instance.hoverClass!=null&&this._jsPlumb.instance[N](this.canvas,this._jsPlumb.instance.hoverClass),this._jsPlumb.hoverClass!=null&&this._jsPlumb.instance[N](this.canvas,this._jsPlumb.hoverClass)),this._jsPlumb.hoverPaintStyle!=null&&(this._jsPlumb.paintStyleInUse=h?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(k=k||jsPlumbUtil.uuid(),this.repaint({timestamp:k,recalc:!1}))),this.getAttachedElements&&!d&&s(this,h,jsPlumbUtil.uuid(),this)}}});var O=0,T=function(){var h=O+1;return O++,h},U=t.jsPlumbInstance=function(h){this.version="2.15.6",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},ListStyle:{},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},h&&P.extend(this.Defaults,h),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var d=this,k=T(),N=d.bind,$={},z=1,u=function(f){if(f==null)return null;if(f.nodeType===3||f.nodeType===8)return{el:f,text:!0};var F=d.getElement(f);return{el:F,id:n.isString(f)&&F==null?f:tt(F)}};this.getInstanceIndex=function(){return k},this.setZoom=function(f,F){return z=f,d.fire("zoom",z),F&&d.repaintEverything(),!0},this.getZoom=function(){return z};for(var v in this.Defaults)$[v]=this.Defaults[v];var m,S=[];this.unbindContainer=function(){if(m!=null&&S.length>0)for(var f=0;f<S.length;f++)d.off(m,S[f][0],S[f][1])},this.setContainer=function(f){this.unbindContainer(),f=this.getElement(f),this.select().each(function(lt){lt.moveParent(f)}),this.selectEndpoints().each(function(lt){lt.moveParent(f)});var F=m;m=f,S.length=0;for(var I={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},B=function(lt,ut,Nt){var yt=ut.srcElement||ut.target,Lt=(yt&&yt.parentNode?yt.parentNode._jsPlumb:null)||(yt?yt._jsPlumb:null)||(yt&&yt.parentNode&&yt.parentNode.parentNode?yt.parentNode.parentNode._jsPlumb:null);if(Lt){Lt.fire(lt,Lt,ut);var Yt=Nt&&I[Nt+lt]||lt;d.fire(Yt,Lt.component||Lt,ut)}},q=function(lt,ut,Nt){S.push([lt,Nt]),d.on(m,lt,ut,Nt)},Z=function(lt){q(lt,".jtk-connector",function(ut){B(lt,ut)}),q(lt,".jtk-endpoint",function(ut){B(lt,ut,"endpoint")}),q(lt,".jtk-overlay",function(ut){B(lt,ut)})},st=0;st<i.length;st++)Z(i[st]);for(var ht in H){var at=H[ht].el;at.parentNode===F&&(F.removeChild(at),m.appendChild(at))}},this.getContainer=function(){return m},this.bind=function(f,F){f==="ready"&&w?F():N.apply(d,[f,F])},d.importDefaults=function(f){for(var F in f)d.Defaults[F]=f[F];return f.Container&&d.setContainer(f.Container),d},d.restoreDefaults=function(){return d.Defaults=P.extend({},$),d};var R=null,w=!1,A=[],D={},j={},H={},M={},L={},G={},X=!1,x=[],C=!1,g=null,p=this.Defaults.Scope,E=1,y=function(){return""+E++},V=function(f,F){m?m.appendChild(f):F?this.getElement(F).appendChild(f):this.appendToRoot(f)}.bind(this),Y=function(f,F,I,B){var q={c:[],e:[]};if(!C&&(f=d.getElement(f),f!=null)){var Z=tt(f),st=f.querySelectorAll(".jtk-managed");I==null&&(I=jsPlumbUtil.uuid());for(var ht=we({elId:Z,offset:F,recalc:!1,timestamp:I}),at=0;at<st.length;at++)we({elId:st[at].getAttribute("id"),recalc:!0,timestamp:I});var lt=d.router.redraw(Z,F,I,null,B);if(Array.prototype.push.apply(q.c,lt.c),Array.prototype.push.apply(q.e,lt.e),st)for(var ut=0;ut<st.length;ut++)lt=d.router.redraw(st[ut].getAttribute("id"),null,I,null,B,!0),Array.prototype.push.apply(q.c,lt.c),Array.prototype.push.apply(q.e,lt.e)}return q},W=function(f){return j[f]},K=function(f,F){for(var I=f.scope.split(/\s/),B=F.scope.split(/\s/),q=0;q<I.length;q++)for(var Z=0;Z<B.length;Z++)if(B[Z]===I[q])return!0;return!1},et=function(f,F){var I=P.extend({},f);for(var B in F)F[B]&&(I[B]=F[B]);return I},nt=function(f,F){var I=P.extend({},f);if(F&&P.extend(I,F),I.source&&(I.source.endpoint?I.sourceEndpoint=I.source:I.source=d.getElement(I.source)),I.target&&(I.target.endpoint?I.targetEndpoint=I.target:I.target=d.getElement(I.target)),f.uuids&&(I.sourceEndpoint=W(f.uuids[0]),I.targetEndpoint=W(f.uuids[1])),I.sourceEndpoint&&I.sourceEndpoint.isFull()){n.log(d,"could not add connection; source endpoint is full");return}if(I.targetEndpoint&&I.targetEndpoint.isFull()){n.log(d,"could not add connection; target endpoint is full");return}if(!I.type&&I.sourceEndpoint&&(I.type=I.sourceEndpoint.connectionType),I.sourceEndpoint&&I.sourceEndpoint.connectorOverlays){I.overlays=I.overlays||[];for(var B=0,q=I.sourceEndpoint.connectorOverlays.length;B<q;B++)I.overlays.push(I.sourceEndpoint.connectorOverlays[B])}I.sourceEndpoint&&I.sourceEndpoint.scope&&(I.scope=I.sourceEndpoint.scope),!I["pointer-events"]&&I.sourceEndpoint&&I.sourceEndpoint.connectorPointerEvents&&(I["pointer-events"]=I.sourceEndpoint.connectorPointerEvents);var Z=function(ht,at,lt){var ut=et(at,{anchor:I.anchors?I.anchors[lt]:I.anchor,endpoint:I.endpoints?I.endpoints[lt]:I.endpoint,paintStyle:I.endpointStyles?I.endpointStyles[lt]:I.endpointStyle,hoverPaintStyle:I.endpointHoverStyles?I.endpointHoverStyles[lt]:I.endpointHoverStyle});return d.addEndpoint(ht,ut)},st=function(ht,at,lt,ut){if(I[ht]&&!I[ht].endpoint&&!I[ht+"Endpoint"]&&!I.newConnection){var Nt=tt(I[ht]),yt=lt[Nt];if(yt=yt?yt[ut]:null,yt){if(!yt.enabled)return!1;var Lt=P.extend({},yt.def);delete Lt.label;var Yt=yt.endpoint!=null&&yt.endpoint._jsPlumb?yt.endpoint:Z(I[ht],Lt,at);if(Yt.isFull())return!1;I[ht+"Endpoint"]=Yt,!I.scope&&Lt.scope&&(I.scope=Lt.scope),yt.uniqueEndpoint?yt.endpoint?Yt.finalEndpoint=yt.endpoint:(yt.endpoint=Yt,Yt.setDeleteOnEmpty(!1)):Yt.setDeleteOnEmpty(!0),at===0&&yt.def.connectorOverlays&&(I.overlays=I.overlays||[],Array.prototype.push.apply(I.overlays,yt.def.connectorOverlays))}}};if(st("source",0,this.sourceEndpointDefinitions,I.type||"default")!==!1&&st("target",1,this.targetEndpointDefinitions,I.type||"default")!==!1)return I.sourceEndpoint&&I.targetEndpoint&&(K(I.sourceEndpoint,I.targetEndpoint)||(I=null)),I}.bind(d),Q=function(f){var F=d.Defaults.ConnectionType||d.getDefaultConnectionType();f._jsPlumb=d,f.newConnection=Q,f.newEndpoint=dt,f.endpointsByUUID=j,f.endpointsByElement=D,f.finaliseConnection=rt,f.id="con_"+y();var I=new F(f);return I.isDetachable()&&(I.endpoints[0].initDraggable("_jsPlumbSource"),I.endpoints[1].initDraggable("_jsPlumbTarget")),I},rt=d.finaliseConnection=function(f,F,I,B){if(F=F||{},f.suspendedEndpoint||A.push(f),f.pending=null,f.endpoints[0].isTemporarySource=!1,B!==!1&&d.router.newConnection(f),Y(f.source),!F.doNotFireConnectionEvent&&F.fireEvent!==!1){var q={connection:f,source:f.source,target:f.target,sourceId:f.sourceId,targetId:f.targetId,sourceEndpoint:f.endpoints[0],targetEndpoint:f.endpoints[1]};d.fire("connection",q,I)}},dt=function(f,F){var I=d.Defaults.EndpointType||P.Endpoint,B=P.extend({},f);B._jsPlumb=d,B.newConnection=Q,B.newEndpoint=dt,B.endpointsByUUID=j,B.endpointsByElement=D,B.fireDetachEvent=ct,B.elementId=F||tt(B.source);var q=new I(B);return q.id="ep_"+y(),ie(B.elementId,B.source),P.headless||d.getDragManager().endpointAdded(B.source,F),q},pt=function(f,F,I){var B=D[f];if(B&&B.length)for(var q=0,Z=B.length;q<Z;q++){for(var st=0,ht=B[q].connections.length;st<ht;st++){var at=F(B[q].connections[st]);if(at)return}I&&I(B[q])}},mt=function(f,F){return P.each(f,function(I){d.isDragSupported(I)&&(G[d.getAttribute(I,"id")]=F,d.setElementDraggable(I,F))})},Mt=function(f,F,I){F=F==="block";var B=null;I&&(B=function(Z){Z.setVisible(F,!0,!0)});var q=u(f);pt(q.id,function(Z){if(F&&I){var st=Z.sourceId===q.id?1:0;Z.endpoints[st].isVisible()&&Z.setVisible(!0)}else Z.setVisible(F)},B)},gt=function(f,F){var I=null;F&&(I=function(B){var q=B.isVisible();B.setVisible(!q)}),pt(f,function(B){var q=B.isVisible();B.setVisible(!q)},I)},Dt=function(f){var F=M[f];return F?{o:F,s:x[f]}:we({elId:f})},tt=function(f,F,I){if(n.isString(f))return f;if(f==null)return null;var B=d.getAttribute(f,"id");return(!B||B==="undefined")&&(arguments.length===2&&arguments[1]!==void 0?B=F:(arguments.length===1||arguments.length===3&&!arguments[2])&&(B="jsPlumb_"+k+"_"+y()),I||d.setAttribute(f,"id",B)),B};this.setConnectionBeingDragged=function(f){X=f},this.isConnectionBeingDragged=function(){return X},this.getManagedElements=function(){return H},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(f,F,I){I=I||{};var B=P.extend({},I);P.extend(B,F),B.endpoint=B.endpoint||d.Defaults.Endpoint,B.paintStyle=B.paintStyle||d.Defaults.EndpointStyle;for(var q=[],Z=n.isArray(f)||f.length!=null&&!n.isString(f)?f:[f],st=0,ht=Z.length;st<ht;st++){B.source=d.getElement(Z[st]),Fi(B.source);var at=tt(B.source),lt=dt(B,at),ut=ie(at,B.source,null,!C).info.o;n.addToList(D,at,lt),C||lt.paint({anchorLoc:lt.anchor.compute({xy:[ut.left,ut.top],wh:x[at],element:lt,timestamp:g,rotation:this.getRotation(at)}),timestamp:g}),q.push(lt)}return q.length===1?q[0]:q},this.addEndpoints=function(f,F,I){for(var B=[],q=0,Z=F.length;q<Z;q++){var st=d.addEndpoint(f,F[q],I);n.isArray(st)?Array.prototype.push.apply(B,st):B.push(st)}return B},this.animate=function(f,F,I){if(!this.animationSupported)return!1;I=I||{};var B=d.getElement(f),q=tt(B),Z=P.animEvents.step,st=P.animEvents.complete;I[Z]=n.wrap(I[Z],function(){d.revalidate(q)}),I[st]=n.wrap(I[st],function(){d.revalidate(q)}),d.doAnimate(B,F,I)},this.checkCondition=function(f,F){var I=d.getListener(f),B=!0;if(I&&I.length>0){var q=Array.prototype.slice.call(arguments,1);try{for(var Z=0,st=I.length;Z<st;Z++)B=B&&I[Z].apply(I[Z],q)}catch(ht){n.log(d,"cannot check condition ["+f+"]"+ht)}}return B},this.connect=function(f,F){var I=nt(f,F),B;if(I){if(I.source==null&&I.sourceEndpoint==null){n.log("Cannot establish connection - source does not exist");return}if(I.target==null&&I.targetEndpoint==null){n.log("Cannot establish connection - target does not exist");return}Fi(I.source),B=Q(I),rt(B,I)}return B};var J=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],it=function(f,F,I,B){var q,Z=J[I],st=f[Z.elId],ht=f[Z.el],at,lt,ut=f.endpoints[I],Nt={index:I,originalSourceId:I===0?st:f.sourceId,newSourceId:f.sourceId,originalTargetId:I===1?st:f.targetId,newTargetId:f.targetId,connection:f};if(F.constructor===P.Endpoint)q=F,q.addConnection(f),F=q.element;else if(at=tt(F),lt=this[Z.epDefs][at],at===f[Z.elId])q=null;else if(lt)for(var yt in lt){if(!lt[yt].enabled)return;q=lt[yt].endpoint!=null&&lt[yt].endpoint._jsPlumb?lt[yt].endpoint:this.addEndpoint(F,lt[yt].def),lt[yt].uniqueEndpoint&&(lt[yt].endpoint=q),q.addConnection(f)}else q=f.makeEndpoint(I===0,F,at);return q!=null&&(ut.detachFromConnection(f),f.endpoints[I]=q,f[Z.el]=q.element,f[Z.elId]=q.elementId,Nt[I===0?"newSourceId":"newTargetId"]=q.elementId,Et(Nt),B||f.repaint()),Nt.element=F,Nt}.bind(this);this.setSource=function(f,F,I){var B=it(f,F,0,I);this.router.sourceOrTargetChanged(B.originalSourceId,B.newSourceId,f,B.el,0)},this.setTarget=function(f,F,I){var B=it(f,F,1,I);this.router.sourceOrTargetChanged(B.originalTargetId,B.newTargetId,f,B.el,1)},this.deleteEndpoint=function(f,F,I){var B=typeof f=="string"?j[f]:f;return B&&d.deleteObject({endpoint:B,dontUpdateHover:F,deleteAttachedObjects:I}),d},this.deleteEveryEndpoint=function(){var f=d.setSuspendDrawing(!0);for(var F in D){var I=D[F];if(I&&I.length)for(var B=0,q=I.length;B<q;B++)d.deleteEndpoint(I[B],!0)}D={},H={},j={},M={},L={},d.router.reset();var Z=d.getDragManager();return Z&&Z.reset(),f||d.setSuspendDrawing(!1),d};var ct=function(f,F,I){var B=d.Defaults.ConnectionType||d.getDefaultConnectionType(),q=f.constructor===B,Z=q?{connection:f,source:f.source,target:f.target,sourceId:f.sourceId,targetId:f.targetId,sourceEndpoint:f.endpoints[0],targetEndpoint:f.endpoints[1]}:f;F&&d.fire("connectionDetached",Z,I),d.fire("internal.connectionDetached",Z,I),d.router.connectionDetached(Z)},Et=d.fireMoveEvent=function(f,F){d.fire("connectionMoved",f,F)};this.unregisterEndpoint=function(f){f._jsPlumb.uuid&&(j[f._jsPlumb.uuid]=null),d.router.deleteEndpoint(f);for(var F in D){var I=D[F];if(I){for(var B=[],q=0,Z=I.length;q<Z;q++)I[q]!==f&&B.push(I[q]);D[F]=B}D[F].length<1&&delete D[F]}};var Ut="isDetachAllowed",Xt="beforeDetach",ke="checkCondition";this.deleteConnection=function(f,F){return f!=null&&(F=F||{},F.force||n.functionChain(!0,!1,[[f.endpoints[0],Ut,[f]],[f.endpoints[1],Ut,[f]],[f,Ut,[f]],[d,ke,[Xt,f]]]))?(f.setHover(!1),ct(f,!f.pending&&F.fireEvent!==!1,F.originalEvent),f.endpoints[0].detachFromConnection(f),f.endpoints[1].detachFromConnection(f),n.removeWithFunction(A,function(I){return f.id===I.id}),f.cleanup(),f.destroy(),!0):!1},this.deleteEveryConnection=function(f){f=f||{};var F=A.length,I=0;return d.batch(function(){for(var B=0;B<F;B++)I+=d.deleteConnection(A[0],f)?1:0}),I},this.deleteConnectionsForElement=function(f,F){F=F||{},f=d.getElement(f);var I=tt(f),B=D[I];if(B&&B.length)for(var q=0,Z=B.length;q<Z;q++)B[q].deleteEveryConnection(F);return d},this.deleteObject=function(f){var F={endpoints:{},connections:{},endpointCount:0,connectionCount:0},I=f.deleteAttachedObjects!==!1,B=function(ut){ut!=null&&F.connections[ut.id]==null&&(!f.dontUpdateHover&&ut._jsPlumb!=null&&ut.setHover(!1),F.connections[ut.id]=ut,F.connectionCount++)},q=function(ut){if(ut!=null&&F.endpoints[ut.id]==null&&(!f.dontUpdateHover&&ut._jsPlumb!=null&&ut.setHover(!1),F.endpoints[ut.id]=ut,F.endpointCount++,I))for(var Nt=0;Nt<ut.connections.length;Nt++){var yt=ut.connections[Nt];B(yt)}};f.connection?B(f.connection):q(f.endpoint);for(var Z in F.connections){var st=F.connections[Z];if(st._jsPlumb){n.removeWithFunction(A,function(ut){return st.id===ut.id}),ct(st,f.fireEvent===!1?!1:!st.pending,f.originalEvent);var ht=f.deleteAttachedObjects==null?null:!f.deleteAttachedObjects;st.endpoints[0].detachFromConnection(st,null,ht),st.endpoints[1].detachFromConnection(st,null,ht),st.cleanup(!0),st.destroy(!0)}}for(var at in F.endpoints){var lt=F.endpoints[at];lt._jsPlumb&&(d.unregisterEndpoint(lt),lt.cleanup(!0),lt.destroy(!0))}return F};var tn=function(f,F,I,B){for(var q=0,Z=f.length;q<Z;q++)f[q][F].apply(f[q],I);return B(f)},Or=function(f,F,I){for(var B=[],q=0,Z=f.length;q<Z;q++)B.push([f[q][F].apply(f[q],I),f[q]]);return B},ln=function(f,F,I){return function(){return tn(f,F,arguments,I)}},$n=function(f,F){return function(){return Or(f,F,arguments)}},en=function(f,F){var I=[];if(f)if(typeof f=="string"){if(f==="*")return f;I.push(f)}else if(F)I=f;else if(f.length)for(var B=0,q=f.length;B<q;B++)I.push(u(f[B]).id);else I.push(u(f).id);return I},cn=function(f,F,I){return f==="*"?!0:f.length>0?f.indexOf(F)!==-1:!I};this.getConnections=function(f,F){f?f.constructor===String&&(f={scope:f}):f={};for(var I=f.scope||d.getDefaultScope(),B=en(I,!0),q=en(f.source),Z=en(f.target),st=!F&&B.length>1?{}:[],ht=function(Lt,Yt){if(!F&&B.length>1){var re=st[Lt];re==null&&(re=st[Lt]=[]),re.push(Yt)}else st.push(Yt)},at=0,lt=A.length;at<lt;at++){var ut=A[at],Nt=ut.proxies&&ut.proxies[0]?ut.proxies[0].originalEp.elementId:ut.sourceId,yt=ut.proxies&&ut.proxies[1]?ut.proxies[1].originalEp.elementId:ut.targetId;cn(B,ut.scope)&&cn(q,Nt)&&cn(Z,yt)&&ht(ut.scope,ut)}return st};var ui=function(f,F){return function(I){for(var B=0,q=f.length;B<q;B++)I(f[B]);return F(f)}},es=function(f){return function(F){return f[F]}},un=function(f,F){var I={length:f.length,each:ui(f,F),get:es(f)},B=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],q=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"],Z,st;for(Z=0,st=B.length;Z<st;Z++)I[B[Z]]=ln(f,B[Z],F);for(Z=0,st=q.length;Z<st;Z++)I[q[Z]]=$n(f,q[Z]);return I},Wn=function(f){var F=un(f,Wn);return P.extend(F,{setDetachable:ln(f,"setDetachable",Wn),setReattach:ln(f,"setReattach",Wn),setConnector:ln(f,"setConnector",Wn),delete:function(){for(var I=0,B=f.length;I<B;I++)d.deleteConnection(f[I])},isDetachable:$n(f,"isDetachable"),isReattach:$n(f,"isReattach")})},In=function(f){var F=un(f,In);return P.extend(F,{setEnabled:ln(f,"setEnabled",In),setAnchor:ln(f,"setAnchor",In),isEnabled:$n(f,"isEnabled"),deleteEveryConnection:function(){for(var I=0,B=f.length;I<B;I++)f[I].deleteEveryConnection()},delete:function(){for(var I=0,B=f.length;I<B;I++)d.deleteEndpoint(f[I])}})};this.select=function(f){return f=f||{},f.scope=f.scope||"*",Wn(f.connections||d.getConnections(f,!0))},this.selectEndpoints=function(f){f=f||{},f.scope=f.scope||"*";var F=!f.element&&!f.source&&!f.target,I=F?"*":en(f.element),B=F?"*":en(f.source),q=F?"*":en(f.target),Z=en(f.scope,!0),st=[];for(var ht in D){var at=cn(I,ht,!0),lt=cn(B,ht,!0),ut=B!=="*",Nt=cn(q,ht,!0),yt=q!=="*";if(at||lt||Nt)t:for(var Lt=0,Yt=D[ht].length;Lt<Yt;Lt++){var re=D[ht][Lt];if(cn(Z,re.scope,!0)){var Fr=ut&&B.length>0&&!re.isSource,Nr=yt&&q.length>0&&!re.isTarget;if(Fr||Nr)continue t;st.push(re)}}}return In(st)},this.getAllConnections=function(){return A},this.getDefaultScope=function(){return p},this.getEndpoint=W,this.getEndpoints=function(f){return D[u(f).id]||[]},this.getDefaultEndpointType=function(){return P.Endpoint},this.getDefaultConnectionType=function(){return P.Connection},this.getId=tt,this.draw=Y,this.info=u,this.appendElement=V;var kr=!1;this.isHoverSuspended=function(){return kr},this.setHoverSuspended=function(f){kr=f},this.hide=function(f,F){return Mt(f,"none",F),d},this.idstamp=y;var Fi=function(f){if(!m&&f){var F=d.getElement(f);F.offsetParent&&d.setContainer(F.offsetParent)}},Rr=function(){d.Defaults.Container&&d.setContainer(d.Defaults.Container)},ie=d.manage=function(f,F,I,B){return H[f]?B&&(H[f].info=we({elId:f,timestamp:g,recalc:!0})):(H[f]={el:F,endpoints:[],connections:[],rotation:0},H[f].info=we({elId:f,timestamp:g}),d.addClass(F,"jtk-managed"),I||d.fire("manageElement",{id:f,info:H[f].info,el:F})),H[f]};this.unmanage=function(f){if(H[f]){var F=H[f].el;d.removeClass(F,"jtk-managed"),delete H[f],d.fire("unmanageElement",{id:f,el:F})}},this.rotate=function(f,F,I){return H[f]&&(H[f].rotation=F,H[f].el.style.transform="rotate("+F+"deg)",H[f].el.style.transformOrigin="center center",I!==!0)?this.revalidate(f):{c:[],e:[]}},this.getRotation=function(f){return H[f]&&H[f].rotation||0};var we=function(f){var F=f.timestamp,I=f.recalc,B=f.offset,q=f.elId,Z;return C&&!F&&(F=g),!I&&F&&F===L[q]?{o:f.offset||M[q],s:x[q]}:(I||!B&&M[q]==null?(Z=H[q]?H[q].el:null,Z!=null&&(x[q]=d.getSize(Z),M[q]=d.getOffset(Z),L[q]=F)):(M[q]=B||M[q],x[q]==null&&(Z=H[q].el,Z!=null&&(x[q]=d.getSize(Z))),L[q]=F),M[q]&&!M[q].right&&(M[q].right=M[q].left+x[q][0],M[q].bottom=M[q].top+x[q][1],M[q].width=x[q][0],M[q].height=x[q][1],M[q].centerx=M[q].left+M[q].width/2,M[q].centery=M[q].top+M[q].height/2),{o:M[q],s:x[q]})};this.updateOffset=we,this.init=function(){w||(Rr(),d.router=new t.jsPlumb.DefaultRouter(d),d.anchorManager=d.router.anchorManager,w=!0,d.fire("ready",d))}.bind(this),this.log=R,this.jsPlumbUIComponent=b,this.makeAnchor=function(){var f,F=function(ht,at){if(t.jsPlumb.Anchors[ht])return new t.jsPlumb.Anchors[ht](at);if(!d.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+ht+"'"}};if(arguments.length===0)return null;var I=arguments[0],B=arguments[1],q=arguments[2],Z=null;if(I.compute&&I.getOrientation)return I;if(typeof I=="string")Z=F(arguments[0],{elementId:B,jsPlumbInstance:d});else if(n.isArray(I))if(n.isArray(I[0])||n.isString(I[0]))I.length===2&&n.isObject(I[1])?n.isString(I[0])?(f=t.jsPlumb.extend({elementId:B,jsPlumbInstance:d},I[1]),Z=F(I[0],f)):(f=t.jsPlumb.extend({elementId:B,jsPlumbInstance:d,anchors:I[0]},I[1]),Z=new t.jsPlumb.DynamicAnchor(f)):Z=new P.DynamicAnchor({anchors:I,selector:null,elementId:B,jsPlumbInstance:d});else{var st={x:I[0],y:I[1],orientation:I.length>=4?[I[2],I[3]]:[0,0],offsets:I.length>=6?[I[4],I[5]]:[0,0],elementId:B,jsPlumbInstance:d,cssClass:I.length===7?I[6]:null};Z=new t.jsPlumb.Anchor(st),Z.clone=function(){return new t.jsPlumb.Anchor(st)}}return Z.id||(Z.id="anchor_"+y()),Z},this.makeAnchors=function(f,F,I){for(var B=[],q=0,Z=f.length;q<Z;q++)typeof f[q]=="string"?B.push(t.jsPlumb.Anchors[f[q]]({elementId:F,jsPlumbInstance:I})):n.isArray(f[q])&&B.push(d.makeAnchor(f[q],F,I));return B},this.makeDynamicAnchor=function(f,F){return new t.jsPlumb.DynamicAnchor({anchors:f,selector:F,elementId:null,jsPlumbInstance:d})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var fe=function(f,F,I,B,q){for(var Z=f.target||f.srcElement,st=!1,ht=B.getSelector(F,I),at=0;at<ht.length;at++)if(ht[at]===Z){st=!0;break}return q?!st:st},dn=function(f,F,I,B,q){var Z=new b(F),st=F._jsPlumb.EndpointDropHandler({jsPlumb:d,enabled:function(){return f.def.enabled},isFull:function(){var at=d.select({target:f.id}).length;return f.def.maxConnections>0&&at>=f.def.maxConnections},element:f.el,elementId:f.id,isSource:B,isTarget:q,addClass:function(at){d.addClass(f.el,at)},removeClass:function(at){d.removeClass(f.el,at)},onDrop:function(at){var lt=at.endpoints[0];lt.anchor.locked=!1},isDropAllowed:function(){return Z.isDropAllowed.apply(Z,arguments)},isRedrop:function(at){return at.suspendedElement!=null&&at.suspendedEndpoint!=null&&at.suspendedEndpoint.element===f.el},getEndpoint:function(at){var lt=f.def.endpoint;if(lt==null||lt._jsPlumb==null){var ut=d.deriveEndpointAndAnchorSpec(at.getType().join(" "),!0),Nt=ut.endpoints?t.jsPlumb.extend(F,{endpoint:f.def.def.endpoint||ut.endpoints[1]}):F;ut.anchors&&(Nt=t.jsPlumb.extend(Nt,{anchor:f.def.def.anchor||ut.anchors[1]})),lt=d.addEndpoint(f.el,Nt),lt._mtNew=!0}if(F.uniqueEndpoint&&(f.def.endpoint=lt),lt.setDeleteOnEmpty(!0),at.isDetachable()&&lt.initDraggable(),lt.anchor.positionFinder!=null){var yt=d.getUIPosition(arguments,d.getZoom()),Lt=d.getOffset(f.el),Yt=d.getSize(f.el),re=yt==null?[0,0]:lt.anchor.positionFinder(yt,Lt,Yt,lt.anchor.constructorParams);lt.anchor.x=re[0],lt.anchor.y=re[1]}return lt},maybeCleanup:function(at){at._mtNew&&at.connections.length===0?d.deleteObject({endpoint:at}):delete at._mtNew}}),ht=t.jsPlumb.dragEvents.drop;return I.scope=I.scope||F.scope||d.Defaults.Scope,I[ht]=n.wrap(I[ht],st,!0),I.rank=F.rank||0,q&&(I[t.jsPlumb.dragEvents.over]=function(){return!0}),F.allowLoopback===!1&&(I.canDrop=function(at){var lt=at.getDragElement()._jsPlumbRelatedElement;return lt!==f.el}),d.initDroppable(f.el,I,"internal"),st};this.makeTarget=function(f,F,I){var B=t.jsPlumb.extend({_jsPlumb:this},I);t.jsPlumb.extend(B,F);for(var q=B.maxConnections||-1,Z=function(lt){var ut=u(lt),Nt=ut.id,yt=t.jsPlumb.extend({},B.dropOptions||{}),Lt=B.connectionType||"default";this.targetEndpointDefinitions[Nt]=this.targetEndpointDefinitions[Nt]||{},Fi(Nt),ut.el._isJsPlumbGroup&&yt.rank==null&&(yt.rank=-1);var Yt={def:t.jsPlumb.extend({},B),uniqueEndpoint:B.uniqueEndpoint,maxConnections:q,enabled:!0};B.createEndpoint&&(Yt.uniqueEndpoint=!0,Yt.endpoint=d.addEndpoint(lt,Yt.def),Yt.endpoint.setDeleteOnEmpty(!1)),ut.def=Yt,this.targetEndpointDefinitions[Nt][Lt]=Yt,dn(ut,B,yt,B.isSource===!0,!0),ut.el._katavorioDrop[ut.el._katavorioDrop.length-1].targetDef=Yt}.bind(this),st=f.length&&f.constructor!==String?f:[f],ht=0,at=st.length;ht<at;ht++)Z(st[ht]);return this},this.unmakeTarget=function(f,F){var I=u(f);return d.destroyDroppable(I.el,"internal"),F||delete this.targetEndpointDefinitions[I.id],this},this.makeSource=function(f,F,I){var B=t.jsPlumb.extend({_jsPlumb:this},I);t.jsPlumb.extend(B,F);var q=B.connectionType||"default",Z=d.deriveEndpointAndAnchorSpec(q);B.endpoint=B.endpoint||Z.endpoints[0],B.anchor=B.anchor||Z.anchors[0];for(var st=B.maxConnections||-1,ht=B.onMaxConnections,at=function(yt){var Lt=yt.id,Yt=this.getElement(yt.el);this.sourceEndpointDefinitions[Lt]=this.sourceEndpointDefinitions[Lt]||{},Fi(Lt);var re={def:t.jsPlumb.extend({},B),uniqueEndpoint:B.uniqueEndpoint,maxConnections:st,enabled:!0};B.createEndpoint&&(re.uniqueEndpoint=!0,re.endpoint=d.addEndpoint(f,re.def),re.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[Lt][q]=re,yt.def=re;var Fr=t.jsPlumb.dragEvents.stop,Nr=t.jsPlumb.dragEvents.drag,fn=t.jsPlumb.extend({},B.dragOptions||{}),cl=fn.drag,ul=fn.stop,ve=null,jr=!1;fn.scope=fn.scope||B.scope,fn[Nr]=n.wrap(fn[Nr],function(){cl&&cl.apply(this,arguments),jr=!1}),fn[Fr]=n.wrap(fn[Fr],function(){if(ul&&ul.apply(this,arguments),this.currentlyDragging=!1,ve._jsPlumb!=null){var Le=B.anchor||this.Defaults.Anchor,be=ve.anchor,Lr=ve.connections[0],Mn=this.makeAnchor(Le,Lt,this),Ni=ve.element;if(Mn.positionFinder!=null){var nn=d.getOffset(Ni),Pn=this.getSize(Ni),Vr={left:nn.left+be.x*Pn[0],top:nn.top+be.y*Pn[1]},ji=Mn.positionFinder(Vr,nn,Pn,Mn.constructorParams);Mn.x=ji[0],Mn.y=ji[1]}ve.setAnchor(Mn,!0),ve.repaint(),this.repaint(ve.elementId),Lr!=null&&this.repaint(Lr.targetId)}}.bind(this));var dl=function(Le){if(!(Le.which===3||Le.button===2)){Lt=this.getId(this.getElement(yt.el));var be=this.sourceEndpointDefinitions[Lt][q];if(be.enabled){if(B.filter){var Lr=n.isString(B.filter)?fe(Le,yt.el,B.filter,this,B.filterExclude):B.filter(Le,yt.el);if(Lr===!1)return}var Mn=this.select({source:Lt}).length;if(be.maxConnections>=0&&Mn>=be.maxConnections)return ht&&ht({element:yt.el,maxConnections:st},Le),!1;var Ni=t.jsPlumb.getPositionOnElement(Le,Yt,z),nn={};t.jsPlumb.extend(nn,be.def),nn.isTemporarySource=!0,nn.anchor=[Ni[0],Ni[1],0,0],nn.dragOptions=fn,be.def.scope&&(nn.scope=be.def.scope),ve=this.addEndpoint(Lt,nn),jr=!0,ve.setDeleteOnEmpty(!0),be.uniqueEndpoint&&(be.endpoint?ve.finalEndpoint=be.endpoint:(be.endpoint=ve,ve.setDeleteOnEmpty(!1)));var Pn=function(){d.off(ve.canvas,"mouseup",Pn),d.off(yt.el,"mouseup",Pn),jr&&(jr=!1,d.deleteEndpoint(ve))};d.on(ve.canvas,"mouseup",Pn),d.on(yt.el,"mouseup",Pn);var Vr={};if(be.def.extract)for(var ji in be.def.extract){var hl=(Le.srcElement||Le.target).getAttribute(ji);hl&&(Vr[be.def.extract[ji]]=hl)}d.trigger(ve.canvas,"mousedown",Le,Vr),n.consume(Le)}}}.bind(this);this.on(yt.el,"mousedown",dl),re.trigger=dl,B.filter&&(n.isString(B.filter)||n.isFunction(B.filter))&&d.setDragFilter(yt.el,B.filter);var Rd=t.jsPlumb.extend({},B.dropOptions||{});dn(yt,B,Rd,!0,B.isTarget===!0)}.bind(this),lt=f.length&&f.constructor!==String?f:[f],ut=0,Nt=lt.length;ut<Nt;ut++)at(u(lt[ut]));return this},this.unmakeSource=function(f,F,I){var B=u(f);d.destroyDroppable(B.el,"internal");var q=this.sourceEndpointDefinitions[B.id];if(q){for(var Z in q)if(F==null||F===Z){var st=q[Z].trigger;st&&d.off(B.el,"mousedown",st),I||delete this.sourceEndpointDefinitions[B.id][Z]}}return this},this.unmakeEverySource=function(){for(var f in this.sourceEndpointDefinitions)d.unmakeSource(f,null,!0);return this.sourceEndpointDefinitions={},this};var hn=function(f,F,I){F=n.isArray(F)?F:[F];var B=tt(f);I=I||"default";for(var q=0;q<F.length;q++){var Z=this[F[q]][B];if(Z&&Z[I])return Z[I].def.scope||this.Defaults.Scope}}.bind(this),ot=function(f,F,I,B){I=n.isArray(I)?I:[I];var q=tt(f);B=B||"default";for(var Z=0;Z<I.length;Z++){var st=this[I[Z]][q];st&&st[B]&&(st[B].def.scope=F)}}.bind(this);this.getScope=function(f,F){return hn(f,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(f){return hn(f,"sourceEndpointDefinitions")},this.getTargetScope=function(f){return hn(f,"targetEndpointDefinitions")},this.setScope=function(f,F,I){this.setSourceScope(f,F,I),this.setTargetScope(f,F,I)},this.setSourceScope=function(f,F,I){ot(f,F,"sourceEndpointDefinitions",I),this.setDragScope(f,F)},this.setTargetScope=function(f,F,I){ot(f,F,"targetEndpointDefinitions",I),this.setDropScope(f,F)},this.unmakeEveryTarget=function(){for(var f in this.targetEndpointDefinitions)d.unmakeTarget(f,!0);return this.targetEndpointDefinitions={},this};var St=function(f,F,I,B,q){var Z=f==="source"?this.sourceEndpointDefinitions:this.targetEndpointDefinitions,st,ht,at;if(q=q||"default",F.length&&!n.isString(F)){st=[];for(var lt=0,ut=F.length;lt<ut;lt++)ht=u(F[lt]),Z[ht.id]&&Z[ht.id][q]&&(st[lt]=Z[ht.id][q].enabled,at=B?!st[lt]:I,Z[ht.id][q].enabled=at,d[at?"removeClass":"addClass"](ht.el,"jtk-"+f+"-disabled"))}else{ht=u(F);var Nt=ht.id;Z[Nt]&&Z[Nt][q]&&(st=Z[Nt][q].enabled,at=B?!st:I,Z[Nt][q].enabled=at,d[at?"removeClass":"addClass"](ht.el,"jtk-"+f+"-disabled"))}return st}.bind(this),Ot=function(f,F){if(f!=null){if(n.isString(f)||!f.length)return F.apply(this,[f]);if(f.length)return F.apply(this,[f[0]])}}.bind(this);this.toggleSourceEnabled=function(f,F){return St("source",f,null,!0,F),this.isSourceEnabled(f,F)},this.setSourceEnabled=function(f,F,I){return St("source",f,F,null,I)},this.isSource=function(f,F){return F=F||"default",Ot(f,function(I){var B=this.sourceEndpointDefinitions[u(I).id];return B!=null&&B[F]!=null}.bind(this))},this.isSourceEnabled=function(f,F){return F=F||"default",Ot(f,function(I){var B=this.sourceEndpointDefinitions[u(I).id];return B&&B[F]&&B[F].enabled===!0}.bind(this))},this.toggleTargetEnabled=function(f,F){return St("target",f,null,!0,F),this.isTargetEnabled(f,F)},this.isTarget=function(f,F){return F=F||"default",Ot(f,function(I){var B=this.targetEndpointDefinitions[u(I).id];return B!=null&&B[F]!=null}.bind(this))},this.isTargetEnabled=function(f,F){return F=F||"default",Ot(f,function(I){var B=this.targetEndpointDefinitions[u(I).id];return B&&B[F]&&B[F].enabled===!0}.bind(this))},this.setTargetEnabled=function(f,F,I){return St("target",f,F,null,I)},this.ready=function(f){d.bind("ready",f)};var It=function(f,F){if(typeof f=="object"&&f.length)for(var I=0,B=f.length;I<B;I++)F(f[I]);else F(f);return d};this.repaint=function(f,F,I){return It(f,function(B){Y(B,F,I)})},this.revalidate=function(f,F,I){var B=I?f:d.getId(f);d.updateOffset({elId:B,recalc:!0,timestamp:F});var q=d.getDragManager();return q&&q.updateOffsets(B),Y(f,null,F)},this.repaintEverything=function(){var f=jsPlumbUtil.uuid(),F;for(F in D)d.updateOffset({elId:F,recalc:!0,timestamp:f});for(F in D)Y(F,null,f);return this},this.removeAllEndpoints=function(f,F,I){I=I||[];var B=function(q){var Z=u(q),st=D[Z.id],ht,at;if(st)for(I.push(Z),ht=0,at=st.length;ht<at;ht++)d.deleteEndpoint(st[ht],!1);if(delete D[Z.id],F&&Z.el&&Z.el.nodeType!==3&&Z.el.nodeType!==8)for(ht=0,at=Z.el.childNodes.length;ht<at;ht++)B(Z.el.childNodes[ht])};return B(f),this};var jt=function(f,F){d.removeAllEndpoints(f.id,!0,F);for(var I=d.getDragManager(),B=function(Z){I&&I.elementRemoved(Z.id),d.router.elementRemoved(Z.id),d.isSource(Z.el)&&d.unmakeSource(Z.el),d.isTarget(Z.el)&&d.unmakeTarget(Z.el),d.destroyDraggable(Z.el),d.destroyDroppable(Z.el),delete d.floatingConnections[Z.id],delete H[Z.id],delete M[Z.id],Z.el&&(d.removeElement(Z.el),Z.el._jsPlumb=null)},q=1;q<F.length;q++)B(F[q]);B(f)};this.remove=function(f,F){var I=u(f),B=[];return I.text&&I.el.parentNode?I.el.parentNode.removeChild(I.el):I.id&&d.batch(function(){jt(I,B)},F===!0),d},this.empty=function(f,F){var I=[],B=function(q,Z){var st=u(q);if(st.text)st.el.parentNode.removeChild(st.el);else if(st.el){for(;st.el.childNodes.length>0;)B(st.el.childNodes[0]);Z||jt(st,I)}};return d.batch(function(){B(f,!0)},F===!1),d},this.reset=function(f){d.silently(function(){kr=!1,d.removeAllGroups(),d.removeGroupManager(),d.deleteEveryEndpoint(),f||d.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},A.length=0,this.doReset&&this.doReset()}.bind(this))},this.destroy=function(){this.reset(),m=null,S=null};var $t=function(f){f.canvas&&f.canvas.parentNode&&f.canvas.parentNode.removeChild(f.canvas),f.cleanup(),f.destroy()};this.clear=function(){d.select().each($t),d.selectEndpoints().each($t),D={},j={}},this.setDefaultScope=function(f){return p=f,d},this.deriveEndpointAndAnchorSpec=function(f,F){for(var I=((F?"":"default ")+f).split(/[\s]/),B=null,q=null,Z=null,st=null,ht=0;ht<I.length;ht++){var at=d.getType(I[ht],"connection");at&&(at.endpoints&&(B=at.endpoints),at.endpoint&&(q=at.endpoint),at.anchors&&(st=at.anchors),at.anchor&&(Z=at.anchor))}return{endpoints:B||[q,q],anchors:st||[Z,Z]}},this.setId=function(f,F,I){var B;n.isString(f)?B=f:(f=this.getElement(f),B=this.getId(f));var q=this.getConnections({source:B,scope:"*"},!0),Z=this.getConnections({target:B,scope:"*"},!0);F=""+F,I?f=this.getElement(F):(f=this.getElement(B),this.setAttribute(f,"id",F)),D[F]=D[B]||[];for(var st=0,ht=D[F].length;st<ht;st++)D[F][st].setElementId(F),D[F][st].setReferenceElement(f);delete D[B],this.sourceEndpointDefinitions[F]=this.sourceEndpointDefinitions[B],delete this.sourceEndpointDefinitions[B],this.targetEndpointDefinitions[F]=this.targetEndpointDefinitions[B],delete this.targetEndpointDefinitions[B],this.router.changeId(B,F);var at=this.getDragManager();at&&at.changeId(B,F),H[F]=H[B],delete H[B];var lt=function(ut,Nt,yt){for(var Lt=0,Yt=ut.length;Lt<Yt;Lt++)ut[Lt].endpoints[Nt].setElementId(F),ut[Lt].endpoints[Nt].setReferenceElement(f),ut[Lt][yt+"Id"]=F,ut[Lt][yt]=f};lt(q,0,"source"),lt(Z,1,"target"),this.repaint(F)},this.setDebugLog=function(f){R=f},this.setSuspendDrawing=function(f,F){var I=C;return C=f,f?g=new Date().getTime():g=null,F&&this.repaintEverything(),I},this.isSuspendDrawing=function(){return C},this.getSuspendedAt=function(){return g},this.batch=function(f,F){var I=this.isSuspendDrawing();I||this.setSuspendDrawing(!0);try{f()}catch(B){n.log("Function run while suspended failed",B)}I||this.setSuspendDrawing(!1,!F)},this.doWhileSuspended=this.batch,this.getCachedData=Dt,this.show=function(f,F){return Mt(f,"block",F),d},this.toggleVisible=gt,this.addListener=this.bind;var Se=[];this.registerFloatingConnection=function(f,F,I){Se[f.id]=F,n.addToList(D,f.id,I)},this.getFloatingConnectionFor=function(f){return Se[f]},this.listManager=new t.jsPlumbListManager(this,this.Defaults.ListStyle)};n.extend(t.jsPlumbInstance,n.EventGenerator,{setAttribute:function(h,d,k){this.setAttribute(h,d,k)},getAttribute:function(h,d){return this.getAttribute(t.jsPlumb.getElement(h),d)},convertToFullOverlaySpec:function(h){return n.isString(h)&&(h=[h,{}]),h[1].id=h[1].id||n.uuid(),h},registerConnectionType:function(h,d){if(this._connectionTypes[h]=t.jsPlumb.extend({},d),d.overlays){for(var k={},N=0;N<d.overlays.length;N++){var $=this.convertToFullOverlaySpec(d.overlays[N]);k[$[1].id]=$}this._connectionTypes[h].overlays=k}},registerConnectionTypes:function(h){for(var d in h)this.registerConnectionType(d,h[d])},registerEndpointType:function(h,d){if(this._endpointTypes[h]=t.jsPlumb.extend({},d),d.overlays){for(var k={},N=0;N<d.overlays.length;N++){var $=this.convertToFullOverlaySpec(d.overlays[N]);k[$[1].id]=$}this._endpointTypes[h].overlays=k}},registerEndpointTypes:function(h){for(var d in h)this.registerEndpointType(d,h[d])},getType:function(h,d){return d==="connection"?this._connectionTypes[h]:this._endpointTypes[h]},setIdChanged:function(h,d){this.setId(h,d,!0)},setParent:function(h,d){var k=this.getElement(h),N=this.getId(k),$=this.getElement(d),z=this.getId($),u=this.getDragManager();k.parentNode.removeChild(k),$.appendChild(k),u&&u.setParent(k,N,$,z)},extend:function(h,d,k){var N;if(k)for(N=0;N<k.length;N++)h[k[N]]=d[k[N]];else for(N in d)h[N]=d[N];return h},floatingConnections:{},getFloatingAnchorIndex:function(h){return h.endpoints[0].isFloating()?0:h.endpoints[1].isFloating()?1:-1},proxyConnection:function(h,d,k,N,$,z){var u,v=h.endpoints[d].elementId,m=h.endpoints[d];h.proxies=h.proxies||[],h.proxies[d]?u=h.proxies[d].ep:u=this.addEndpoint(k,{endpoint:$(h,d),anchor:z(h,d),parameters:{isProxyEndpoint:!0}}),u.setDeleteOnEmpty(!0),h.proxies[d]={ep:u,originalEp:m},d===0?this.router.sourceOrTargetChanged(v,N,h,k,0):this.router.sourceOrTargetChanged(v,N,h,k,1),m.detachFromConnection(h,null,!0),u.connections=[h],h.endpoints[d]=u,m.setVisible(!1),h.setVisible(!0),this.revalidate(k)},unproxyConnection:function(h,d,k){if(!(h._jsPlumb==null||h.proxies==null||h.proxies[d]==null)){var N=h.proxies[d].originalEp.element,$=h.proxies[d].originalEp.elementId;h.endpoints[d]=h.proxies[d].originalEp,d===0?this.router.sourceOrTargetChanged(k,$,h,N,0):this.router.sourceOrTargetChanged(k,$,h,N,1),h.proxies[d].ep.detachFromConnection(h,null),h.proxies[d].originalEp.addConnection(h),h.isVisible()&&h.proxies[d].originalEp.setVisible(!0),delete h.proxies[d]}}});var P=new U;t.jsPlumb=P,P.getInstance=function(h,d){var k=new U(h);if(d)for(var N in d)k[N]=d[N];return k.init(),k},P.each=function(h,d){if(h!=null)if(typeof h=="string")d(P.getElement(h));else if(h.length!=null)for(var k=0;k<h.length;k++)d(P.getElement(h[k]));else d(h)},typeof zt<"u"&&(zt.jsPlumb=P)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="__label",r=function(o,c){var a={cssClass:c.cssClass,labelStyle:o.labelStyle,id:i,component:o,_jsPlumb:o._jsPlumb.instance},l=n.extend(a,c);return new n.Overlays[o._jsPlumb.instance.getRenderMode()].Label(l)},s=function(o,c){var a=null;if(e.isArray(c)){var l=c[0],b=n.extend({component:o,_jsPlumb:o._jsPlumb.instance},c[1]);c.length===3&&n.extend(b,c[2]),a=new n.Overlays[o._jsPlumb.instance.getRenderMode()][l](b)}else c.constructor===String?a=new n.Overlays[o._jsPlumb.instance.getRenderMode()][c]({component:o,_jsPlumb:o._jsPlumb.instance}):a=c;return a.id=a.id||e.uuid(),o.cacheTypeItem("overlay",a,a.id),o._jsPlumb.overlays[a.id]=a,a};n.OverlayCapableJsPlumbUIComponent=function(o){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},o.label&&(this.getDefaultType().overlays[i]=["Label",{label:o.label,location:o.labelLocation||this.defaultLabelLocation||.5,labelStyle:o.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:i}]),this.setListenerComponent=function(c){if(this._jsPlumb)for(var a in this._jsPlumb.overlays)this._jsPlumb.overlays[a].setListenerComponent(c)}},n.OverlayCapableJsPlumbUIComponent.applyType=function(o,c){if(c.overlays){var a={},l;for(l in c.overlays){var b=o._jsPlumb.overlays[c.overlays[l][1].id];if(b)b.updateFrom(c.overlays[l][1]),a[c.overlays[l][1].id]=!0,b.reattach(o._jsPlumb.instance,o);else{var _=o.getCachedTypeItem("overlay",c.overlays[l][1].id);_!=null?(_.reattach(o._jsPlumb.instance,o),_.setVisible(!0),_.updateFrom(c.overlays[l][1]),o._jsPlumb.overlays[_.id]=_):_=o.addOverlay(c.overlays[l],!0),a[_.id]=!0}}for(l in o._jsPlumb.overlays)a[o._jsPlumb.overlays[l].id]==null&&o.removeOverlay(o._jsPlumb.overlays[l].id,!0)}},e.extend(n.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(o,c){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var a in this._jsPlumb.overlays)this._jsPlumb.overlays[a][o?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(o,c){var a=s(this,o);if(this.getData&&a.type==="Label"&&e.isArray(o)){var l=this.getData(),b=o[1];if(l){var _=b.labelLocationAttribute||"labelLocation",O=l?l[_]:null;O&&(a.loc=O)}}return c||this.repaint(),a},getOverlay:function(o){return this._jsPlumb.overlays[o]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(o){var c=this.getOverlay(o);c&&c.hide()},hideOverlays:function(){for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o].hide()},showOverlay:function(o){var c=this.getOverlay(o);c&&c.show()},showOverlays:function(){for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o].show()},removeAllOverlays:function(o){for(var c in this._jsPlumb.overlays)this._jsPlumb.overlays[c].cleanup&&this._jsPlumb.overlays[c].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},o||this.repaint()},removeOverlay:function(o,c){var a=this._jsPlumb.overlays[o];a&&(a.setVisible(!1),!c&&a.cleanup&&a.cleanup(),delete this._jsPlumb.overlays[o],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[o],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[o])},removeOverlays:function(){for(var o=0,c=arguments.length;o<c;o++)this.removeOverlay(arguments[o])},moveParent:function(o){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),o.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),o.appendChild(this.canvas);for(var c in this._jsPlumb.overlays)if(this._jsPlumb.overlays[c].isAppendedAtTopLevel){var a=this._jsPlumb.overlays[c].getElement();a.parentNode.removeChild(a),o.appendChild(a)}}},getLabel:function(){var o=this.getOverlay(i);return o!=null?o.getLabel():null},getLabelOverlay:function(){return this.getOverlay(i)},setLabel:function(o){var c=this.getOverlay(i);if(c)o.constructor===String||o.constructor===Function?c.setLabel(o):(o.label&&c.setLabel(o.label),o.location&&c.setLocation(o.location));else{var a=o.constructor===String||o.constructor===Function?{label:o}:o;c=r(this,a),this._jsPlumb.overlays[i]=c}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(o){for(var c in this._jsPlumb.overlays)this._jsPlumb.overlays[c].cleanup(o),this._jsPlumb.overlays[c].destroy(o);o&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(o){this[o?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(o,c){this._jsPlumb.overlayPositions[o.id]=c},getAbsoluteOverlayPosition:function(o){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[o.id]:null},_clazzManip:function(o,c,a){if(!a)for(var l in this._jsPlumb.overlays)this._jsPlumb.overlays[l][o+"Class"](c)},addClass:function(o,c){this._clazzManip("add",o,c)},removeClass:function(o,c){this._clazzManip("remove",o,c)}})}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(a,l,b){var _=!1;return{drag:function(){if(_)return _=!1,!0;if(l.element){var O=b.getUIPosition(arguments,b.getZoom());O!=null&&b.setPosition(l.element,O),b.repaint(l.element,O),a.paint({anchorPoint:a.anchor.getCurrentLocation({element:a})})}},stopDrag:function(){_=!0}}},r=function(a,l,b,_){var O=l.createElement("div",{position:"absolute"});l.appendElement(O);var T=l.getId(O);l.setPosition(O,b),O.style.width=_[0]+"px",O.style.height=_[1]+"px",l.manage(T,O,!0),a.id=T,a.element=O},s=function(a,l,b,_,O,T,U,P){var h=new n.FloatingAnchor({reference:l,referenceCanvas:_,jsPlumbInstance:T});return U({paintStyle:a,endpoint:b,anchor:h,source:O,scope:P})},o=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],c=function(a,l){var b=0;if(l!=null){for(var _=0;_<a.connections.length;_++)if(a.connections[_].sourceId===l||a.connections[_].targetId===l){b=_;break}}return a.connections[b]};n.Endpoint=function(a){var l=a._jsPlumb,b=a.newConnection,_=a.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:a.connectionType,maxConnections:a.maxConnections==null?this._jsPlumb.instance.Defaults.MaxConnections:a.maxConnections,paintStyle:a.endpointStyle||a.paintStyle||a.style||this._jsPlumb.instance.Defaults.EndpointStyle||n.Defaults.EndpointStyle,hoverPaintStyle:a.endpointHoverStyle||a.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,connectorStyle:a.connectorStyle,connectorHoverStyle:a.connectorHoverStyle,connectorClass:a.connectorClass,connectorHoverClass:a.connectorHoverClass,connectorOverlays:a.connectorOverlays,connector:a.connector,connectorTooltip:a.connectorTooltip}),this._jsPlumb.enabled=a.enabled!==!1,this._jsPlumb.visible=!0,this.element=n.getElement(a.source),this._jsPlumb.uuid=a.uuid,this._jsPlumb.floatingEndpoint=null;var O=null;this._jsPlumb.uuid&&(a.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=a.elementId,this.dragProxy=a.dragProxy,this._jsPlumb.connectionCost=a.connectionCost,this._jsPlumb.connectionsDirected=a.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var T=a.deleteOnEmpty===!0;this.setDeleteOnEmpty=function(z){T=z};var U=function(){var z=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var u=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(z),this.addClass(u),n.updateClasses(this.element,u,z)}.bind(this);this.prepareAnchor=function(z){var u=this._jsPlumb.instance.makeAnchor(z,this.elementId,l);return u.bind("anchorChanged",function(v){this.fire("anchorChanged",{endpoint:this,anchor:v}),U()}.bind(this)),u},this.setPreparedAnchor=function(z,u){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=z,U(),u||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(z,u){var v=this.prepareAnchor(z);return this.setPreparedAnchor(v,u),this};var P=function(z){if(this.connections.length>0)for(var u=0;u<this.connections.length;u++)this.connections[u].setHover(z,!1);else this.setHover(z)}.bind(this);this.bind("mouseover",function(){P(!0)}),this.bind("mouseout",function(){P(!1)}),a._transient||this._jsPlumb.instance.router.addEndpoint(this,this.elementId),this.prepareEndpoint=function(z,u){var v=function(R,w){var A=l.getRenderMode();if(n.Endpoints[A][R])return new n.Endpoints[A][R](w);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+R+"'"}},m={_jsPlumb:this._jsPlumb.instance,cssClass:a.cssClass,container:a.container,tooltip:a.tooltip,connectorTooltip:a.connectorTooltip,endpoint:this},S;return e.isString(z)?S=v(z,m):e.isArray(z)?(m=e.merge(z[1],m),S=v(z[0],m)):S=z.clone(),S.clone=function(){if(e.isString(z))return v(z,m);if(e.isArray(z))return m=e.merge(z[1],m),v(z[0],m)}.bind(this),S.typeId=u,S},this.setEndpoint=function(z,u){var v=this.prepareEndpoint(z);this.setPreparedEndpoint(v,!0)},this.setPreparedEndpoint=function(z,u){this.endpoint!=null&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=z,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},n.extend(this,a,o),this.isSource=a.isSource||!1,this.isTemporarySource=a.isTemporarySource||!1,this.isTarget=a.isTarget||!1,this.connections=a.connections||[],this.connectorPointerEvents=a["connector-pointer-events"],this.scope=a.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=a.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,(a.connectionsDetachable===!1||a.detachable===!1)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=a.dragAllowedWhenFull!==!1,a.onMaxConnections&&this.bind("maxConnections",a.onMaxConnections),this.addConnection=function(z){this.connections.push(z),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(z,u,v){u=u??this.connections.indexOf(z),u>=0&&(this.connections.splice(u,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),!v&&T&&this.connections.length===0&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:v!==!0})},this.deleteEveryConnection=function(z){for(var u=this.connections.length,v=0;v<u;v++)l.deleteConnection(this.connections[0],z)},this.detachFrom=function(z,u,v){for(var m=[],S=0;S<this.connections.length;S++)(this.connections[S].endpoints[1]===z||this.connections[S].endpoints[0]===z)&&m.push(this.connections[S]);for(var R=0,w=m.length;R<w;R++)l.deleteConnection(m[0]);return this},this.getElement=function(){return this.element},this.setElement=function(z){var u=this._jsPlumb.instance.getId(z),v=this.elementId;return e.removeWithFunction(a.endpointsByElement[this.elementId],function(m){return m.id===this.id}.bind(this)),this.element=n.getElement(z),this.elementId=l.getId(this.element),l.router.rehomeEndpoint(this,v,this.element),l.dragManager.endpointAdded(this.element),e.addToList(a.endpointsByElement,u,this),this},this.makeInPlaceCopy=function(){var z=this.anchor.getCurrentLocation({element:this}),u=this.anchor.getOrientation(this),v=this.anchor.getCssClass(),m={bind:function(){},compute:function(){return[z[0],z[1]]},getCurrentLocation:function(){return[z[0],z[1]]},getOrientation:function(){return u},getCssClass:function(){return v}};return _({dropOptions:a.dropOptions,anchor:m,source:this.element,paintStyle:this.getPaintStyle(),endpoint:a.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(z){z=z||{};var u=z.timestamp,v=z.recalc!==!1;if(!u||this.timestamp!==u){var m=l.updateOffset({elId:this.elementId,timestamp:u}),S=z.offset?z.offset.o:m.o;if(S!=null){var R=z.anchorPoint,w=z.connectorPaintStyle;if(R==null){var A=z.dimensions||m.s,D={xy:[S.left,S.top],wh:A,element:this,timestamp:u};if(v&&this.anchor.isDynamic&&this.connections.length>0){var j=c(this,z.elementWithPrecedence),H=j.endpoints[0]===this?1:0,M=H===0?j.sourceId:j.targetId,L=l.getCachedData(M),G=L.o,X=L.s;D.index=H===0?1:0,D.connection=j,D.txy=[G.left,G.top],D.twh=X,D.tElement=j.endpoints[H],D.tRotation=l.getRotation(M)}else this.connections.length>0&&(D.connection=this.connections[0]);D.rotation=l.getRotation(this.elementId),R=this.anchor.compute(D)}this.endpoint.compute(R,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,w||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=u;for(var x in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(x)){var C=this._jsPlumb.overlays[x];C.isVisible()&&(this._jsPlumb.overlayPlacements[x]=C.draw(this.endpoint,this._jsPlumb.paintStyleInUse),C.paint(this._jsPlumb.overlayPlacements[x]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var h=!1;this.initDraggable=function(){if(!h&&n.isDragSupported(this.element)){var z={id:null,element:null},u=null,v=!1,m=null,S=i(this,z,l),R=a.dragOptions||{},w={},A=n.dragEvents.start,D=n.dragEvents.stop,j=n.dragEvents.drag,H=n.dragEvents.beforeStart,M,L=function(x){M=x.e.payload||{}},G=function(x){u=this.connectorSelector();var C=!0;this.isEnabled()||(C=!1),u==null&&!this.isSource&&!this.isTemporarySource&&(C=!1),this.isSource&&this.isFull()&&!(u!=null&&this.dragAllowedWhenFull)&&(C=!1),u!=null&&!u.isDetachable(this)&&(this.isFull()?C=!1:u=null);var g=l.checkCondition(u==null?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:u});if(g===!1?C=!1:typeof g=="object"?n.extend(g,M||{}):g=M||{},C===!1)return l.stopDrag&&l.stopDrag(this.canvas),S.stopDrag(),!1;for(var p=0;p<this.connections.length;p++)this.connections[p].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),u&&!this.isFull()&&this.isSource&&(u=null),l.updateOffset({elId:this.elementId});var E=this._jsPlumb.instance.getOffset(this.canvas),y=this.canvas,V=this._jsPlumb.instance.getSize(this.canvas);r(z,l,E,V),l.setAttributes(this.canvas,{dragId:z.id,elId:this.elementId});var Y=this.dragProxy||this.endpoint;if(this.dragProxy==null&&this.connectionType!=null){var W=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);W.endpoints[1]&&(Y=W.endpoints[1])}var K=this._jsPlumb.instance.makeAnchor("Center");K.isFloating=!0,this._jsPlumb.floatingEndpoint=s(this.getPaintStyle(),K,Y,this.canvas,z.element,l,_,this.scope);var et=this._jsPlumb.floatingEndpoint.anchor;if(u==null)this.setHover(!1,!1),u=b({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:z.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:a.connectorStyle,hoverPaintStyle:a.connectorHoverStyle,connector:a.connector,overlays:a.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:a.scope,data:g}),u.pending=!0,u.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=et,l.fire("connectionDrag",u),l.router.newConnection(u);else{v=!0,u.setHover(!1);var nt=u.endpoints[0].id===this.id?0:1;this.detachFromConnection(u,null,!0);var Q=l.getDragScope(y);l.setAttribute(this.canvas,"originalScope",Q),l.fire("connectionDrag",u),nt===0?(m=[u.source,u.sourceId,y,Q],l.router.sourceOrTargetChanged(u.endpoints[nt].elementId,z.id,u,z.element,0)):(m=[u.target,u.targetId,y,Q],l.router.sourceOrTargetChanged(u.endpoints[nt].elementId,z.id,u,z.element,1)),u.suspendedEndpoint=u.endpoints[nt],u.suspendedElement=u.endpoints[nt].getElement(),u.suspendedElementId=u.endpoints[nt].elementId,u.suspendedElementType=nt===0?"source":"target",u.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=u.suspendedEndpoint,u.endpoints[nt]=this._jsPlumb.floatingEndpoint,u.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.registerFloatingConnection(z,u,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}.bind(this),X=function(){if(l.setConnectionBeingDragged(!1),u&&u.endpoints!=null){var x=l.getDropEvent(arguments),C=l.getFloatingAnchorIndex(u);if(u.endpoints[C===0?1:0].anchor.locked=!1,u.removeClass(l.draggingClass),this._jsPlumb&&(u.deleteConnectionNow||u.endpoints[C]===this._jsPlumb.floatingEndpoint)&&v&&u.suspendedEndpoint){C===0?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=m[0],u.sourceId=m[1]):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=m[0],u.targetId=m[1]);var g=this._jsPlumb.floatingEndpoint;l.setDragScope(m[2],m[3]),u.endpoints[C]=u.suspendedEndpoint,u.isReattach()||u._forceReattach||u._forceDetach||!l.deleteConnection(u,{originalEvent:x})?(u.setHover(!1),u._forceDetach=null,u._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(u),u.suspendedEndpoint.addConnection(u),C===1?l.router.sourceOrTargetChanged(u.floatingId,u.targetId,u,u.target,C):l.router.sourceOrTargetChanged(u.floatingId,u.sourceId,u,u.source,C),l.repaint(m[1])):l.deleteObject({endpoint:g})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",u,x),u.pending&&l.fire("connectionAborted",u,x),l.currentlyDragging=!1,u.suspendedElement=null,u.suspendedEndpoint=null,u=null}z&&z.element&&l.remove(z.element,!1,!1),O&&l.deleteObject({endpoint:O}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);R=n.extend(w,R),R.scope=this.scope||R.scope,R[H]=e.wrap(R[H],L,!1),R[A]=e.wrap(R[A],G,!1),R[j]=e.wrap(R[j],S.drag),R[D]=e.wrap(R[D],X),R.multipleDrop=!1,R.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&this.connectionsDetachable!==!1}.bind(this),l.initDraggable(this.canvas,R,"internal"),this.canvas._jsPlumbRelatedElement=this.element,h=!0}};var d=a.endpoint||this._jsPlumb.instance.Defaults.Endpoint||n.Defaults.Endpoint;this.setEndpoint(d,!0);var k=a.anchor?a.anchor:a.anchors?a.anchors:l.Defaults.Anchor||"Top";this.setAnchor(k,!0);var N=["default",a.type||""].join(" ");this.addType(N,a.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var $=function(z,u,v,m){if(n.isDropSupported(this.element)){var S=a.dropOptions||l.Defaults.DropOptions||n.Defaults.DropOptions;S=n.extend({},S),S.scope=S.scope||this.scope;var R=n.dragEvents.drop,w=n.dragEvents.over,A=n.dragEvents.out,D=this,j=l.EndpointDropHandler({getEndpoint:function(){return D},jsPlumb:l,enabled:function(){return v!=null?v.isEnabled():!0},isFull:function(){return v.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(H){D.addClass(H)},removeClass:function(H){D.removeClass(H)},isDropAllowed:function(){return D.isDropAllowed.apply(D,arguments)},reference:m,isRedrop:function(H,M){return H.suspendedEndpoint&&M.reference&&H.suspendedEndpoint.id===M.reference.id}});S[R]=e.wrap(S[R],j,!0),S[w]=e.wrap(S[w],function(){var H=n.getDragObject(arguments),M=l.getAttribute(n.getElement(H),"dragId"),L=l.getFloatingConnectionFor(M);if(L!=null){var G=l.getFloatingAnchorIndex(L),X=this.isTarget&&G!==0||L.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===L.suspendedEndpoint.id;if(X){var x=l.checkCondition("checkDropAllowed",{sourceEndpoint:L.endpoints[G],targetEndpoint:this,connection:L});this[(x?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(x?"remove":"add")+"Class"](l.endpointDropForbiddenClass),L.endpoints[G].anchor.over(this.anchor,this)}}}.bind(this)),S[A]=e.wrap(S[A],function(){var H=n.getDragObject(arguments),M=H==null?null:l.getAttribute(n.getElement(H),"dragId"),L=M?l.getFloatingConnectionFor(M):null;if(L!=null){var G=l.getFloatingAnchorIndex(L),X=this.isTarget&&G!==0||L.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===L.suspendedEndpoint.id;X&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),L.endpoints[G].anchor.out())}}.bind(this)),l.initDroppable(z,S,"internal",u)}}.bind(this);return this.anchor.isFloating||$(this.canvas,!(a._transient||this.anchor.isFloating),this,a.reference),this},e.extend(n.Endpoint,n.OverlayCapableJsPlumbUIComponent,{setVisible:function(a,l,b){if(this._jsPlumb.visible=a,this.canvas&&(this.canvas.style.display=a?"block":"none"),this[a?"showOverlays":"hideOverlays"](),!l){for(var _=0;_<this.connections.length;_++)if(this.connections[_].setVisible(a),!b){var O=this===this.connections[_].endpoints[0]?1:0;this.connections[_].endpoints[O].connections.length===1&&this.connections[_].endpoints[O].setVisible(a,!0,!0)}}},getAttachedElements:function(){return this.connections},applyType:function(a,l){this.setPaintStyle(a.endpointStyle||a.paintStyle,l),this.setHoverPaintStyle(a.endpointHoverStyle||a.hoverPaintStyle,l),a.maxConnections!=null&&(this._jsPlumb.maxConnections=a.maxConnections),a.scope&&(this.scope=a.scope),n.extend(this,a,o),a.cssClass!=null&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,a.cssClass),n.OverlayCapableJsPlumbUIComponent.applyType(this,a)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(a){this._jsPlumb.enabled=a},cleanup:function(){var a=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");n.removeClass(this.element,a),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(a){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(a)},isFull:function(){return this._jsPlumb.maxConnections===0?!0:!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return this.anchor!=null&&this.anchor.isFloating},isConnectedTo:function(a){var l=!1;if(a){for(var b=0;b<this.connections.length;b++)if(this.connections[b].endpoints[1]===a||this.connections[b].endpoints[0]===a){l=!0;break}}return l},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(a){this._jsPlumb.connectionCost=a},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(a){this._jsPlumb.connectionsDirected=a},setElementId:function(a){this.elementId=a,this.anchor.elementId=a},setReferenceElement:function(a){this.element=n.getElement(a)},setDragAllowedWhenFull:function(a){this.dragAllowedWhenFull=a},equals:function(a){return this.anchor.equals(a.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(a){return this.anchor.compute(a)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(a){return function(l){var b=a.jsPlumb;a.removeClass(b.endpointDropAllowedClass),a.removeClass(b.endpointDropForbiddenClass);var _=b.getDropEvent(arguments),O=b.getDragObject(arguments),T=b.getAttribute(O,"dragId"),U=b.getAttribute(O,"elId"),P=b.getAttribute(O,"originalScope"),h=b.getFloatingConnectionFor(T);if(h!=null){var d=h.suspendedEndpoint!=null;if(!(d&&h.suspendedEndpoint._jsPlumb==null)){var k=a.getEndpoint(h);if(k!=null){if(a.isRedrop(h,a)){h._forceReattach=!0,h.setHover(!1),a.maybeCleanup&&a.maybeCleanup(k);return}var N=b.getFloatingAnchorIndex(h);if(N===0&&!a.isSource||N===1&&!a.isTarget){a.maybeCleanup&&a.maybeCleanup(k);return}a.onDrop&&a.onDrop(h),P&&b.setDragScope(O,P);var $=a.isFull(l);if($&&k.fire("maxConnections",{endpoint:this,connection:h,maxConnections:k._jsPlumb.maxConnections},_),!$&&a.enabled()){var z=!0;N===0?(h.floatingElement=h.source,h.floatingId=h.sourceId,h.floatingEndpoint=h.endpoints[0],h.floatingIndex=0,h.source=a.element,h.sourceId=b.getId(a.element)):(h.floatingElement=h.target,h.floatingId=h.targetId,h.floatingEndpoint=h.endpoints[1],h.floatingIndex=1,h.target=a.element,h.targetId=b.getId(a.element)),d&&h.suspendedEndpoint.id!==k.id&&(!h.isDetachAllowed(h)||!h.endpoints[N].isDetachAllowed(h)||!h.suspendedEndpoint.isDetachAllowed(h)||!b.checkCondition("beforeDetach",h))&&(z=!1);var u=function(m){h.endpoints[N].detachFromConnection(h),h.suspendedEndpoint&&h.suspendedEndpoint.detachFromConnection(h),h.endpoints[N]=k,k.addConnection(h);var S=k.getParameters();for(var R in S)h.setParameter(R,S[R]);if(!d)S.draggable&&b.initDraggable(this.element,a.dragOptions,"internal",b);else{var w=h.suspendedEndpoint.elementId;b.fireMoveEvent({index:N,originalSourceId:N===0?w:h.sourceId,newSourceId:N===0?k.elementId:h.sourceId,originalTargetId:N===1?w:h.targetId,newTargetId:N===1?k.elementId:h.targetId,originalSourceEndpoint:N===0?h.suspendedEndpoint:h.endpoints[0],newSourceEndpoint:N===0?k:h.endpoints[0],originalTargetEndpoint:N===1?h.suspendedEndpoint:h.endpoints[1],newTargetEndpoint:N===1?k:h.endpoints[1],connection:h},_)}if(N===1?b.router.sourceOrTargetChanged(h.floatingId,h.targetId,h,h.target,1):b.router.sourceOrTargetChanged(h.floatingId,h.sourceId,h,h.source,0),h.endpoints[0].finalEndpoint){var A=h.endpoints[0];A.detachFromConnection(h),h.endpoints[0]=h.endpoints[0].finalEndpoint,h.endpoints[0].addConnection(h)}e.isObject(m)&&h.mergeData(m),b.finaliseConnection(h,null,_,!1),h.setHover(!1),b.revalidate(h.endpoints[0].element)}.bind(this),v=function(){h.suspendedEndpoint&&(h.endpoints[N]=h.suspendedEndpoint,h.setHover(!1),h._forceDetach=!0,N===0?(h.source=h.suspendedEndpoint.element,h.sourceId=h.suspendedEndpoint.elementId):(h.target=h.suspendedEndpoint.element,h.targetId=h.suspendedEndpoint.elementId),h.suspendedEndpoint.addConnection(h),N===1?b.router.sourceOrTargetChanged(h.floatingId,h.targetId,h,h.target,1):b.router.sourceOrTargetChanged(h.floatingId,h.sourceId,h,h.source,0),b.repaint(h.sourceId),h._forceDetach=!1)};if(z=z&&a.isDropAllowed(h.sourceId,h.targetId,h.scope,h,k),z)return u(z),!0;v()}a.maybeCleanup&&a.maybeCleanup(k),b.currentlyDragging=!1}}}}}}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(o,c,a,l,b){if(n.Connectors[c]=n.Connectors[c]||{},n.Connectors[c][a]==null){if(n.Connectors[a]==null){if(o.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+a+"'")}n.Connectors[c][a]=function(){n.Connectors[a].apply(this,arguments),n.ConnectorRenderers[c].apply(this,arguments)},e.extend(n.Connectors[c][a],[n.Connectors[a],n.ConnectorRenderers[c]])}return new n.Connectors[c][a](l,b)},r=function(o,c,a){return o?a.makeAnchor(o,c,a):null},s=function(o,c,a,l){c!=null&&(c._jsPlumbConnections=c._jsPlumbConnections||{},l?delete c._jsPlumbConnections[o.id]:c._jsPlumbConnections[o.id]=!0,e.isEmpty(c._jsPlumbConnections)?a.removeClass(c,a.connectedClass):a.addClass(c,a.connectedClass))};n.Connection=function(o){var c=o.newEndpoint;this.id=o.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=o.previousConnection,this.source=n.getElement(o.source),this.target=n.getElement(o.target),n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),o.sourceEndpoint?(this.source=o.sourceEndpoint.getElement(),this.sourceId=o.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),o.targetEndpoint?(this.target=o.targetEndpoint.getElement(),this.targetId=o.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=o.scope,this.endpoints=[],this.endpointStyles=[];var a=this._jsPlumb.instance;a.manage(this.sourceId,this.source),a.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:o.cssClass,container:o.container,"pointer-events":o["pointer-events"],editorParams:o.editorParams,overlays:o.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(S,R,w,A,D){return w=w||this._jsPlumb.instance.getId(R),this.prepareEndpoint(a,c,this,A,S?0:1,o,R,w,D)},o.type&&(o.endpoints=o.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(o.type).endpoints);var l=this.makeEndpoint(!0,this.source,this.sourceId,o.sourceEndpoint),b=this.makeEndpoint(!1,this.target,this.targetId,o.targetEndpoint);l&&e.addToList(o.endpointsByElement,this.sourceId,l),b&&e.addToList(o.endpointsByElement,this.targetId,b),this.scope||(this.scope=this.endpoints[0].scope),o.deleteEndpointsOnEmpty!=null&&(this.endpoints[0].setDeleteOnEmpty(o.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(o.deleteEndpointsOnEmpty));var _=a.Defaults.ConnectionsDetachable;o.detachable===!1&&(_=!1),this.endpoints[0].connectionsDetachable===!1&&(_=!1),this.endpoints[1].connectionsDetachable===!1&&(_=!1);var O=o.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||a.Defaults.ReattachConnections;this.appendToDefaultType({detachable:_,reattach:O,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||o.paintStyle||a.Defaults.PaintStyle||n.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||o.hoverPaintStyle||a.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle});var T=a.getSuspendedAt();if(!a.isSuspendDrawing()){var U=a.getCachedData(this.sourceId),P=U.o,h=U.s,d=a.getCachedData(this.targetId),k=d.o,N=d.s,$=T||jsPlumbUtil.uuid(),z=this.endpoints[0].anchor.compute({xy:[P.left,P.top],wh:h,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[k.left,k.top],twh:N,tElement:this.endpoints[1],timestamp:$,rotation:a.getRotation(this.endpoints[0].elementId)});this.endpoints[0].paint({anchorLoc:z,timestamp:$}),z=this.endpoints[1].anchor.compute({xy:[k.left,k.top],wh:N,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[P.left,P.top],twh:h,tElement:this.endpoints[0],timestamp:$,rotation:a.getRotation(this.endpoints[1].elementId)}),this.endpoints[1].paint({anchorLoc:z,timestamp:$})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(S){return this._jsPlumb.detachable===!1?!1:S!=null?S.connectionsDetachable===!0:this._jsPlumb.detachable===!0},this.setDetachable=function(S){this._jsPlumb.detachable=S===!0},this.isReattach=function(){return this._jsPlumb.reattach===!0||this.endpoints[0].reattachConnections===!0||this.endpoints[1].reattachConnections===!0},this.setReattach=function(S){this._jsPlumb.reattach=S===!0},this._jsPlumb.cost=o.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=o.directed,o.directed==null&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var u=n.extend({},this.endpoints[1].getParameters());n.extend(u,this.endpoints[0].getParameters()),n.extend(u,this.getParameters()),this.setParameters(u),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||o.connector||a.Defaults.Connector||n.Defaults.Connector,!0);var v=o.data==null||!e.isObject(o.data)?{}:o.data;this.getData=function(){return v},this.setData=function(S){v=S||{}},this.mergeData=function(S){v=n.extend(v,S)};var m=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,o.type].join(" ");/[^\s]/.test(m)&&this.addType(m,o.data,!0),this.updateConnectedClass()},e.extend(n.Connection,n.OverlayCapableJsPlumbUIComponent,{applyType:function(o,c,a){var l=null;o.connector!=null&&(l=this.getCachedTypeItem("connector",a.connector),l==null&&(l=this.prepareConnector(o.connector,a.connector),this.cacheTypeItem("connector",l,a.connector)),this.setPreparedConnector(l)),o.detachable!=null&&this.setDetachable(o.detachable),o.reattach!=null&&this.setReattach(o.reattach),o.scope&&(this.scope=o.scope),o.cssClass!=null&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,o.cssClass);var b=null;o.anchor?(b=this.getCachedTypeItem("anchors",a.anchor),b==null&&(b=[this._jsPlumb.instance.makeAnchor(o.anchor),this._jsPlumb.instance.makeAnchor(o.anchor)],this.cacheTypeItem("anchors",b,a.anchor))):o.anchors&&(b=this.getCachedTypeItem("anchors",a.anchors),b==null&&(b=[this._jsPlumb.instance.makeAnchor(o.anchors[0]),this._jsPlumb.instance.makeAnchor(o.anchors[1])],this.cacheTypeItem("anchors",b,a.anchors))),b!=null&&(this.endpoints[0].anchor=b[0],this.endpoints[1].anchor=b[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),n.OverlayCapableJsPlumbUIComponent.applyType(this,o)},addClass:function(o,c){c&&(this.endpoints[0].addClass(o),this.endpoints[1].addClass(o),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(o)),this.connector&&this.connector.addClass(o)},removeClass:function(o,c){c&&(this.endpoints[0].removeClass(o),this.endpoints[1].removeClass(o),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(o)),this.connector&&this.connector.removeClass(o)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(o){this._jsPlumb.visible=o,this.connector&&this.connector.setVisible(o),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,this.connector!=null&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(o){this._jsPlumb&&(s(this,this.source,this._jsPlumb.instance,o),s(this,this.target,this._jsPlumb.instance,o))},setHover:function(o){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(o),t.jsPlumb[o?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[o?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(o){this._jsPlumb.cost=o},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(o,c){var a={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},l=this._jsPlumb.instance.getRenderMode(),b;return e.isString(o)?b=i(this._jsPlumb.instance,l,o,a,this):e.isArray(o)&&(o.length===1?b=i(this._jsPlumb.instance,l,o[0],a,this):b=i(this._jsPlumb.instance,l,o[0],e.merge(o[1],a),this)),c!=null&&(b.typeId=c),b},setPreparedConnector:function(o,c,a,l){if(this.connector!==o){var b,_="";if(this.connector!=null&&(b=this.connector,_=b.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=o,l&&this.cacheTypeItem("connector",o,l),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(_),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),b!=null)for(var O=this.getOverlays(),T=0;T<O.length;T++)O[T].transfer&&O[T].transfer(this.connector);a||this.setListenerComponent(this.connector),c||this.repaint()}},setConnector:function(o,c,a,l){var b=this.prepareConnector(o,l);this.setPreparedConnector(b,c,a,l)},paint:function(o){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){o=o||{};var c=o.timestamp,a=!1,l=a?this.sourceId:this.targetId,b=a?this.targetId:this.sourceId,_=a?0:1,O=a?1:0;if(c==null||c!==this._jsPlumb.lastPaintedAt){var T=this._jsPlumb.instance.updateOffset({elId:b}).o,U=this._jsPlumb.instance.updateOffset({elId:l}).o,P=this.endpoints[O],h=this.endpoints[_],d=P.anchor.getCurrentLocation({xy:[T.left,T.top],wh:[T.width,T.height],element:P,timestamp:c,rotation:this._jsPlumb.instance.getRotation(this.sourceId)}),k=h.anchor.getCurrentLocation({xy:[U.left,U.top],wh:[U.width,U.height],element:h,timestamp:c,rotation:this._jsPlumb.instance.getRotation(this.targetId)});this.connector.resetBounds(),this.connector.compute({sourcePos:d,targetPos:k,sourceOrientation:P.anchor.getOrientation(P),targetOrientation:h.anchor.getOrientation(h),sourceEndpoint:this.endpoints[O],targetEndpoint:this.endpoints[_],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:T,targetInfo:U});var N={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var $ in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty($)){var z=this._jsPlumb.overlays[$];z.isVisible()&&(this._jsPlumb.overlayPlacements[$]=z.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(z)),N.minX=Math.min(N.minX,this._jsPlumb.overlayPlacements[$].minX),N.maxX=Math.max(N.maxX,this._jsPlumb.overlayPlacements[$].maxX),N.minY=Math.min(N.minY,this._jsPlumb.overlayPlacements[$].minY),N.maxY=Math.max(N.maxY,this._jsPlumb.overlayPlacements[$].maxY))}var u=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,v=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),m={xmin:Math.min(this.connector.bounds.minX-(u+v),N.minX),ymin:Math.min(this.connector.bounds.minY-(u+v),N.minY),xmax:Math.max(this.connector.bounds.maxX+(u+v),N.maxX),ymax:Math.max(this.connector.bounds.maxY+(u+v),N.maxY)};this.connector.paintExtents=m,this.connector.paint(this._jsPlumb.paintStyleInUse,null,m);for(var S in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(S)){var R=this._jsPlumb.overlays[S];R.isVisible()&&R.paint(this._jsPlumb.overlayPlacements[S],m)}}this._jsPlumb.lastPaintedAt=c}},repaint:function(o){var c=jsPlumb.extend(o||{},{});c.elId=this.sourceId,this.paint(c)},prepareEndpoint:function(o,c,a,l,b,_,O,T,U){var P;if(l)a.endpoints[b]=l,l.addConnection(a);else{_.endpoints||(_.endpoints=[null,null]);var h=U||_.endpoints[b]||_.endpoint||o.Defaults.Endpoints[b]||n.Defaults.Endpoints[b]||o.Defaults.Endpoint||n.Defaults.Endpoint;_.endpointStyles||(_.endpointStyles=[null,null]),_.endpointHoverStyles||(_.endpointHoverStyles=[null,null]);var d=_.endpointStyles[b]||_.endpointStyle||o.Defaults.EndpointStyles[b]||n.Defaults.EndpointStyles[b]||o.Defaults.EndpointStyle||n.Defaults.EndpointStyle;d.fill==null&&_.paintStyle!=null&&(d.fill=_.paintStyle.stroke),d.outlineStroke==null&&_.paintStyle!=null&&(d.outlineStroke=_.paintStyle.outlineStroke),d.outlineWidth==null&&_.paintStyle!=null&&(d.outlineWidth=_.paintStyle.outlineWidth);var k=_.endpointHoverStyles[b]||_.endpointHoverStyle||o.Defaults.EndpointHoverStyles[b]||n.Defaults.EndpointHoverStyles[b]||o.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle;_.hoverPaintStyle!=null&&(k==null&&(k={}),k.fill==null&&(k.fill=_.hoverPaintStyle.stroke));var N=_.anchors?_.anchors[b]:_.anchor?_.anchor:r(o.Defaults.Anchors[b],T,o)||r(n.Defaults.Anchors[b],T,o)||r(o.Defaults.Anchor,T,o)||r(n.Defaults.Anchor,T,o),$=_.uuids?_.uuids[b]:null;P=c({paintStyle:d,hoverPaintStyle:k,endpoint:h,connections:[a],uuid:$,anchor:N,source:O,scope:_.scope,reattach:_.reattach||o.Defaults.ReattachConnections,detachable:_.detachable||o.Defaults.ConnectionsDetachable}),l==null&&P.setDeleteOnEmpty(!0),a.endpoints[b]=P,_.drawEndpoints===!1&&P.setVisible(!1,!0,!0)}return P},replaceEndpoint:function(o,c){var a=this.endpoints[o],l=a.elementId,b=this._jsPlumb.instance.getEndpoints(l),_=b.indexOf(a),O=this.makeEndpoint(o===0,a.element,l,null,c);this.endpoints[o]=O,b.splice(_,1,O),this._jsPlumb.instance.deleteObject({endpoint:a,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:a,current:O}),this._jsPlumb.instance.router.sourceOrTargetChanged(this.endpoints[1].elementId,this.endpoints[1].elementId,this,this.endpoints[1].element,1)}})}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumb;e.AnchorManager=function(o){var c={},a={},l={},b={},_=this,O={},T=o.jsPlumbInstance,U={},P=function(m,S,R,w,A,D,j,H){for(var M=[],L=S[A?0:1]/(w.length+1),G=0;G<w.length;G++){var X=(G+1)*L,x=D*S[A?1:0];j&&(X=S[A?0:1]-X);var C=A?X:x,g=R.left+C,p=C/S[0],E=A?x:X,y=R.top+E,V=E/S[1];if(H!==0){var Y=jsPlumbUtil.rotatePoint([g,y],[R.centerx,R.centery],H);g=Y[0],y=Y[1]}M.push([g,y,p,V,w[G][1],w[G][2]])}return M},h=function(m,S){return S[0][0]-m[0][0]},d=function(m,S){var R=m[0][0]<0?-Math.PI-m[0][0]:Math.PI-m[0][0],w=S[0][0]<0?-Math.PI-S[0][0]:Math.PI-S[0][0];return R-w},k={top:d,right:h,bottom:h,left:d},N=function(m,S){return m.sort(S)},$=function(m,S){var R=T.getCachedData(m),w=R.s,A=R.o,D=function(j,H,M,L,G,X,x){if(L.length>0)for(var C=N(L,k[j]),g=j==="right"||j==="top",p=T.getRotation(m),E=P(j,H,M,C,G,X,g,p),y=function(et,nt){a[et.id]=[nt[0],nt[1],nt[2],nt[3]],l[et.id]=x},V=0;V<E.length;V++){var Y=E[V][4],W=Y.endpoints[0].elementId===m,K=Y.endpoints[1].elementId===m;W&&y(Y.endpoints[0],E[V]),K&&y(Y.endpoints[1],E[V])}};D("bottom",w,A,S.bottom,!0,1,[0,1]),D("top",w,A,S.top,!0,0,[0,-1]),D("left",w,A,S.left,!1,0,[-1,0]),D("right",w,A,S.right,!1,1,[1,0])};this.reset=function(){c={},b={},O={}},this.addFloatingConnection=function(m,S){U[m]=S},this.newConnection=function(m){var S=m.sourceId,R=m.targetId,w=m.endpoints,A=!0,D=function(j,H,M,L,G){S===R&&M.isContinuous&&(m._jsPlumb.instance.removeElement(w[1].canvas),A=!1),n.addToList(b,L,[G,H,M.constructor===e.DynamicAnchor])};D(0,w[0],w[0].anchor,R,m),A&&D(1,w[1],w[1].anchor,S,m)};var z=function(m){(function(S,R){if(S){var w=function(A){return A[4]===R};n.removeWithFunction(S.top,w),n.removeWithFunction(S.left,w),n.removeWithFunction(S.bottom,w),n.removeWithFunction(S.right,w)}})(O[m.elementId],m.id)};this.connectionDetached=function(m,S){var R=m.connection||m,w=m.sourceId,A=m.targetId,D=R.endpoints,j=function(H,M,L,G,X){n.removeWithFunction(b[G],function(x){return x[0].id===X.id})};j(1,D[1],D[1].anchor,w,R),j(0,D[0],D[0].anchor,A,R),R.floatingId&&(j(R.floatingIndex,R.floatingEndpoint,R.floatingEndpoint.anchor,R.floatingId,R),z(R.floatingEndpoint)),z(R.endpoints[0]),z(R.endpoints[1]),S||(_.redraw(R.sourceId),R.targetId!==R.sourceId&&_.redraw(R.targetId))},this.addEndpoint=function(m,S){n.addToList(c,S,m)},this.changeId=function(m,S){b[S]=b[m],c[S]=c[m],delete b[m],delete c[m]},this.getConnectionsFor=function(m){return b[m]||[]},this.getEndpointsFor=function(m){return c[m]||[]},this.deleteEndpoint=function(m){n.removeWithFunction(c[m.elementId],function(S){return S.id===m.id}),z(m)},this.elementRemoved=function(m){delete U[m],delete c[m],c[m]=[]};var u=function(m,S,R,w,A,D,j,H,M,L,G,X){var x=-1,C=-1,g=w.endpoints[j],p=g.id,E=[1,0][j],y=[[S,R],w,A,D,p],V=m[M],Y=g._continuousAnchorEdge?m[g._continuousAnchorEdge]:null,W,K;if(Y){var et=n.findWithFunction(Y,function(Q){return Q[4]===p});if(et!==-1)for(Y.splice(et,1),W=0;W<Y.length;W++)K=Y[W][1],n.addWithFunction(G,K,function(Q){return Q.id===K.id}),n.addWithFunction(X,Y[W][1].endpoints[j],function(Q){return Q.id===K.endpoints[j].id}),n.addWithFunction(X,Y[W][1].endpoints[E],function(Q){return Q.id===K.endpoints[E].id})}for(W=0;W<V.length;W++)K=V[W][1],o.idx===1&&V[W][3]===D&&C===-1&&(C=W),n.addWithFunction(G,K,function(Q){return Q.id===K.id}),n.addWithFunction(X,V[W][1].endpoints[j],function(Q){return Q.id===K.endpoints[j].id}),n.addWithFunction(X,V[W][1].endpoints[E],function(Q){return Q.id===K.endpoints[E].id});if(x!==-1)V[x]=y;else{var nt=H?C!==-1?C:0:V.length;V.splice(nt,0,y)}g._continuousAnchorEdge=M};this.sourceOrTargetChanged=function(m,S,R,w,A){if(A===0){if(m!==S){R.sourceId=S,R.source=w,n.removeWithFunction(b[m],function(L){return L[0].id===R.id});var D=n.findWithFunction(b[R.targetId],function(L){return L[0].id===R.id});D>-1&&(b[R.targetId][D][0]=R,b[R.targetId][D][1]=R.endpoints[0],b[R.targetId][D][2]=R.endpoints[0].anchor.constructor===e.DynamicAnchor),n.addToList(b,S,[R,R.endpoints[1],R.endpoints[1].anchor.constructor===e.DynamicAnchor]),R.endpoints[1].anchor.isContinuous&&(R.source===R.target?R._jsPlumb.instance.removeElement(R.endpoints[1].canvas):R.endpoints[1].canvas.parentNode==null&&R._jsPlumb.instance.appendElement(R.endpoints[1].canvas)),R.updateConnectedClass()}}else if(A===1){var j=R.endpoints[0].elementId;R.target=w,R.targetId=S;var H=n.findWithFunction(b[j],function(L){return L[0].id===R.id}),M=n.findWithFunction(b[m],function(L){return L[0].id===R.id});H!==-1&&(b[j][H][0]=R,b[j][H][1]=R.endpoints[1],b[j][H][2]=R.endpoints[1].anchor.constructor===e.DynamicAnchor),M>-1&&(b[m].splice(M,1),n.addToList(b,S,[R,R.endpoints[0],R.endpoints[0].anchor.constructor===e.DynamicAnchor])),R.updateConnectedClass()}},this.rehomeEndpoint=function(m,S,R){var w=c[S]||[],A=T.getId(R);if(A!==S){var D=w.indexOf(m);if(D>-1){var j=w.splice(D,1)[0];_.add(j,A)}}for(var H=0;H<m.connections.length;H++)m.connections[H].sourceId===S?_.sourceOrTargetChanged(S,m.elementId,m.connections[H],m.element,0):m.connections[H].targetId===S&&_.sourceOrTargetChanged(S,m.elementId,m.connections[H],m.element,1)},this.redraw=function(m,S,R,w,A,D){var j=[],H=[],M=[];if(!T.isSuspendDrawing()){var L=c[m]||[],G=b[m]||[];R=R||jsPlumbUtil.uuid(),w=w||{left:0,top:0},S&&(S={left:S.left+w.left,top:S.top+w.top});for(var X=T.updateOffset({elId:m,offset:S,recalc:!1,timestamp:R}),x={},C=0;C<G.length;C++){var g=G[C][0],p=g.sourceId,E=g.targetId,y=g.endpoints[0].anchor.isContinuous,V=g.endpoints[1].anchor.isContinuous;if(y||V){var Y=p+"_"+E,W=x[Y],K=g.sourceId===m?1:0,et=T.getRotation(E),nt=T.getRotation(p);y&&!O[p]&&(O[p]={top:[],right:[],bottom:[],left:[]}),V&&!O[E]&&(O[E]={top:[],right:[],bottom:[],left:[]}),m!==E&&T.updateOffset({elId:E,timestamp:R}),m!==p&&T.updateOffset({elId:p,timestamp:R});var Q=T.getCachedData(E),rt=T.getCachedData(p);E===p&&(y||V)?(u(O[p],-Math.PI/2,0,g,!1,E,0,!1,"top",p,j,H),u(O[E],-Math.PI/2,0,g,!1,p,1,!1,"top",E,j,H)):(W||(W=this.calculateOrientation(p,E,rt.o,Q.o,g.endpoints[0].anchor,g.endpoints[1].anchor,g,nt,et),x[Y]=W),y&&u(O[p],W.theta,0,g,!1,E,0,!1,W.a[0],p,j,H),V&&u(O[E],W.theta2,-1,g,!0,p,1,!0,W.a[1],E,j,H)),y&&n.addWithFunction(M,p,function(gt){return gt===p}),V&&n.addWithFunction(M,E,function(gt){return gt===E}),n.addWithFunction(j,g,function(gt){return gt.id===g.id}),(y&&K===0||V&&K===1)&&n.addWithFunction(H,g.endpoints[K],function(gt){return gt.id===g.endpoints[K].id})}}for(C=0;C<L.length;C++)L[C].connections.length===0&&L[C].anchor.isContinuous&&(O[m]||(O[m]={top:[],right:[],bottom:[],left:[]}),u(O[m],-Math.PI/2,0,{endpoints:[L[C],L[C]],paint:function(){}},!1,m,0,!1,L[C].anchor.getDefaultFace(),m,j,H),n.addWithFunction(M,m,function(gt){return gt===m}));for(C=0;C<M.length;C++)$(M[C],O[M[C]]);for(C=0;C<L.length;C++)L[C].paint({timestamp:R,offset:X,dimensions:X.s,recalc:D!==!0});for(C=0;C<H.length;C++){var dt=T.getCachedData(H[C].elementId);H[C].paint({timestamp:null,offset:dt,dimensions:dt.s})}for(C=0;C<G.length;C++){var pt=G[C][1];if(pt.anchor.constructor===e.DynamicAnchor){pt.paint({elementWithPrecedence:m,timestamp:R}),n.addWithFunction(j,G[C][0],function(gt){return gt.id===G[C][0].id});for(var mt=0;mt<pt.connections.length;mt++)pt.connections[mt]!==G[C][0]&&n.addWithFunction(j,pt.connections[mt],function(gt){return gt.id===pt.connections[mt].id})}else n.addWithFunction(j,G[C][0],function(gt){return gt.id===G[C][0].id})}var Mt=U[m];for(Mt&&Mt.paint({timestamp:R,recalc:!1,elId:m}),C=0;C<j.length;C++)j[C].paint({elId:m,timestamp:null,recalc:!1,clearEdits:A})}return{c:j,e:H}};var v=function(m){n.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var S=m.faces||["top","right","bottom","left"],R=m.clockwise!==!1,w={},A={top:"bottom",right:"left",left:"right",bottom:"top"},D={top:"right",right:"bottom",left:"top",bottom:"left"},j={top:"left",right:"top",left:"bottom",bottom:"right"},H=R?D:j,M=R?j:D,L=m.cssClass||"",G=null,X=null,x=["left","right"],C=["top","bottom"],g=null,p=0;p<S.length;p++)w[S[p]]=!0;this.getDefaultFace=function(){return S.length===0?"top":S[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(E){return w[E]?E:w[A[E]]?A[E]:w[H[E]]?H[E]:w[M[E]]?M[E]:E},this.isEdgeSupported=function(E){return g==null?X==null?w[E]===!0:X===E:g.indexOf(E)!==-1},this.setCurrentFace=function(E,y){G=E,y&&X!=null&&(X=G)},this.getCurrentFace=function(){return G},this.getSupportedFaces=function(){var E=[];for(var y in w)w[y]&&E.push(y);return E},this.lock=function(){X=G},this.unlock=function(){X=null},this.isLocked=function(){return X!=null},this.lockCurrentAxis=function(){G!=null&&(g=G==="left"||G==="right"?x:C)},this.unlockCurrentAxis=function(){g=null},this.compute=function(E){return a[E.element.id]||[0,0]},this.getCurrentLocation=function(E){return a[E.element.id]||[0,0]},this.getOrientation=function(E){return l[E.id]||[0,0]},this.getCssClass=function(){return L}};T.continuousAnchorFactory={get:function(m){return new v(m)},clear:function(m){delete a[m]}}},e.AnchorManager.prototype.calculateOrientation=function(o,c,a,l,b,_,O,T,U){var P={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},h=["left","top","right","bottom"];if(o===c)return{orientation:P.IDENTITY,a:["top","top"]};var d=Math.atan2(l.centery-a.centery,l.centerx-a.centerx),k=Math.atan2(a.centery-l.centery,a.centerx-l.centerx),N=[],$={};(function(R,w){for(var A=0;A<R.length;A++)if($[R[A]]={left:[w[A][0].left,w[A][0].centery],right:[w[A][0].right,w[A][0].centery],top:[w[A][0].centerx,w[A][0].top],bottom:[w[A][0].centerx,w[A][0].bottom]},w[A][1]!==0)for(var D in $[R[A]])$[R[A]][D]=jsPlumbUtil.rotatePoint($[R[A]][D],[w[A][0].centerx,w[A][0].centery],w[A][1])})(["source","target"],[[a,T],[l,U]]);for(var z=0;z<h.length;z++)for(var u=0;u<h.length;u++)N.push({source:h[z],target:h[u],dist:Biltong.lineLength($.source[h[z]],$.target[h[u]])});N.sort(function(R,w){return R.dist<w.dist?-1:R.dist>w.dist?1:0});for(var v=N[0].source,m=N[0].target,S=0;S<N.length&&(b.isContinuous&&b.locked?v=b.getCurrentFace():!b.isContinuous||b.isEdgeSupported(N[S].source)?v=N[S].source:v=null,_.isContinuous&&_.locked?m=_.getCurrentFace():!_.isContinuous||_.isEdgeSupported(N[S].target)?m=N[S].target:m=null,!(v!=null&&m!=null));S++);return b.isContinuous&&b.setCurrentFace(v),_.isContinuous&&_.setCurrentFace(m),{a:[v,m],theta:d,theta2:k}},e.Anchor=function(o){this.x=o.x||0,this.y=o.y||0,this.elementId=o.elementId,this.cssClass=o.cssClass||"",this.orientation=o.orientation||[0,0],this.lastReturnValue=null,this.offsets=o.offsets||[0,0],this.timestamp=null,this._unrotatedOrientation=[this.orientation[0],this.orientation[1]],this.relocatable=o.relocatable!==!1,this.snapOnRelocate=o.snapOnRelocate!==!1,this.locked=!1,n.EventGenerator.apply(this),this.compute=function(c){var a=c.xy,l=c.wh,b=c.timestamp;if(b&&b===this.timestamp)return this.lastReturnValue;var _=[a[0]+this.x*l[0]+this.offsets[0],a[1]+this.y*l[1]+this.offsets[1],this.x,this.y],O=c.rotation;if(O!=null&&O!==0){var T=jsPlumbUtil.rotatePoint(_,[a[0]+l[0]/2,a[1]+l[1]/2],O);this.orientation[0]=Math.round(this._unrotatedOrientation[0]*T[2]-this._unrotatedOrientation[1]*T[3]),this.orientation[1]=Math.round(this._unrotatedOrientation[1]*T[2]+this._unrotatedOrientation[0]*T[3]),this.lastReturnValue=[T[0],T[1],this.x,this.y]}else this.orientation[0]=this._unrotatedOrientation[0],this.orientation[1]=this._unrotatedOrientation[1],this.lastReturnValue=_;return this.timestamp=b,this.lastReturnValue},this.getCurrentLocation=function(c){return c=c||{},this.lastReturnValue==null||c.timestamp!=null&&this.timestamp!==c.timestamp?this.compute(c):this.lastReturnValue},this.setPosition=function(c,a,l,b,_){(!this.locked||_)&&(this.x=c,this.y=a,this.orientation=[l,b],this.lastReturnValue=null)}},n.extend(e.Anchor,n.EventGenerator,{equals:function(o){if(!o)return!1;var c=o.getOrientation(),a=this.getOrientation();return this.x===o.x&&this.y===o.y&&this.offsets[0]===o.offsets[0]&&this.offsets[1]===o.offsets[1]&&a[0]===c[0]&&a[1]===c[1]},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(o){e.Anchor.apply(this,arguments);var c=o.reference,a=o.referenceCanvas,l=e.getSize(a),b=0,_=0,O=null,T=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(U){var P=U.xy,h=[P[0]+l[0]/2,P[1]+l[1]/2];return T=h,h},this.getOrientation=function(U){if(O)return O;var P=c.getOrientation(U);return[Math.abs(P[0])*b*-1,Math.abs(P[1])*_*-1]},this.over=function(U,P){O=U.getOrientation(P)},this.out=function(){O=null},this.getCurrentLocation=function(U){return T??this.compute(U)}},n.extend(e.FloatingAnchor,e.Anchor);var i=function(o,c,a){return o.constructor===e.Anchor?o:c.makeAnchor(o,a,c)};e.DynamicAnchor=function(o){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=o.elementId,this.jsPlumbInstance=o.jsPlumbInstance;for(var c=0;c<o.anchors.length;c++)this.anchors[c]=i(o.anchors[c],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var a=this.anchors.length>0?this.anchors[0]:null,l=a,b=this,_=function(T,U,P,h,d,k,N){var $=h[0]+T.x*d[0],z=h[1]+T.y*d[1],u=h[0]+d[0]/2,v=h[1]+d[1]/2;if(k!=null&&k!==0){var m=jsPlumbUtil.rotatePoint([$,z],[u,v],k);$=m[0],z=m[1]}return Math.sqrt(Math.pow(U-$,2)+Math.pow(P-z,2))+Math.sqrt(Math.pow(u-$,2)+Math.pow(v-z,2))},O=o.selector||function(T,U,P,h,d,k,N){for(var $=P[0]+h[0]/2,z=P[1]+h[1]/2,u=-1,v=1/0,m=0;m<N.length;m++){var S=_(N[m],$,z,T,U,d,k);S<v&&(u=m+0,v=S)}return N[u]};this.compute=function(T){var U=T.xy,P=T.wh,h=T.txy,d=T.twh,k=T.rotation,N=T.tRotation;return this.timestamp=T.timestamp,this.locked||h==null||d==null?(this.lastReturnValue=a.compute(T),this.lastReturnValue):(T.timestamp=null,a=O(U,P,h,d,k,N,this.anchors),this.x=a.x,this.y=a.y,a!==l&&this.fire("anchorChanged",a),l=a,this.lastReturnValue=a.compute(T),this.lastReturnValue)},this.getCurrentLocation=function(T){return a!=null?a.getCurrentLocation(T):null},this.getOrientation=function(T){return a!=null?a.getOrientation(T):[0,0]},this.over=function(T,U){a?.over(T,U)},this.out=function(){a?.out()},this.setAnchor=function(T){a=T},this.getCssClass=function(){return a&&a.getCssClass()||""},this.setAnchorCoordinates=function(T){var U=jsPlumbUtil.findWithFunction(this.anchors,function(P){return P.x===T[0]&&P.y===T[1]});return U!==-1?(this.setAnchor(this.anchors[U]),!0):!1}},n.extend(e.DynamicAnchor,e.Anchor);var r=function(o,c,a,l,b,_){e.Anchors[b]=function(O){var T=O.jsPlumbInstance.makeAnchor([o,c,a,l,0,0],O.elementId,O.jsPlumbInstance);return T.type=b,_&&_(T,O),T}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(o){return o.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],o.elementId,o.jsPlumbInstance)},e.Anchors.AutoDefault=function(o){var c=o.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(o));return c.type="AutoDefault",c};var s=function(o,c){e.Anchors[o]=function(a){var l=a.jsPlumbInstance.makeAnchor(["Continuous",{faces:c}],a.elementId,a.jsPlumbInstance);return l.type=o,l}};e.Anchors.Continuous=function(o){return o.jsPlumbInstance.continuousAnchorFactory.get(o)},s("ContinuousLeft",["left"]),s("ContinuousTop",["top"]),s("ContinuousBottom",["bottom"]),s("ContinuousRight",["right"]),r(0,0,0,0,"Assign",function(o,c){var a=c.position||"Fixed";o.positionFinder=a.constructor===String?c.jsPlumbInstance.AnchorPositionFinders[a]:a,o.constructorParams=c}),t.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(o,c,a){return[(o.left-c.left)/a[0],(o.top-c.top)/a[1]]},Grid:function(o,c,a,l){var b=o.left-c.left,_=o.top-c.top,O=a[0]/l.grid[0],T=a[1]/l.grid[1],U=Math.floor(b/O),P=Math.floor(_/T);return[(U*O+O/2)/a[0],(P*T+T/2)/a[1]]}},e.Anchors.Perimeter=function(o){o=o||{};var c=o.anchorCount||60,a=o.shape;if(!a)throw new Error("no shape supplied to Perimeter Anchor type");var l=function(){for(var d=.5,k=Math.PI*2/c,N=0,$=[],z=0;z<c;z++){var u=d+d*Math.sin(N),v=d+d*Math.cos(N);$.push([u,v,0,0]),N+=k}return $},b=function(d){for(var k=c/d.length,N=[],$=function(u,v,m,S,R,w,A){k=c*R;for(var D=(m-u)/k,j=(S-v)/k,H=0;H<k;H++)N.push([u+D*H,v+j*H,w??0,A??0])},z=0;z<d.length;z++)$.apply(null,d[z]);return N},_=function(d){for(var k=[],N=0;N<d.length;N++)k.push([d[N][0],d[N][1],d[N][2],d[N][3],1/d.length,d[N][4],d[N][5]]);return b(k)},O=function(){return _([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},T={Circle:l,Ellipse:l,Diamond:function(){return _([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:O,Square:O,Triangle:function(){return _([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(d){for(var k=d.points,N=[],$=0,z=0;z<k.length-1;z++){var u=Math.sqrt(Math.pow(k[z][2]-k[z][0])+Math.pow(k[z][3]-k[z][1]));$+=u,N.push([k[z][0],k[z][1],k[z+1][0],k[z+1][1],u])}for(var v=0;v<N.length;v++)N[v][4]=N[v][4]/$;return b(N)}},U=function(d,k){for(var N=[],$=k/180*Math.PI,z=0;z<d.length;z++){var u=d[z][0]-.5,v=d[z][1]-.5;N.push([.5+(u*Math.cos($)-v*Math.sin($)),.5+(u*Math.sin($)+v*Math.cos($)),d[z][2],d[z][3]])}return N};if(!T[a])throw new Error("Shape ["+a+"] is unknown by Perimeter Anchor type");var P=T[a](o);o.rotation&&(P=U(P,o.rotation));var h=o.jsPlumbInstance.makeDynamicAnchor(P);return h.type="Perimeter",h}}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumb;e.DefaultRouter=function(i){this.jsPlumbInstance=i,this.anchorManager=new e.AnchorManager({jsPlumbInstance:i}),this.sourceOrTargetChanged=function(r,s,o,c,a){this.anchorManager.sourceOrTargetChanged(r,s,o,c,a)},this.reset=function(){this.anchorManager.reset()},this.changeId=function(r,s){this.anchorManager.changeId(r,s)},this.elementRemoved=function(r){this.anchorManager.elementRemoved(r)},this.newConnection=function(r){this.anchorManager.newConnection(r)},this.connectionDetached=function(r,s){this.anchorManager.connectionDetached(r,s)},this.redraw=function(r,s,o,c,a,l){return this.anchorManager.redraw(r,s,o,c,a,l)},this.deleteEndpoint=function(r){this.anchorManager.deleteEndpoint(r)},this.rehomeEndpoint=function(r,s,o){this.anchorManager.rehomeEndpoint(r,s,o)},this.addEndpoint=function(r,s){this.anchorManager.addEndpoint(r,s)}}}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=t.Biltong;n.Segments={AbstractSegment:function(l){this.params=l,this.findClosestPointOnPath=function(b,_){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(l.x1,l.x2),minY:Math.min(l.y1,l.y2),maxX:Math.max(l.x1,l.x2),maxY:Math.max(l.y1,l.y2)}},this.lineIntersection=function(b,_,O,T){return[]},this.boxIntersection=function(b,_,O,T){var U=[];return U.push.apply(U,this.lineIntersection(b,_,b+O,_)),U.push.apply(U,this.lineIntersection(b+O,_,b+O,_+T)),U.push.apply(U,this.lineIntersection(b+O,_+T,b,_+T)),U.push.apply(U,this.lineIntersection(b,_+T,b,_)),U},this.boundingBoxIntersection=function(b){return this.boxIntersection(b.x,b.y,b.w,b.y)}},Straight:function(l){var b=n.Segments.AbstractSegment.apply(this,arguments),_,O,T,U,P,h,d,k=function(){_=Math.sqrt(Math.pow(P-U,2)+Math.pow(d-h,2)),O=i.gradient({x:U,y:h},{x:P,y:d}),T=-1/O};this.type="Straight",this.getLength=function(){return _},this.getGradient=function(){return O},this.getCoordinates=function(){return{x1:U,y1:h,x2:P,y2:d}},this.setCoordinates=function(v){U=v.x1,h=v.y1,P=v.x2,d=v.y2,k()},this.setCoordinates({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2}),this.getBounds=function(){return{minX:Math.min(U,P),minY:Math.min(h,d),maxX:Math.max(U,P),maxY:Math.max(h,d)}},this.pointOnPath=function(v,m){if(v===0&&!m)return{x:U,y:h};if(v===1&&!m)return{x:P,y:d};var S=m?v>0?v:_+v:v*_;return i.pointOnLine({x:U,y:h},{x:P,y:d},S)},this.gradientAtPoint=function(v){return O},this.pointAlongPathFrom=function(v,m,S){var R=this.pointOnPath(v,S),w=m<=0?{x:U,y:h}:{x:P,y:d};return m<=0&&Math.abs(m)>1&&(m*=-1),i.pointOnLine(R,w,m)};var N=function(v,m,S){return S>=Math.min(v,m)&&S<=Math.max(v,m)},$=function(v,m,S){return Math.abs(S-v)<Math.abs(S-m)?v:m};this.findClosestPointOnPath=function(v,m){var S={d:1/0,x:null,y:null,l:null,x1:U,x2:P,y1:h,y2:d};if(O===0)S.y=h,S.x=N(U,P,v)?v:$(U,P,v);else if(O===1/0||O===-1/0)S.x=U,S.y=N(h,d,m)?m:$(h,d,m);else{var R=h-O*U,w=m-T*v,A=(w-R)/(O-T),D=O*A+R;S.x=N(U,P,A)?A:$(U,P,A),S.y=N(h,d,D)?D:$(h,d,D)}var j=i.lineLength([S.x,S.y],[U,h]);return S.d=i.lineLength([v,m],[S.x,S.y]),S.l=j/_,S};var z=function(v,m,S){return S>m?m<=v&&v<=S:m>=v&&v>=S},u=z;this.lineIntersection=function(v,m,S,R){var w=Math.abs(i.gradient({x:v,y:m},{x:S,y:R})),A=Math.abs(O),D=A===1/0?U:h-A*U,j=[],H=w===1/0?v:m-w*v;if(w!==A)if(w===1/0&&A===0)u(v,U,P)&&u(h,m,R)&&(j=[v,h]);else if(w===0&&A===1/0)u(m,h,d)&&u(U,v,S)&&(j=[U,m]);else{var M,L;w===1/0?(M=v,u(M,U,P)&&(L=A*v+D,u(L,m,R)&&(j=[M,L]))):w===0?(L=m,u(L,h,d)&&(M=(m-D)/A,u(M,v,S)&&(j=[M,L]))):(M=(H-D)/(A-w),L=A*M+D,u(M,U,P)&&u(L,h,d)&&(j=[M,L]))}return j},this.boxIntersection=function(v,m,S,R){var w=[];return w.push.apply(w,this.lineIntersection(v,m,v+S,m)),w.push.apply(w,this.lineIntersection(v+S,m,v+S,m+R)),w.push.apply(w,this.lineIntersection(v+S,m+R,v,m+R)),w.push.apply(w,this.lineIntersection(v,m+R,v,m)),w},this.boundingBoxIntersection=function(v){return this.boxIntersection(v.x,v.y,v.w,v.h)}},Arc:function(l){var b=n.Segments.AbstractSegment.apply(this,arguments),_=function($,z){return i.theta([l.cx,l.cy],[$,z])},O=function($,z){if($.anticlockwise){var u=$.startAngle<$.endAngle?$.startAngle+T:$.startAngle,v=Math.abs(u-$.endAngle);return u-v*z}else{var m=$.endAngle<$.startAngle?$.endAngle+T:$.endAngle,S=Math.abs(m-$.startAngle);return $.startAngle+S*z}},T=2*Math.PI;this.radius=l.r,this.anticlockwise=l.ac,this.type="Arc",l.startAngle&&l.endAngle?(this.startAngle=l.startAngle,this.endAngle=l.endAngle,this.x1=l.cx+this.radius*Math.cos(l.startAngle),this.y1=l.cy+this.radius*Math.sin(l.startAngle),this.x2=l.cx+this.radius*Math.cos(l.endAngle),this.y2=l.cy+this.radius*Math.sin(l.endAngle)):(this.startAngle=_(l.x1,l.y1),this.endAngle=_(l.x2,l.y2),this.x1=l.x1,this.y1=l.y1,this.x2=l.x2,this.y2=l.y2),this.endAngle<0&&(this.endAngle+=T),this.startAngle<0&&(this.startAngle+=T);var U=this.endAngle<this.startAngle?this.endAngle+T:this.endAngle;this.sweep=Math.abs(U-this.startAngle),this.anticlockwise&&(this.sweep=T-this.sweep);var P=2*Math.PI*this.radius,h=this.sweep/T,d=P*h;this.getLength=function(){return d},this.getBounds=function(){return{minX:l.cx-l.r,maxX:l.cx+l.r,minY:l.cy-l.r,maxY:l.cy+l.r}};var k=1e-10,N=function($){var z=Math.floor($),u=Math.ceil($);return $-z<k?z:u-$<k?u:$};this.pointOnPath=function($,z){if($===0)return{x:this.x1,y:this.y1,theta:this.startAngle};if($===1)return{x:this.x2,y:this.y2,theta:this.endAngle};z&&($=$/d);var u=O(this,$),v=l.cx+l.r*Math.cos(u),m=l.cy+l.r*Math.sin(u);return{x:N(v),y:N(m),theta:u}},this.gradientAtPoint=function($,z){var u=this.pointOnPath($,z),v=i.normal([l.cx,l.cy],[u.x,u.y]);return!this.anticlockwise&&(v===1/0||v===-1/0)&&(v*=-1),v},this.pointAlongPathFrom=function($,z,u){var v=this.pointOnPath($,u),m=z/P*2*Math.PI,S=this.anticlockwise?-1:1,R=v.theta+S*m,w=l.cx+this.radius*Math.cos(R),A=l.cy+this.radius*Math.sin(R);return{x:w,y:A}}},Bezier:function(l){this.curve=[{x:l.x1,y:l.y1},{x:l.cp1x,y:l.cp1y},{x:l.cp2x,y:l.cp2y},{x:l.x2,y:l.y2}];var b=function(d){return d[0].x===d[1].x&&d[0].y===d[1].y},_=function(d,k){return Math.sqrt(Math.pow(d.x-k.x,2)+Math.pow(d.y-k.y,2))},O=function(d){var k={x:0,y:0};if(d===0)return this.curve[0];var N=this.curve.length-1;if(d===1)return this.curve[N];var $=this.curve,z=1-d;if(N===0)return this.curve[0];if(N===1)return{x:z*$[0].x+d*$[1].x,y:z*$[0].y+d*$[1].y};if(N<4){var u=z*z,v=d*d,m=0,S,R,w;return N===2?($=[$[0],$[1],$[2],k],S=u,R=2*(z*d),w=v):N===3&&(S=u*z,R=3*(u*d),w=3*(z*v),m=d*v),{x:S*$[0].x+R*$[1].x+w*$[2].x+m*$[3].x,y:S*$[0].y+R*$[1].y+w*$[2].y+m*$[3].y}}else return k}.bind(this),T=function(d){var k=[];d--;for(var N=0;N<=d;N++)k.push(O(N/d));return k},U=function(){b(this.curve)&&(this.length=0);var d=16,k=T(d);this.length=0;for(var N=0;N<d-1;N++){var $=k[N],z=k[N+1];this.length+=_($,z)}}.bind(this),P=n.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(l.x1,l.x2,l.cp1x,l.cp2x),minY:Math.min(l.y1,l.y2,l.cp1y,l.cp2y),maxX:Math.max(l.x1,l.x2,l.cp1x,l.cp2x),maxY:Math.max(l.y1,l.y2,l.cp1y,l.cp2y)},this.type="Bezier",U();var h=function(d,k,N){return N&&(k=t.jsBezier.locationAlongCurveFrom(d,k>0?0:1,k)),k};this.pointOnPath=function(d,k){return d=h(this.curve,d,k),t.jsBezier.pointOnCurve(this.curve,d)},this.gradientAtPoint=function(d,k){return d=h(this.curve,d,k),t.jsBezier.gradientAtPoint(this.curve,d)},this.pointAlongPathFrom=function(d,k,N){return d=h(this.curve,d,N),t.jsBezier.pointAlongCurveFrom(this.curve,d,k)},this.getLength=function(){return this.length},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(d,k){var N=t.jsBezier.nearestPointOnCurve({x:d,y:k},this.curve);return{d:Math.sqrt(Math.pow(N.point.x-d,2)+Math.pow(N.point.y-k,2)),x:N.point.x,y:N.point.y,l:1-N.location,s:this}},this.lineIntersection=function(d,k,N,$){return t.jsBezier.lineIntersection(d,k,N,$,this.curve)}}},n.SegmentRenderer={getPath:function(l,b){return{Straight:function(_){var O=l.getCoordinates();return(_?"M "+O.x1+" "+O.y1+" ":"")+"L "+O.x2+" "+O.y2},Bezier:function(_){var O=l.params;return(_?"M "+O.x2+" "+O.y2+" ":"")+"C "+O.cp2x+" "+O.cp2y+" "+O.cp1x+" "+O.cp1y+" "+O.x1+" "+O.y1},Arc:function(_){var O=l.params,T=l.sweep>Math.PI?1:0,U=l.anticlockwise?0:1;return(_?"M"+l.x1+" "+l.y1+" ":"")+"A "+l.radius+" "+O.r+" 0 "+T+","+U+" "+l.x2+" "+l.y2}}[l.type](b)}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};n.Connectors.AbstractConnector=function(l){r.apply(this,arguments);var b=[],_=0,O=[],T=[],U=l.stub||0,P=e.isArray(U)?U[0]:U,h=e.isArray(U)?U[1]:U,d=l.gap||0,k=e.isArray(d)?d[0]:d,N=e.isArray(d)?d[1]:d,$=null,z=null;this.getPathData=function(){for(var A="",D=0;D<b.length;D++)A+=n.SegmentRenderer.getPath(b[D],D===0),A+=" ";return A},this.findSegmentForPoint=function(A,D){for(var j={d:1/0,s:null,x:null,y:null,l:null},H=0;H<b.length;H++){var M=b[H].findClosestPointOnPath(A,D);M.d<j.d&&(j.d=M.d,j.l=M.l,j.x=M.x,j.y=M.y,j.s=b[H],j.x1=M.x1,j.x2=M.x2,j.y1=M.y1,j.y2=M.y2,j.index=H,j.connectorLocation=O[H][0]+M.l*(O[H][1]-O[H][0]))}return j},this.lineIntersection=function(A,D,j,H){for(var M=[],L=0;L<b.length;L++)M.push.apply(M,b[L].lineIntersection(A,D,j,H));return M},this.boxIntersection=function(A,D,j,H){for(var M=[],L=0;L<b.length;L++)M.push.apply(M,b[L].boxIntersection(A,D,j,H));return M},this.boundingBoxIntersection=function(A){for(var D=[],j=0;j<b.length;j++)D.push.apply(D,b[j].boundingBoxIntersection(A));return D};var u=function(){for(var A=0,D=0;D<b.length;D++){var j=b[D].getLength();T[D]=j/_,O[D]=[A,A+=j/_]}},v=function(A,D){var j,H,M;if(D&&(A=A>0?A/_:(_+A)/_),A===1)j=b.length-1,M=1;else if(A===0)M=0,j=0;else if(A>=.5){for(j=0,M=0,H=O.length-1;H>-1;H--)if(O[H][1]>=A&&O[H][0]<=A){j=H,M=(A-O[H][0])/T[H];break}}else for(j=O.length-1,M=1,H=0;H<O.length;H++)if(O[H][1]>=A){j=H,M=(A-O[H][0])/T[H];break}return{segment:b[j],proportion:M,index:j}},m=function(A,D,j){if(!(j.x1===j.x2&&j.y1===j.y2)){var H=new n.Segments[D](j);b.push(H),_+=H.getLength(),A.updateBounds(H)}},S=function(){_=b.length=O.length=T.length=0};this.setSegments=function(A){$=[],_=0;for(var D=0;D<A.length;D++)$.push(A[D]),_+=A[D].getLength()},this.getLength=function(){return _};var R=function(A){this.strokeWidth=A.strokeWidth;var D=i.quadrant(A.sourcePos,A.targetPos),j=A.targetPos[0]<A.sourcePos[0],H=A.targetPos[1]<A.sourcePos[1],M=A.strokeWidth||1,L=A.sourceEndpoint.anchor.getOrientation(A.sourceEndpoint),G=A.targetEndpoint.anchor.getOrientation(A.targetEndpoint),X=j?A.targetPos[0]:A.sourcePos[0],x=H?A.targetPos[1]:A.sourcePos[1],C=Math.abs(A.targetPos[0]-A.sourcePos[0]),g=Math.abs(A.targetPos[1]-A.sourcePos[1]);if(L[0]===0&&L[1]===0||G[0]===0&&G[1]===0){var p=C>g?0:1,E=[1,0][p];L=[],G=[],L[p]=A.sourcePos[p]>A.targetPos[p]?-1:1,G[p]=A.sourcePos[p]>A.targetPos[p]?1:-1,L[E]=0,G[E]=0}var y=j?C+k*L[0]:k*L[0],V=H?g+k*L[1]:k*L[1],Y=j?N*G[0]:C+N*G[0],W=H?N*G[1]:g+N*G[1],K=L[0]*G[0]+L[1]*G[1],et={sx:y,sy:V,tx:Y,ty:W,lw:M,xSpan:Math.abs(Y-y),ySpan:Math.abs(W-V),mx:(y+Y)/2,my:(V+W)/2,so:L,to:G,x:X,y:x,w:C,h:g,segment:D,startStubX:y+L[0]*P,startStubY:V+L[1]*P,endStubX:Y+G[0]*h,endStubY:W+G[1]*h,isXGreaterThanStubTimes2:Math.abs(y-Y)>P+h,isYGreaterThanStubTimes2:Math.abs(V-W)>P+h,opposite:K===-1,perpendicular:K===0,orthogonal:K===1,sourceAxis:L[0]===0?"y":"x",points:[X,x,C,g,y,V,Y,W],stubs:[P,h]};return et.anchorOrientation=et.opposite?"opposite":et.orthogonal?"orthogonal":"perpendicular",et};this.getSegments=function(){return b},this.updateBounds=function(A){var D=A.getBounds();this.bounds.minX=Math.min(this.bounds.minX,D.minX),this.bounds.maxX=Math.max(this.bounds.maxX,D.maxX),this.bounds.minY=Math.min(this.bounds.minY,D.minY),this.bounds.maxY=Math.max(this.bounds.maxY,D.maxY)};var w=function(){console.log("SEGMENTS:");for(var A=0;A<b.length;A++)console.log(b[A].type,b[A].getLength(),O[A])};return this.pointOnPath=function(A,D){var j=v(A,D);return j.segment&&j.segment.pointOnPath(j.proportion,!1)||[0,0]},this.gradientAtPoint=function(A,D){var j=v(A,D);return j.segment&&j.segment.gradientAtPoint(j.proportion,!1)||0},this.pointAlongPathFrom=function(A,D,j){var H=v(A,j);return H.segment&&H.segment.pointAlongPathFrom(H.proportion,D,!1)||[0,0]},this.compute=function(A){z=R.call(this,A),S(),this._compute(z,A),this.x=z.points[0],this.y=z.points[1],this.w=z.points[2],this.h=z.points[3],this.segment=z.segment,u()},{addSegment:m,prepareCompute:R,sourceStub:P,targetStub:h,maxStub:Math.max(P,h),sourceGap:k,targetGap:N,maxGap:Math.max(k,N)}},e.extend(n.Connectors.AbstractConnector,r),n.Endpoints.AbstractEndpoint=function(l){r.apply(this,arguments);var b=this.compute=function(_,O,T,U){var P=this._compute.apply(this,arguments);return this.x=P[0],this.y=P[1],this.w=P[2],this.h=P[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,P};return{compute:b,cssClass:l.cssClass}},e.extend(n.Endpoints.AbstractEndpoint,r),n.Endpoints.Dot=function(l){this.type="Dot";var b=n.Endpoints.AbstractEndpoint.apply(this,arguments);l=l||{},this.radius=l.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(_,O,T,U){this.radius=T.radius||this.radius;var P=_[0]-this.radius,h=_[1]-this.radius,d=this.radius*2,k=this.radius*2;if(T.stroke){var N=T.strokeWidth||1;P-=N,h-=N,d+=N*2,k+=N*2}return[P,h,d,k,this.radius]}},e.extend(n.Endpoints.Dot,n.Endpoints.AbstractEndpoint),n.Endpoints.Rectangle=function(l){this.type="Rectangle";var b=n.Endpoints.AbstractEndpoint.apply(this,arguments);l=l||{},this.width=l.width||20,this.height=l.height||20,this._compute=function(_,O,T,U){var P=T.width||this.width,h=T.height||this.height,d=_[0]-P/2,k=_[1]-h/2;return[d,k,P,h]}},e.extend(n.Endpoints.Rectangle,n.Endpoints.AbstractEndpoint);var s=function(l){n.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};e.extend(s,n.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(l){this._jsPlumb.displayElements.push(l)}}),n.Endpoints.Image=function(l){this.type="Image",s.apply(this,arguments),n.Endpoints.AbstractEndpoint.apply(this,arguments);var b=l.onload,_=l.src||l.url,O=l.cssClass?" "+l.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=l.width,this._jsPlumb.heightToUse=l.height,this._jsPlumb.endpoint=l.endpoint,this._jsPlumb.img.onload=function(){this._jsPlumb!=null&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&&b(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(T,U){var P=T.constructor===String?T:T.src;b=U,this._jsPlumb.img.src=P,this.canvas!=null&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(_,b),this._compute=function(T,U,P,h){return this.anchorPoint=T,this._jsPlumb.ready?[T[0]-this._jsPlumb.widthToUse/2,T[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=n.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+O),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(T,U,P){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var h=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,d=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;e.sizeElement(this.canvas,h,d,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(T,U){this._jsPlumb!=null&&(this._jsPlumb.ready?this.actuallyPaint(T,U):t.setTimeout(function(){this.paint(T,U)}.bind(this),200))}},e.extend(n.Endpoints.Image,[s,n.Endpoints.AbstractEndpoint],{cleanup:function(l){l&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),n.Endpoints.Blank=function(l){var b=n.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",s.apply(this,arguments),this._compute=function(O,T,U,P){return[O[0],O[1],10,0]};var _=l.cssClass?" "+l.cssClass:"";this.canvas=n.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+_),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(O,T){e.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},e.extend(n.Endpoints.Blank,[n.Endpoints.AbstractEndpoint,s],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),n.Endpoints.Triangle=function(l){this.type="Triangle",n.Endpoints.AbstractEndpoint.apply(this,arguments);var b=this;l=l||{},l.width=l.width||55,l.height=l.height||55,this.width=l.width,this.height=l.height,this._compute=function(_,O,T,U){var P=T.width||b.width,h=T.height||b.height,d=_[0]-P/2,k=_[1]-h/2;return[d,k,P,h]}};var o=n.Overlays.AbstractOverlay=function(l){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=l.component,this.loc=l.location==null?.5:l.location,this.endpointLoc=l.endpointLocation==null?[.5,.5]:l.endpointLocation,this.visible=l.visible!==!1};o.prototype={cleanup:function(l){l&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(l,b){},setVisible:function(l){this.visible=l,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(l){this.loc+=l,this.component.repaint()},setLocation:function(l){this.loc=l,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},n.Overlays.Arrow=function(l){this.type="Arrow",o.apply(this,arguments),this.isAppendedAtTopLevel=!1,l=l||{};var b=this;this.length=l.length||20,this.width=l.width||20,this.id=l.id,this.direction=(l.direction||1)<0?-1:1;var _=l.paintStyle||{"stroke-width":1},O=l.foldback||.623;this.computeMaxSize=function(){return b.width*1.5},this.elementCreated=function(T,U){if(this.path=T,l.events)for(var P in l.events)n.on(T,P,l.events[P])},this.draw=function(T,U){var P,h,d,k,N;if(T.pointAlongPathFrom){if(e.isString(this.loc)||this.loc>1||this.loc<0){var $=parseInt(this.loc,10),z=this.loc<0?1:0;P=T.pointAlongPathFrom(z,$,!1),h=T.pointAlongPathFrom(z,$-this.direction*this.length/2,!1),d=i.pointOnLine(P,h,this.length)}else if(this.loc===1){if(P=T.pointOnPath(this.loc),h=T.pointAlongPathFrom(this.loc,-this.length),d=i.pointOnLine(P,h,this.length),this.direction===-1){var u=d;d=P,P=u}}else if(this.loc===0){if(d=T.pointOnPath(this.loc),h=T.pointAlongPathFrom(this.loc,this.length),P=i.pointOnLine(d,h,this.length),this.direction===-1){var v=d;d=P,P=v}}else P=T.pointAlongPathFrom(this.loc,this.direction*this.length/2),h=T.pointOnPath(this.loc),d=i.pointOnLine(P,h,this.length);k=i.perpendicularLineTo(P,d,this.width),N=i.pointOnLine(P,d,O*this.length);var m={hxy:P,tail:k,cxy:N},S=_.stroke||U.stroke,R=_.fill||U.stroke,w=_.strokeWidth||U.strokeWidth;return{component:T,d:m,"stroke-width":w,stroke:S,fill:R,minX:Math.min(P.x,k[0].x,k[1].x),maxX:Math.max(P.x,k[0].x,k[1].x),minY:Math.min(P.y,k[0].y,k[1].y),maxY:Math.max(P.y,k[0].y,k[1].y)}}else return{component:T,minX:0,maxX:0,minY:0,maxY:0}}},e.extend(n.Overlays.Arrow,o,{updateFrom:function(l){this.length=l.length||this.length,this.width=l.width||this.width,this.direction=l.direction!=null?l.direction:this.direction,this.foldback=l.foldback||this.foldback},cleanup:function(){this.path&&this.path.parentNode&&this.path.parentNode.removeChild(this.path)}}),n.Overlays.PlainArrow=function(l){l=l||{};var b=n.extend(l,{foldback:1});n.Overlays.Arrow.call(this,b),this.type="PlainArrow"},e.extend(n.Overlays.PlainArrow,n.Overlays.Arrow),n.Overlays.Diamond=function(l){l=l||{};var b=l.length||40,_=n.extend(l,{length:b/2,foldback:2});n.Overlays.Arrow.call(this,_),this.type="Diamond"},e.extend(n.Overlays.Diamond,n.Overlays.Arrow);var c=function(l,b){return(l._jsPlumb.cachedDimensions==null||b)&&(l._jsPlumb.cachedDimensions=l.getDimensions()),l._jsPlumb.cachedDimensions},a=function(l){n.jsPlumbUIComponent.apply(this,arguments),o.apply(this,arguments);var b=this.fire;this.fire=function(){b.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=l.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=l.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=l.create,this._jsPlumb.initiallyInvisible=l.visible===!1,this.getElement=function(){if(this._jsPlumb.div==null){var _=this._jsPlumb.div=n.getElement(this._jsPlumb.create(this._jsPlumb.component));_.style.position="absolute",jsPlumb.addClass(_,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:l.cssClass?l.cssClass:"")),this._jsPlumb.instance.appendElement(_),this._jsPlumb.instance.getId(_),this.canvas=_;var O="translate(-50%, -50%)";_.style.webkitTransform=O,_.style.mozTransform=O,_.style.msTransform=O,_.style.oTransform=O,_.style.transform=O,_._jsPlumb=this,l.visible===!1&&(_.style.display="none")}return this._jsPlumb.div},this.draw=function(_,O,T){var U=c(this);if(U!=null&&U.length===2){var P={x:0,y:0};if(T)P={x:T[0],y:T[1]};else if(_.pointOnPath){var h=this.loc,d=!1;(e.isString(this.loc)||this.loc<0||this.loc>1)&&(h=parseInt(this.loc,10),d=!0),P=_.pointOnPath(h,d)}else{var k=this.loc.constructor===Array?this.loc:this.endpointLoc;P={x:k[0]*_.w,y:k[1]*_.h}}var N=P.x-U[0]/2,$=P.y-U[1]/2;return{component:_,d:{minx:N,miny:$,td:U,cxy:P},minX:N,maxX:N+U[0],minY:$,maxY:$+U[1]}}else return{minX:0,maxX:0,minY:0,maxY:0}}};e.extend(a,[n.jsPlumbUIComponent,o],{getDimensions:function(){return[1,1]},setVisible:function(l){this._jsPlumb.div&&(this._jsPlumb.div.style.display=l?"block":"none",l&&this._jsPlumb.initiallyInvisible&&(c(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(l){l?this._jsPlumb.div!=null&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(l,b){this._jsPlumb.div!=null&&l.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var l=c(this);return Math.max(l[0],l[1])},paint:function(l,b){this._jsPlumb.initialised||(this.getElement(),l.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=l.component.x+l.d.minx+"px",this._jsPlumb.div.style.top=l.component.y+l.d.miny+"px"}}),n.Overlays.Custom=function(l){this.type="Custom",a.apply(this,arguments)},e.extend(n.Overlays.Custom,a),n.Overlays.GuideLines=function(){var l=this;l.length=50,l.strokeWidth=5,this.type="GuideLines",o.apply(this,arguments),n.jsPlumbUIComponent.apply(this,arguments),this.draw=function(b,_){var O=b.pointAlongPathFrom(l.loc,l.length/2),T=b.pointOnPath(l.loc),U=i.pointOnLine(O,T,l.length),P=i.perpendicularLineTo(O,U,40),h=i.perpendicularLineTo(U,O,20);return{connector:b,head:O,tail:U,headLine:h,tailLine:P,minX:Math.min(O.x,U.x,h[0].x,h[1].x),minY:Math.min(O.y,U.y,h[0].y,h[1].y),maxX:Math.max(O.x,U.x,h[0].x,h[1].x),maxY:Math.max(O.y,U.y,h[0].y,h[1].y)}}},n.Overlays.Label=function(l){this.labelStyle=l.labelStyle;var b=null,_=null,O=null,T=null;this.cssClass=this.labelStyle!=null?this.labelStyle.cssClass:null;var U=n.extend({create:function(){return n.createElement("div")}},l);if(n.Overlays.Custom.call(this,U),this.type="Label",this.label=l.label||"",this.labelText=null,this.labelStyle){var P=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",P.style.font=this.labelStyle.font,P.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(P.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var h=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";P.style.border=this.labelStyle.borderWidth+"px solid "+h}this.labelStyle.padding&&(P.style.padding=this.labelStyle.padding)}},e.extend(n.Overlays.Label,n.Overlays.Custom,{cleanup:function(l){l&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(l){this.label=l,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),a.prototype.getDimensions.apply(this,arguments)},update:function(){if(typeof this.label=="function"){var l=this.label(this);this.getElement().innerHTML=l.replace(/\r\n/g,"<br/>")}else this.labelText==null&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(l){l.label!=null&&this.setLabel(l.label)}})}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumbInstance,i="jtk-group-collapsed",r="jtk-group-expanded",s="[jtk-group-content]",o="elementDraggable",c="stop",a="revert",l="_groupManager",b="_jsPlumbGroup",_="_jsPlumbGroupDrag",O="group:addMember",T="group:removeMember",U="group:add",P="group:remove",h="group:expand",d="group:collapse",k="groupDragStop",N="connectionMoved",$="internal.connectionDetached",z="removeAll",u="orphanAll",v="show",m="hide",S=function(w){var A={},D={},j={},H=this;function M(g,p){for(var E=w.getContainer(),y=!1,V=null,Y=null;!y;){if(g==null||g===E)return!1;if(g===p)return!0;g=g.parentNode}}w.bind("connection",function(g){var p=w.getGroupFor(g.source),E=w.getGroupFor(g.target);p!=null&&E!=null&&p===E?(D[g.connection.id]=p,j[g.connection.id]=p):(p!=null&&(n.suggest(p.connections.source,g.connection),D[g.connection.id]=p),E!=null&&(n.suggest(E.connections.target,g.connection),j[g.connection.id]=E))});function L(g){delete g.proxies;var p=D[g.id],E;p!=null&&(E=function(y){return y.id===g.id},n.removeWithFunction(p.connections.source,E),n.removeWithFunction(p.connections.target,E),delete D[g.id]),p=j[g.id],p!=null&&(E=function(y){return y.id===g.id},n.removeWithFunction(p.connections.source,E),n.removeWithFunction(p.connections.target,E),delete j[g.id])}w.bind($,function(g){L(g.connection)}),w.bind(N,function(g){var p=g.index===0?D:j,E=p[g.connection.id];if(E){var y=E.connections[g.index===0?"source":"target"],V=y.indexOf(g.connection);V!==-1&&y.splice(V,1)}}),this.addGroup=function(g){w.addClass(g.getEl(),r),A[g.id]=g,g.manager=this,C(g),w.fire(U,{group:g})},this.addToGroup=function(g,p,E){if(g=this.getGroup(g),g){var y=g.getEl();if(p._isJsPlumbGroup)return;var V=p._jsPlumbGroup;if(V!==g){w.removeFromDragSelection(p);var Y=w.getOffset(p,!0),W=g.collapsed?w.getOffset(y,!0):w.getOffset(g.getDragArea(),!0);V!=null&&(V.remove(p,!1,E,!1,g),H.updateConnectionsForGroup(V)),g.add(p,E);var K=function(rt,dt){var pt=dt===0?1:0;rt.each(function(mt){mt.setVisible(!1),mt.endpoints[pt].element._jsPlumbGroup===g?(mt.endpoints[pt].setVisible(!1),x(mt,pt,g)):(mt.endpoints[dt].setVisible(!1),X(mt,dt,g))})};g.collapsed&&(K(w.select({source:p}),0),K(w.select({target:p}),1));var et=w.getId(p);w.dragManager.setParent(p,et,y,w.getId(y),Y);var nt={left:Y.left-W.left,top:Y.top-W.top};if(w.setPosition(p,nt),w.dragManager.revalidateParent(p,et,Y),H.updateConnectionsForGroup(g),w.revalidate(et),!E){var Q={group:g,el:p,pos:nt};V&&(Q.sourceGroup=V),w.fire(O,Q)}}}},this.removeFromGroup=function(g,p,E){if(g=this.getGroup(g),g){if(g.collapsed){var y=function(V,Y){for(var W=0;W<V.length;W++){var K=V[W];if(K.proxies){for(var et=0;et<K.proxies.length;et++)if(K.proxies[et]!=null){var nt=K.proxies[et].originalEp.element;(nt===p||M(nt,p))&&x(K,Y,g)}}}};y(g.connections.source.slice(),0),y(g.connections.target.slice(),1)}g.remove(p,null,E)}},this.getGroup=function(g){var p=g;if(n.isString(g)&&(p=A[g],p==null))throw new TypeError("No such group ["+g+"]");return p},this.getGroups=function(){var g=[];for(var p in A)g.push(A[p]);return g},this.removeGroup=function(g,p,E,y){g=this.getGroup(g),this.expandGroup(g,!0);var V=g[p?z:u](E,y);return w.remove(g.getEl()),delete A[g.id],delete w._groups[g.id],w.fire(P,{group:g}),V},this.removeAllGroups=function(g,p,E){for(var y in A)this.removeGroup(A[y],g,p,E)};function G(g,p){for(var E=g.getEl().querySelectorAll(".jtk-managed"),y=0;y<E.length;y++)w[p?v:m](E[y],!0)}var X=function(g,p,E){var y=g.endpoints[p===0?1:0].element;if(!(y[b]&&!y[b].shouldProxy()&&y[b].collapsed)){var V=E.getEl(),Y=w.getId(V);w.proxyConnection(g,p,V,Y,function(W,K){return E.getEndpoint(W,K)},function(W,K){return E.getAnchor(W,K)})}};this.collapseGroup=function(g){if(g=this.getGroup(g),!(g==null||g.collapsed)){var p=g.getEl();if(G(g,!1),g.shouldProxy()){var E=function(y,V){for(var Y=0;Y<y.length;Y++){var W=y[Y];X(W,V,g)}};E(g.connections.source,0),E(g.connections.target,1)}g.collapsed=!0,w.removeClass(p,r),w.addClass(p,i),w.revalidate(p),w.fire(d,{group:g})}};var x=function(g,p,E){w.unproxyConnection(g,p,w.getId(E.getEl()))};this.expandGroup=function(g,p){if(g=this.getGroup(g),!(g==null||!g.collapsed)){var E=g.getEl();if(G(g,!0),g.shouldProxy()){var y=function(V,Y){for(var W=0;W<V.length;W++){var K=V[W];x(K,Y,g)}};y(g.connections.source,0),y(g.connections.target,1)}g.collapsed=!1,w.addClass(E,r),w.removeClass(E,i),w.revalidate(E),this.repaintGroup(g),p||w.fire(h,{group:g})}},this.repaintGroup=function(g){g=this.getGroup(g);for(var p=g.getMembers(),E=0;E<p.length;E++)w.revalidate(p[E])};function C(g){for(var p=g.getMembers().slice(),E=[],y=0;y<p.length;y++)Array.prototype.push.apply(E,p[y].querySelectorAll(".jtk-managed"));Array.prototype.push.apply(p,E);var V=w.getConnections({source:p,scope:"*"},!0),Y=w.getConnections({target:p,scope:"*"},!0),W={};g.connections.source.length=0,g.connections.target.length=0;var K=function(et){for(var nt=0;nt<et.length;nt++)if(!W[et[nt].id]){W[et[nt].id]=!0;var Q=w.getGroupFor(et[nt].source),rt=w.getGroupFor(et[nt].target);Q===g?(rt!==g&&g.connections.source.push(et[nt]),D[et[nt].id]=g):rt===g&&(g.connections.target.push(et[nt]),j[et[nt].id]=g)}};K(V),K(Y)}this.updateConnectionsForGroup=C,this.refreshAllGroups=function(){for(var g in A)C(A[g]),w.dragManager.updateOffsets(w.getId(A[g].getEl()))}},R=function(w,A){var D=this,j=A.el;this.getEl=function(){return j},this.id=A.id||n.uuid(),j._isJsPlumbGroup=!0;var H=this.getDragArea=function(){var rt=w.getSelector(j,s);return rt&&rt.length>0?rt[0]:j},M=A.ghost===!0,L=M||A.constrain===!0,G=A.revert!==!1,X=A.orphan===!0,x=A.prune===!0,C=A.dropOverride===!0,g=A.proxied!==!1,p=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(rt,dt){return A.anchor||"Continuous"},this.getEndpoint=function(rt,dt){return A.endpoint||["Dot",{radius:10}]},this.collapsed=!1,A.draggable!==!1){var E={drag:function(){for(var rt=0;rt<p.length;rt++)w.draw(p[rt])},stop:function(rt){w.fire(k,jsPlumb.extend(rt,{group:D}))},scope:_};A.dragOptions&&t.jsPlumb.extend(E,A.dragOptions),w.draggable(A.el,E)}A.droppable!==!1&&w.droppable(A.el,{drop:function(rt){var dt=rt.drag.el;if(!dt._isJsPlumbGroup){var pt=dt._jsPlumbGroup;if(pt!==D){if(pt!=null&&pt.overrideDrop(dt,D))return;w.getGroupManager().addToGroup(D,dt,!1)}}}});var y=function(rt,dt){for(var pt=rt.nodeType==null?rt:[rt],mt=0;mt<pt.length;mt++)dt(pt[mt])};this.overrideDrop=function(rt,dt){return C&&(G||x||X)},this.add=function(rt,dt){var pt=H();y(rt,function(mt){if(mt._jsPlumbGroup!=null){if(mt._jsPlumbGroup===D)return;mt._jsPlumbGroup.remove(mt,!0,dt,!1)}mt._jsPlumbGroup=D,p.push(mt),w.isAlreadyDraggable(mt)&&Q(mt),mt.parentNode!==pt&&pt.appendChild(mt)}),w.getGroupManager().updateConnectionsForGroup(D)},this.remove=function(rt,dt,pt,mt,Mt){y(rt,function(gt){if(gt._jsPlumbGroup===D){if(delete gt._jsPlumbGroup,n.removeWithFunction(p,function(tt){return tt===gt}),dt)try{D.getDragArea().removeChild(gt)}catch(tt){jsPlumbUtil.log("Could not remove element from Group "+tt)}if(nt(gt),!pt){var Dt={group:D,el:gt};Mt&&(Dt.targetGroup=Mt),w.fire(T,Dt)}}}),mt||w.getGroupManager().updateConnectionsForGroup(D)},this.removeAll=function(rt,dt){for(var pt=0,mt=p.length;pt<mt;pt++){var Mt=p[0];D.remove(Mt,rt,dt,!0),w.remove(Mt,!0)}p.length=0,w.getGroupManager().updateConnectionsForGroup(D)},this.orphanAll=function(){for(var rt={},dt=0;dt<p.length;dt++){var pt=W(p[dt]);rt[pt[0]]=pt[1]}return p.length=0,rt},this.getMembers=function(){return p},j[b]=this,w.bind(o,function(rt){rt.el._jsPlumbGroup===this&&Q(rt.el)}.bind(this));function V(rt){return rt.offsetParent}function Y(rt,dt){var pt=V(rt),mt=w.getSize(pt),Mt=w.getSize(rt),gt=dt[0],Dt=gt+Mt[0],tt=dt[1],J=tt+Mt[1];return Dt>0&&gt<mt[0]&&J>0&&tt<mt[1]}function W(rt){var dt=w.getId(rt),pt=w.getOffset(rt);return rt.parentNode.removeChild(rt),w.getContainer().appendChild(rt),w.setPosition(rt,pt),nt(rt),w.dragManager.clearParent(rt,dt),[dt,pt]}function K(rt){var dt=[];function pt(Mt,gt,Dt){var tt=null;if(!Y(Mt,[gt,Dt])){var J=Mt._jsPlumbGroup;x?w.remove(Mt):tt=W(Mt),J.remove(Mt)}return tt}for(var mt=0;mt<rt.selection.length;mt++)dt.push(pt(rt.selection[mt][0],rt.selection[mt][1].left,rt.selection[mt][1].top));return dt.length===1?dt[0]:dt}function et(rt){var dt=w.getId(rt);w.revalidate(rt),w.dragManager.revalidateParent(rt,dt)}function nt(rt){rt._katavorioDrag&&((x||X)&&rt._katavorioDrag.off(c,K),!x&&!X&&G&&(rt._katavorioDrag.off(a,et),rt._katavorioDrag.setRevert(null)))}function Q(rt){rt._katavorioDrag&&((x||X)&&rt._katavorioDrag.on(c,K),L&&rt._katavorioDrag.setConstrain(!0),M&&rt._katavorioDrag.setUseGhostProxy(!0),!x&&!X&&G&&(rt._katavorioDrag.on(a,et),rt._katavorioDrag.setRevert(function(dt,pt){return!Y(dt,pt)})))}this.shouldProxy=function(){return g},w.getGroupManager().addGroup(this)};e.prototype.addGroup=function(w){var A=this;if(A._groups=A._groups||{},A._groups[w.id]!=null)throw new TypeError("cannot create Group ["+w.id+"]; a Group with that ID exists");if(w.el[b]!=null)throw new TypeError("cannot create Group ["+w.id+"]; the given element is already a Group");var D=new R(A,w);return A._groups[D.id]=D,w.collapsed&&this.collapseGroup(D),D},e.prototype.addToGroup=function(w,A,D){var j=function(M){var L=this.getId(M);this.manage(L,M),this.getGroupManager().addToGroup(w,M,D)}.bind(this);if(Array.isArray(A))for(var H=0;H<A.length;H++)j(A[H]);else j(A)},e.prototype.removeFromGroup=function(w,A,D){this.getGroupManager().removeFromGroup(w,A,D),this.getContainer().appendChild(A)},e.prototype.removeGroup=function(w,A,D,j){return this.getGroupManager().removeGroup(w,A,D,j)},e.prototype.removeAllGroups=function(w,A,D){this.getGroupManager().removeAllGroups(w,A,D)},e.prototype.getGroup=function(w){return this.getGroupManager().getGroup(w)},e.prototype.getGroups=function(){return this.getGroupManager().getGroups()},e.prototype.expandGroup=function(w){this.getGroupManager().expandGroup(w)},e.prototype.collapseGroup=function(w){this.getGroupManager().collapseGroup(w)},e.prototype.repaintGroup=function(w){this.getGroupManager().repaintGroup(w)},e.prototype.toggleGroup=function(w){w=this.getGroupManager().getGroup(w),w!=null&&this.getGroupManager()[w.collapsed?"expandGroup":"collapseGroup"](w)},e.prototype.getGroupManager=function(){var w=this[l];return w==null&&(w=this[l]=new S(this)),w},e.prototype.removeGroupManager=function(){delete this[l]},e.prototype.getGroupFor=function(w){if(w=this.getElement(w),w){for(var A=this.getContainer(),D=!1,j=null,H=null;!D;)w==null||w===A?D=!0:w[b]?(j=w[b],H=w,D=!0):w=w.parentNode;return j}}}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="Straight",r="Arc",s=function(o){this.type="Flowchart",o=o||{},o.stub=o.stub==null?30:o.stub;var c,a=n.Connectors.AbstractConnector.apply(this,arguments),l=o.midpoint==null||isNaN(o.midpoint)?.5:o.midpoint,b=o.alwaysRespectStubs===!0,_=null,O=null,T,U=o.cornerRadius!=null?o.cornerRadius:0,P=o.loopbackRadius||25,h=!1,d=function(v){return v<0?-1:v===0?0:1},k=function(v){return[d(v[2]-v[0]),d(v[3]-v[1])]},N=function(v,m,S,R){if(!(_===m&&O===S)){var w=_??R.sx,A=O??R.sy,D=w===m?"v":"h";_=m,O=S,v.push([w,A,m,S,D])}},$=function(v){return Math.sqrt(Math.pow(v[0]-v[2],2)+Math.pow(v[1]-v[3],2))},z=function(v){var m=[];return m.push.apply(m,v),m},u=function(v,m,S){for(var R=null,w,A,D,j=0;j<m.length-1;j++){if(R=R||z(m[j]),w=z(m[j+1]),A=k(R),D=k(w),U>0&&R[4]!==w[4]){var H=Math.min($(R),$(w)),M=Math.min(U,H/2);R[2]-=A[0]*M,R[3]-=A[1]*M,w[0]+=D[0]*M,w[1]+=D[1]*M;var L=A[1]===D[0]&&D[0]===1||A[1]===D[0]&&D[0]===0&&A[0]!==D[1]||A[1]===D[0]&&D[0]===-1,G=w[1]>R[3]?1:-1,X=w[0]>R[2]?1:-1,x=G===X,C=x&&L||!x&&!L?w[0]:R[2],g=x&&L||!x&&!L?R[3]:w[1];a.addSegment(v,i,{x1:R[0],y1:R[1],x2:R[2],y2:R[3]}),a.addSegment(v,r,{r:M,x1:R[2],y1:R[3],x2:w[0],y2:w[1],cx:C,cy:g,ac:L})}else{var p=R[2]===R[0]?0:R[2]>R[0]?S.lw/2:-(S.lw/2),E=R[3]===R[1]?0:R[3]>R[1]?S.lw/2:-(S.lw/2);a.addSegment(v,i,{x1:R[0]-p,y1:R[1]-E,x2:R[2]+p,y2:R[3]+E})}R=w}w!=null&&a.addSegment(v,i,{x1:w[0],y1:w[1],x2:w[2],y2:w[3]})};this.midpoint=l,this._compute=function(v,m){c=[],_=null,O=null,T=null;var S=function(){return[v.startStubX,v.startStubY,v.endStubX,v.endStubY]},R={perpendicular:S,orthogonal:S,opposite:function(E){var y=v,V=E==="x"?0:1,Y={x:function(){return y.so[V]===1&&(y.startStubX>y.endStubX&&y.tx>y.startStubX||y.sx>y.endStubX&&y.tx>y.sx)||y.so[V]===-1&&(y.startStubX<y.endStubX&&y.tx<y.startStubX||y.sx<y.endStubX&&y.tx<y.sx)},y:function(){return y.so[V]===1&&(y.startStubY>y.endStubY&&y.ty>y.startStubY||y.sy>y.endStubY&&y.ty>y.sy)||y.so[V]===-1&&(y.startStubY<y.endStubY&&y.ty<y.startStubY||y.sy<y.endStubY&&y.ty<y.sy)}};return!b&&Y[E]()?{x:[(v.sx+v.tx)/2,v.startStubY,(v.sx+v.tx)/2,v.endStubY],y:[v.startStubX,(v.sy+v.ty)/2,v.endStubX,(v.sy+v.ty)/2]}[E]:[v.startStubX,v.startStubY,v.endStubX,v.endStubY]}},w=R[v.anchorOrientation](v.sourceAxis),A=v.sourceAxis==="x"?0:1,D=v.sourceAxis==="x"?1:0,j=w[A],H=w[D],M=w[A+2],L=w[D+2];N(c,w[0],w[1],v);var G=v.startStubX+(v.endStubX-v.startStubX)*l,X=v.startStubY+(v.endStubY-v.startStubY)*l,x={x:[0,1],y:[1,0]},C={perpendicular:function(E){var y=v,V={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},Y={x:[[y.startStubX,y.endStubX],null,[y.endStubX,y.startStubX]],y:[[y.startStubY,y.endStubY],null,[y.endStubY,y.startStubY]]},W={x:[[G,y.startStubY],[G,y.endStubY]],y:[[y.startStubX,X],[y.endStubX,X]]},K={x:[[y.endStubX,y.startStubY]],y:[[y.startStubX,y.endStubY]]},et={x:[[y.startStubX,y.endStubY],[y.endStubX,y.endStubY]],y:[[y.endStubX,y.startStubY],[y.endStubX,y.endStubY]]},nt={x:[[y.startStubX,X],[y.endStubX,X],[y.endStubX,y.endStubY]],y:[[G,y.startStubY],[G,y.endStubY],[y.endStubX,y.endStubY]]},Q={x:[y.startStubY,y.endStubY],y:[y.startStubX,y.endStubX]},rt=x[E][0],dt=x[E][1],pt=y.so[rt]+1,mt=y.to[dt]+1,Mt=y.to[dt]===-1&&Q[E][1]<Q[E][0]||y.to[dt]===1&&Q[E][1]>Q[E][0],gt=Y[E][pt][0],Dt=Y[E][pt][1],tt=V[E][pt][mt];if(y.segment===tt[3]||y.segment===tt[2]&&Mt)return W[E];if(y.segment===tt[2]&&Dt<gt)return K[E];if(y.segment===tt[2]&&Dt>=gt||y.segment===tt[1]&&!Mt)return nt[E];if(y.segment===tt[0]||y.segment===tt[1]&&Mt)return et[E]},orthogonal:function(E,y,V,Y,W){var K=v,et={x:K.so[0]===-1?Math.min(y,Y):Math.max(y,Y),y:K.so[1]===-1?Math.min(y,Y):Math.max(y,Y)}[E];return{x:[[et,V],[et,W],[Y,W]],y:[[V,et],[W,et],[W,Y]]}[E]},opposite:function(E,y,V,Y){var W=v,K={x:"y",y:"x"}[E],et={x:"height",y:"width"}[E],nt=W["is"+E.toUpperCase()+"GreaterThanStubTimes2"];if(m.sourceEndpoint.elementId===m.targetEndpoint.elementId){var Q=V+(1-m.sourceEndpoint.anchor[K])*m.sourceInfo[et]+a.maxStub;return{x:[[y,Q],[Y,Q]],y:[[Q,y],[Q,Y]]}[E]}else{if(!nt||W.so[A]===1&&y>Y||W.so[A]===-1&&y<Y)return{x:[[y,X],[Y,X]],y:[[G,y],[G,Y]]}[E];if(W.so[A]===1&&y<Y||W.so[A]===-1&&y>Y)return{x:[[G,W.sy],[G,W.ty]],y:[[W.sx,X],[W.tx,X]]}[E]}}},g=C[v.anchorOrientation](v.sourceAxis,j,H,M,L);if(g)for(var p=0;p<g.length;p++)N(c,g[p][0],g[p][1],v);N(c,w[2],w[3],v),N(c,v.tx,v.ty,v),u(this,c,v)}};n.Connectors.Flowchart=s,e.extend(n.Connectors.Flowchart,n.Connectors.AbstractConnector)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil;n.Connectors.AbstractBezierConnector=function(r){r=r||{};var s=r.showLoopback!==!1,o=r.curviness||10,c=r.margin||5,a=r.proximityLimit||80,l=r.orientation&&r.orientation==="clockwise",b=r.loopbackRadius||25,_=!1,O;return this._compute=function(T,U){var P=U.sourcePos,h=U.targetPos,d=Math.abs(P[0]-h[0]),k=Math.abs(P[1]-h[1]);if(!s||U.sourceEndpoint.elementId!==U.targetEndpoint.elementId)_=!1,this._computeBezier(T,U,P,h,d,k);else{_=!0;var N=U.sourcePos[0],$=U.sourcePos[1]-c,z=N,u=$-b,v=z-b,m=u-b;d=2*b,k=2*b,T.points[0]=v,T.points[1]=m,T.points[2]=d,T.points[3]=k,O.addSegment(this,"Arc",{loopback:!0,x1:N-v+4,y1:$-m,startAngle:0,endAngle:2*Math.PI,r:b,ac:!l,x2:N-v-4,y2:$-m,cx:z-v,cy:u-m})}},O=n.Connectors.AbstractConnector.apply(this,arguments),O},e.extend(n.Connectors.AbstractBezierConnector,n.Connectors.AbstractConnector);var i=function(r){r=r||{},this.type="Bezier";var s=n.Connectors.AbstractBezierConnector.apply(this,arguments),o=r.curviness||150,c=10;this.getCurviness=function(){return o},this._findControlPoint=function(a,l,b,_,O,T,U){var P=T[0]!==U[0]||T[1]===U[1],h=[];return P?(U[0]===0?h.push(b[0]<l[0]?a[0]+c:a[0]-c):h.push(a[0]+o*U[0]),U[1]===0?h.push(b[1]<l[1]?a[1]+c:a[1]-c):h.push(a[1]+o*T[1])):(T[0]===0?h.push(l[0]<b[0]?a[0]+c:a[0]-c):h.push(a[0]-o*T[0]),T[1]===0?h.push(l[1]<b[1]?a[1]+c:a[1]-c):h.push(a[1]+o*U[1])),h},this._computeBezier=function(a,l,b,_,O,T){var U,P,h=b[0]<_[0]?O:0,d=b[1]<_[1]?T:0,k=b[0]<_[0]?0:O,N=b[1]<_[1]?0:T;U=this._findControlPoint([h,d],b,_,l.sourceEndpoint,l.targetEndpoint,a.so,a.to),P=this._findControlPoint([k,N],_,b,l.targetEndpoint,l.sourceEndpoint,a.to,a.so),s.addSegment(this,"Bezier",{x1:h,y1:d,x2:k,y2:N,cp1x:U[0],cp1y:U[1],cp2x:P[0],cp2y:P[1]})}};n.Connectors.Bezier=i,e.extend(i,n.Connectors.AbstractBezierConnector)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(o,c,a,l){return o<=a&&l<=c?1:o<=a&&c<=l?2:a<=o&&l>=c?3:4},r=function(o,c,a,l,b,_,O,T,U){if(T<=U)return[o,c];if(a===1)return l[3]<=0&&b[3]>=1?[o+(l[2]<.5?-1*_:_),c]:l[2]>=1&&b[2]<=0?[o,c+(l[3]<.5?-1*O:O)]:[o+-1*_,c+-1*O];if(a===2)return l[3]>=1&&b[3]<=0?[o+(l[2]<.5?-1*_:_),c]:l[2]>=1&&b[2]<=0?[o,c+(l[3]<.5?-1*O:O)]:[o+_,c+-1*O];if(a===3)return l[3]>=1&&b[3]<=0?[o+(l[2]<.5?-1*_:_),c]:l[2]<=0&&b[2]>=1?[o,c+(l[3]<.5?-1*O:O)]:[o+-1*_,c+-1*O];if(a===4)return l[3]<=0&&b[3]>=1?[o+(l[2]<.5?-1*_:_),c]:l[2]<=0&&b[2]>=1?[o,c+(l[3]<.5?-1*O:O)]:[o+_,c+-1*O]},s=function(o){o=o||{},this.type="StateMachine";var c=n.Connectors.AbstractBezierConnector.apply(this,arguments),a=o.curviness||10,l=o.margin||5,b=o.proximityLimit||80,_=o.orientation&&o.orientation==="clockwise",O;this._computeBezier=function(T,U,P,h,d,k){var N=U.sourcePos[0]<U.targetPos[0]?0:d,$=U.sourcePos[1]<U.targetPos[1]?0:k,z=U.sourcePos[0]<U.targetPos[0]?d:0,u=U.sourcePos[1]<U.targetPos[1]?k:0;U.sourcePos[2]===0&&(N-=l),U.sourcePos[2]===1&&(N+=l),U.sourcePos[3]===0&&($-=l),U.sourcePos[3]===1&&($+=l),U.targetPos[2]===0&&(z-=l),U.targetPos[2]===1&&(z+=l),U.targetPos[3]===0&&(u-=l),U.targetPos[3]===1&&(u+=l);var v=(N+z)/2,m=($+u)/2,S=i(N,$,z,u),R=Math.sqrt(Math.pow(z-N,2)+Math.pow(u-$,2)),w,A,D,j;O=r(v,m,S,U.sourcePos,U.targetPos,a,a,R,b),w=O[0],A=O[0],D=O[1],j=O[1],c.addSegment(this,"Bezier",{x1:z,y1:u,x2:N,y2:$,cp1x:w,cp1y:D,cp2x:A,cp2y:j})}};n.Connectors.StateMachine=s,e.extend(s,n.Connectors.AbstractBezierConnector)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="Straight",r=function(s){this.type=i;var o=n.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(c,a){o.addSegment(this,i,{x1:c.sx,y1:c.sy,x2:c.startStubX,y2:c.startStubY}),o.addSegment(this,i,{x1:c.startStubX,y1:c.startStubY,x2:c.endStubX,y2:c.endStubY}),o.addSegment(this,i,{x1:c.endStubX,y1:c.endStubY,x2:c.tx,y2:c.ty})}};n.Connectors.Straight=r,e.extend(r,n.Connectors.AbstractConnector)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="stroke-dasharray",s="dashstyle",o="linearGradient",c="radialGradient",a="defs",l="fill",b="stop",_="stroke",O="stroke-width",T="style",U="none",P="jsplumb_gradient_",h="strokeWidth",d={svg:"http://www.w3.org/2000/svg"},k=function(D,j){for(var H in j)D.setAttribute(H,""+j[H])},N=function(D,j){return j=j||{},j.version="1.1",j.xmlns=d.svg,n.createElementNS(d.svg,D,null,null,j)},$=function(D){return"position:absolute;left:"+D[0]+"px;top:"+D[1]+"px"},z=function(D){for(var j=D.querySelectorAll(" defs,linearGradient,radialGradient"),H=0;H<j.length;H++)j[H].parentNode.removeChild(j[H])},u=function(D,j,H,M,L){var G=P+L._jsPlumb.instance.idstamp();z(D);var X;H.gradient.offset?X=N(c,{id:G}):X=N(o,{id:G,gradientUnits:"userSpaceOnUse"});var x=N(a);D.appendChild(x),x.appendChild(X);for(var C=0;C<H.gradient.stops.length;C++){var g=L.segment===1||L.segment===2?C:H.gradient.stops.length-1-C,p=H.gradient.stops[g][1],E=N(b,{offset:Math.floor(H.gradient.stops[C][0]*100)+"%","stop-color":p});X.appendChild(E)}var y=H.stroke?_:l;j.setAttribute(y,"url(#"+G+")")},v=function(D,j,H,M,L){if(j.setAttribute(l,H.fill?H.fill:U),j.setAttribute(_,H.stroke?H.stroke:U),H.gradient?u(D,j,H,M,L):(z(D),j.setAttribute(T,"")),H.strokeWidth&&j.setAttribute(O,H.strokeWidth),H[s]&&H[h]&&!H[r]){var G=H[s].indexOf(",")===-1?" ":",",X=H[s].split(G),x="";X.forEach(function(g){x+=Math.floor(g*H.strokeWidth)+G}),j.setAttribute(r,x)}else H[r]&&j.setAttribute(r,H[r]);for(var C in i)H[C]&&j.setAttribute(i[C],H[C])},m=function(D,j,H){D.childNodes.length>H?D.insertBefore(j,D.childNodes[H]):D.appendChild(j)};e.svg={node:N,attr:k,pos:$};var S=function(D){var j=D.pointerEventsSpec||"all",H={};n.jsPlumbUIComponent.apply(this,D.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var M=D.cssClass+" "+(D.originalArgs[0].cssClass||""),L={style:"",width:0,height:0,"pointer-events":j,position:"absolute"};this.svg=N("svg",L),D.useDivWrapper?(this.canvas=n.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=M):(k(this.svg,{class:M}),this.canvas=this.svg),D._jsPlumb.appendElement(this.canvas,D.originalArgs[0].parent),D.useDivWrapper&&this.canvas.appendChild(this.svg);var G=[this.canvas];return this.getDisplayElements=function(){return G},this.appendDisplayElement=function(X){G.push(X)},this.paint=function(X,x,C){if(X!=null){var g=[this.x,this.y],p=[this.w,this.h],E;C!=null&&(C.xmin<0&&(g[0]+=C.xmin),C.ymin<0&&(g[1]+=C.ymin),p[0]=C.xmax+(C.xmin<0?-C.xmin:0),p[1]=C.ymax+(C.ymin<0?-C.ymin:0)),D.useDivWrapper?(e.sizeElement(this.canvas,g[0],g[1],p[0]>0?p[0]:1,p[1]>0?p[1]:1),g[0]=0,g[1]=0,E=$([0,0])):E=$([g[0],g[1]]),H.paint.apply(this,arguments),k(this.svg,{style:E,width:p[0]||1,height:p[1]||1})}},{renderer:H}};e.extend(S,n.jsPlumbUIComponent,{cleanup:function(D){D||this.typeId==null?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null,this._jsPlumb=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(D){var j=D.getContainer();this.canvas&&this.canvas.parentNode==null&&j.appendChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode==null&&j.appendChild(this.bgCanvas)},setVisible:function(D){this.canvas&&(this.canvas.style.display=D?"block":"none")}}),n.ConnectorRenderers.svg=function(D){var j=this,H=S.apply(this,[{cssClass:D._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:D._jsPlumb}]);H.renderer.paint=function(M,L,G){var X=j.getSegments(),x="",C=[0,0];if(G.xmin<0&&(C[0]=-G.xmin),G.ymin<0&&(C[1]=-G.ymin),X.length>0){x=j.getPathData();var g={d:x,transform:"translate("+C[0]+","+C[1]+")","pointer-events":D["pointer-events"]||"visibleStroke"},p=null,E=[j.x,j.y,j.w,j.h];if(M.outlineStroke){var y=M.outlineWidth||1,V=M.strokeWidth+2*y;p=n.extend({},M),delete p.gradient,p.stroke=M.outlineStroke,p.strokeWidth=V,j.bgPath==null?(j.bgPath=N("path",g),n.addClass(j.bgPath,n.connectorOutlineClass),m(j.svg,j.bgPath,0)):k(j.bgPath,g),v(j.svg,j.bgPath,p,E,j)}j.path==null?(j.path=N("path",g),m(j.svg,j.path,M.outlineStroke?1:0)):k(j.path,g),v(j.svg,j.path,M,E,j)}}},e.extend(n.ConnectorRenderers.svg,S);var R=n.SvgEndpoint=function(D){var j=S.apply(this,[{cssClass:D._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:D._jsPlumb}]);j.renderer.paint=function(H){var M=n.extend({},H);M.outlineStroke&&(M.stroke=M.outlineStroke),this.node==null?(this.node=this.makeNode(M),this.svg.appendChild(this.node)):this.updateNode!=null&&this.updateNode(this.node),v(this.svg,this.node,M,[this.x,this.y,this.w,this.h],this),$(this.node,[this.x,this.y])}.bind(this)};e.extend(R,S),n.Endpoints.svg.Dot=function(){n.Endpoints.Dot.apply(this,arguments),R.apply(this,arguments),this.makeNode=function(D){return N("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(D){k(D,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(n.Endpoints.svg.Dot,[n.Endpoints.Dot,R]),n.Endpoints.svg.Rectangle=function(){n.Endpoints.Rectangle.apply(this,arguments),R.apply(this,arguments),this.makeNode=function(D){return N("rect",{width:this.w,height:this.h})},this.updateNode=function(D){k(D,{width:this.w,height:this.h})}},e.extend(n.Endpoints.svg.Rectangle,[n.Endpoints.Rectangle,R]),n.Endpoints.svg.Image=n.Endpoints.Image,n.Endpoints.svg.Blank=n.Endpoints.Blank,n.Overlays.svg.Label=n.Overlays.Label,n.Overlays.svg.Custom=n.Overlays.Custom;var w=function(D,j){D.apply(this,j),n.jsPlumbUIComponent.apply(this,j),this.isAppendedAtTopLevel=!1;var H=this;this.path=null,this.paint=function(L,G){if(L.component.svg&&G){this.path==null&&(this.path=N("path",{"pointer-events":"all"}),L.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,L.component),this.canvas=L.component.svg);var X=j&&j.length===1&&j[0].cssClass||"",x=[0,0];G.xmin<0&&(x[0]=-G.xmin),G.ymin<0&&(x[1]=-G.ymin),k(this.path,{d:M(L.d),class:X,stroke:L.stroke?L.stroke:null,fill:L.fill?L.fill:null,transform:"translate("+x[0]+","+x[1]+")"})}};var M=function(L){return isNaN(L.cxy.x)||isNaN(L.cxy.y)?"":"M"+L.hxy.x+","+L.hxy.y+" L"+L.tail[0].x+","+L.tail[0].y+" L"+L.cxy.x+","+L.cxy.y+" L"+L.tail[1].x+","+L.tail[1].y+" L"+L.hxy.x+","+L.hxy.y};this.transfer=function(L){L.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),L.canvas.appendChild(this.path))}},A={cleanup:function(D){this.path!=null&&(D?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(D,j){this.path&&j.canvas&&j.canvas.appendChild(this.path)},setVisible:function(D){this.path!=null&&(this.path.style.display=D?"block":"none")}};e.extend(w,[n.jsPlumbUIComponent,n.Overlays.AbstractOverlay]),n.Overlays.svg.Arrow=function(){w.apply(this,[n.Overlays.Arrow,arguments])},e.extend(n.Overlays.svg.Arrow,[n.Overlays.Arrow,w],A),n.Overlays.svg.PlainArrow=function(){w.apply(this,[n.Overlays.PlainArrow,arguments])},e.extend(n.Overlays.svg.PlainArrow,[n.Overlays.PlainArrow,w],A),n.Overlays.svg.Diamond=function(){w.apply(this,[n.Overlays.Diamond,arguments])},e.extend(n.Overlays.svg.Diamond,[n.Overlays.Diamond,w],A),n.Overlays.svg.GuideLines=function(){var D=null,j=this,H,M;n.Overlays.GuideLines.apply(this,arguments),this.paint=function(G,X){D==null&&(D=N("path"),G.connector.svg.appendChild(D),j.attachListeners(D,G.connector),j.attachListeners(D,j),H=N("path"),G.connector.svg.appendChild(H),j.attachListeners(H,G.connector),j.attachListeners(H,j),M=N("path"),G.connector.svg.appendChild(M),j.attachListeners(M,G.connector),j.attachListeners(M,j));var x=[0,0];X.xmin<0&&(x[0]=-X.xmin),X.ymin<0&&(x[1]=-X.ymin),k(D,{d:L(G.head,G.tail),stroke:"red",fill:null,transform:"translate("+x[0]+","+x[1]+")"}),k(H,{d:L(G.tailLine[0],G.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+x[0]+","+x[1]+")"}),k(M,{d:L(G.headLine[0],G.headLine[1]),stroke:"green",fill:null,transform:"translate("+x[0]+","+x[1]+")"})};var L=function(G,X){return"M "+G.x+","+G.y+" L"+X.x+","+X.y}},e.extend(n.Overlays.svg.GuideLines,n.Overlays.GuideLines)}).call(typeof window<"u"?window:zt);(function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=t.Katavorio,r=t.Biltong,s=function(u){var v=u._mottle;return v||(v=u._mottle=new t.Mottle),v},o=function(u,v){v=v||"main";var m="_katavorio_"+v,S=u[m],R=u.getEventManager();return S||(S=new i({bind:R.on,unbind:R.off,getSize:n.getSize,getConstrainingRectangle:function(w){return[w.parentNode.scrollWidth,w.parentNode.scrollHeight]},getPosition:function(w,A){var D=u.getOffset(w,A,w._katavorioDrag?w.offsetParent:null);return[D.left,D.top]},setPosition:function(w,A){w.style.left=A[0]+"px",w.style.top=A[1]+"px"},addClass:n.addClass,removeClass:n.removeClass,intersects:r.intersects,indexOf:function(w,A){return w.indexOf(A)},scope:u.getDefaultScope(),css:{noSelect:u.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}}),S.setZoom(u.getZoom()),u[m]=S,u.bind("zoom",S.setZoom)),S},c=function(u){var v=u.el._jsPlumbDragOptions,m=!0;return v.canDrag&&(m=v.canDrag()),m&&(this.setHoverSuspended(!0),this.select({source:u.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:u.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),m},a=function(u){var v=this.getUIPosition(arguments,this.getZoom());if(v!=null){var m=u.el._jsPlumbDragOptions;this.draw(u.el,v,null,!0),m._dragging&&this.addClass(u.el,"jtk-dragged"),m._dragging=!0}},l=function(u){for(var v=u.selection,m,S=function(w){var A;w[1]!=null&&(m=this.getUIPosition([{el:w[2].el,pos:[w[1].left,w[1].top]}]),A=this.draw(w[2].el,m)),w[0]._jsPlumbDragOptions!=null&&delete w[0]._jsPlumbDragOptions._dragging,this.removeClass(w[0],"jtk-dragged"),this.select({source:w[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:w[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),u.e._drawResult=u.e._drawResult||{c:[],e:[],a:[]},Array.prototype.push.apply(u.e._drawResult.c,A.c),Array.prototype.push.apply(u.e._drawResult.e,A.e),Array.prototype.push.apply(u.e._drawResult.a,A.a),this.getDragManager().dragEnded(w[2].el)}.bind(this),R=0;R<v.length;R++)S(v[R]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)},b=function(u,v){var m=function(S){if(v[S]!=null)if(e.isString(v[S])){var R=v[S].match(/-=/)?-1:1,w=v[S].substring(2);return u[S]+R*w}else return v[S];else return u[S]};return[m("left"),m("top")]},_=function(u,v){if(v==null)return[0,0];var m=h(v),S=P(m,0);return[S[u+"X"],S[u+"Y"]]},O=_.bind(this,"page"),T=_.bind(this,"screen"),U=_.bind(this,"client"),P=function(u,v){return u.item?u.item(v):u[v]},h=function(u){return u.touches&&u.touches.length>0?u.touches:u.changedTouches&&u.changedTouches.length>0?u.changedTouches:u.targetTouches&&u.targetTouches.length>0?u.targetTouches:[u]},d=function(u){var v={},m=[],S={},R={},w={};this.register=function(A){var D=u.getId(A),j;v[D]||(v[D]=A,m.push(A),S[D]={});var H=function(M){if(M){for(var L=0;L<M.childNodes.length;L++)if(M.childNodes[L].nodeType!==3&&M.childNodes[L].nodeType!==8){var G=jsPlumb.getElement(M.childNodes[L]),X=u.getId(M.childNodes[L],null,!0);if(X&&R[X]&&R[X]>0){j||(j=u.getOffset(A));var x=u.getOffset(G);S[D][X]={id:X,offset:{left:x.left-j.left,top:x.top-j.top}},w[X]=D}H(M.childNodes[L])}}};H(A)},this.updateOffsets=function(A,D){if(A!=null){D=D||{};var j=jsPlumb.getElement(A),H=u.getId(j),M=S[H],L;if(M){for(var G in M)if(M.hasOwnProperty(G)){var X=jsPlumb.getElement(G),x=D[G]||u.getOffset(X);if(X.offsetParent==null&&S[H][G]!=null)continue;L||(L=u.getOffset(j)),S[H][G]={id:G,offset:{left:x.left-L.left,top:x.top-L.top}},w[G]=H}}}},this.endpointAdded=function(A,D){D=D||u.getId(A);var j=document.body,H=A.parentNode;for(R[D]=R[D]?R[D]+1:1;H!=null&&H!==j;){var M=u.getId(H,null,!0);if(M&&v[M]){var L=u.getOffset(H);if(S[M][D]==null){var G=u.getOffset(A);S[M][D]={id:D,offset:{left:G.left-L.left,top:G.top-L.top}},w[D]=M}break}H=H.parentNode}},this.endpointDeleted=function(A){if(R[A.elementId]&&(R[A.elementId]--,R[A.elementId]<=0))for(var D in S)S.hasOwnProperty(D)&&S[D]&&(delete S[D][A.elementId],delete w[A.elementId])},this.changeId=function(A,D){S[D]=S[A],S[A]={},w[D]=w[A],w[A]=null},this.getElementsForDraggable=function(A){return S[A]},this.elementRemoved=function(A){var D=w[A];D&&(S[D]&&delete S[D][A],delete w[A])},this.reset=function(){v={},m=[],S={},R={}},this.dragEnded=function(A){if(A.offsetParent!=null){var D=u.getId(A),j=w[D];j&&this.updateOffsets(j)}},this.setParent=function(A,D,j,H,M){var L=w[D];S[H]||(S[H]={});var G=u.getOffset(j),X=M||u.getOffset(A);L&&S[L]&&delete S[L][D],S[H][D]={id:D,offset:{left:X.left-G.left,top:X.top-G.top}},w[D]=H},this.clearParent=function(A,D){var j=w[D];j&&(delete S[j][D],delete w[D])},this.revalidateParent=function(A,D,j){var H=w[D];if(H){var M={};M[D]=j,this.updateOffsets(H,M),u.revalidate(H)}},this.getDragAncestor=function(A){var D=jsPlumb.getElement(A),j=u.getId(D),H=w[j];return H?jsPlumb.getElement(H):null}},k=function(u,v,m){v=e.fastTrim(v),typeof u.className.baseVal<"u"?u.className.baseVal=v:u.className=v;try{var S=u.classList;if(S!=null){for(;S.length>0;)S.remove(S.item(0));for(var R=0;R<m.length;R++)m[R]&&S.add(m[R])}}catch(w){e.log("JSPLUMB: cannot set class list",w)}},N=function(u){return typeof u.className.baseVal>"u"?u.className:u.className.baseVal},$=function(u,v,m){v=v==null?[]:e.isArray(v)?v:v.split(/\s+/),m=m==null?[]:e.isArray(m)?m:m.split(/\s+/);var S=N(u),R=S.split(/\s+/),w=function(A,D){for(var j=0;j<D.length;j++)if(A)R.indexOf(D[j])===-1&&R.push(D[j]);else{var H=R.indexOf(D[j]);H!==-1&&R.splice(H,1)}};w(!0,v),w(!1,m),k(u,R.join(" "),R)};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{headless:!1,pageLocation:O,screenLocation:T,clientLocation:U,getDragManager:function(){return this.dragManager==null&&(this.dragManager=new d(this)),this.dragManager},recalculateOffsets:function(u){this.getDragManager().updateOffsets(u)},createElement:function(u,v,m,S){return this.createElementNS(null,u,v,m,S)},createElementNS:function(u,v,m,S,R){var w=u==null?document.createElement(v):document.createElementNS(u,v),A;m=m||{};for(A in m)w.style[A]=m[A];S&&(w.className=S),R=R||{};for(A in R)w.setAttribute(A,""+R[A]);return w},getAttribute:function(u,v){return u.getAttribute!=null?u.getAttribute(v):null},setAttribute:function(u,v,m){u.setAttribute!=null&&u.setAttribute(v,m)},setAttributes:function(u,v){for(var m in v)v.hasOwnProperty(m)&&u.setAttribute(m,v[m])},appendToRoot:function(u){document.body.appendChild(u)},getRenderModes:function(){return["svg"]},getClass:N,addClass:function(u,v){jsPlumb.each(u,function(m){$(m,v)})},hasClass:function(u,v){return u=jsPlumb.getElement(u),u.classList?u.classList.contains(v):N(u).indexOf(v)!==-1},removeClass:function(u,v){jsPlumb.each(u,function(m){$(m,null,v)})},toggleClass:function(u,v){jsPlumb.hasClass(u,v)?jsPlumb.removeClass(u,v):jsPlumb.addClass(u,v)},updateClasses:function(u,v,m){jsPlumb.each(u,function(S){$(S,v,m)})},setClass:function(u,v){v!=null&&jsPlumb.each(u,function(m){k(m,v,v.split(/\s+/))})},setPosition:function(u,v){u.style.left=v.left+"px",u.style.top=v.top+"px"},getPosition:function(u){var v=function(m){var S=u.style[m];return S?S.substring(0,S.length-2):0};return{left:v("left"),top:v("top")}},getStyle:function(u,v){return typeof window.getComputedStyle<"u"?getComputedStyle(u,null).getPropertyValue(v):u.currentStyle[v]},getSelector:function(u,v){var m=null;return arguments.length===1?m=u.nodeType!=null?u:document.querySelectorAll(u):m=u.querySelectorAll(v),m},getOffset:function(u,v,m){u=jsPlumb.getElement(u),m=m||this.getContainer();for(var S={left:u.offsetLeft,top:u.offsetTop},R=v||m!=null&&u!==m&&u.offsetParent!==m?u.offsetParent:null,w=function(j){j!=null&&j!==document.body&&(j.scrollTop>0||j.scrollLeft>0)&&(S.left-=j.scrollLeft,S.top-=j.scrollTop)}.bind(this);R!=null;)S.left+=R.offsetLeft,S.top+=R.offsetTop,w(R),R=v?R.offsetParent:R.offsetParent===m?null:R.offsetParent;if(m!=null&&!v&&(m.scrollTop>0||m.scrollLeft>0)){var A=u.offsetParent!=null?this.getStyle(u.offsetParent,"position"):"static",D=this.getStyle(u,"position");D!=="absolute"&&D!=="fixed"&&A!=="absolute"&&A!=="fixed"&&(S.left-=m.scrollLeft,S.top-=m.scrollTop)}return S},getPositionOnElement:function(u,v,m){var S=typeof v.getBoundingClientRect<"u"?v.getBoundingClientRect():{left:0,top:0,width:0,height:0},R=document.body,w=document.documentElement,A=window.pageYOffset||w.scrollTop||R.scrollTop,D=window.pageXOffset||w.scrollLeft||R.scrollLeft,j=w.clientTop||R.clientTop||0,H=w.clientLeft||R.clientLeft||0,M=0,L=0,G=S.top+A-j+M*m,X=S.left+D-H+L*m,x=jsPlumb.pageLocation(u),C=S.width||v.offsetWidth*m,g=S.height||v.offsetHeight*m,p=(x[0]-X)/C,E=(x[1]-G)/g;return[p,E]},getAbsolutePosition:function(u){var v=function(m){var S=u.style[m];if(S)return parseFloat(S.substring(0,S.length-2))};return[v("left"),v("top")]},setAbsolutePosition:function(u,v,m,S){m?this.animate(u,{left:"+="+(v[0]-m[0]),top:"+="+(v[1]-m[1])},S):(u.style.left=v[0]+"px",u.style.top=v[1]+"px")},getSize:function(u){return[u.offsetWidth,u.offsetHeight]},getWidth:function(u){return u.offsetWidth},getHeight:function(u){return u.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(u,v){var m;return u=e.isArray(u)||u.length!=null&&!e.isString(u)?u:[u],Array.prototype.slice.call(u).forEach(function(S){m=this.info(S),m.el&&this._initDraggableIfNecessary(m.el,!0,v,m.id,!0)}.bind(this)),this},snapToGrid:function(u,v,m){var S=[],R=function(D){var j=this.info(D);if(j.el!=null&&j.el._katavorioDrag){var H=j.el._katavorioDrag.snap(v,m);this.revalidate(j.el),S.push([j.el,H])}}.bind(this);if(arguments.length===1||arguments.length===3)R(u,v,m);else{var w=this.getManagedElements();for(var A in w)R(A,arguments[0],arguments[1])}return S},initDraggable:function(u,v,m){o(this,m).draggable(u,v),u._jsPlumbDragOptions=v},destroyDraggable:function(u,v){o(this,v).destroyDraggable(u),u._jsPlumbDragOptions=null,u._jsPlumbRelatedElement=null},unbindDraggable:function(u,v,m,S){o(this,S).destroyDraggable(u,v,m)},setDraggable:function(u,v){return jsPlumb.each(u,function(m){this.isDragSupported(m)&&(this._draggableStates[this.getAttribute(m,"id")]=v,this.setElementDraggable(m,v))}.bind(this))},_draggableStates:{},toggleDraggable:function(u){var v;return jsPlumb.each(u,function(m){var S=this.getAttribute(m,"id");return v=this._draggableStates[S]==null?!1:this._draggableStates[S],v=!v,this._draggableStates[S]=v,this.setDraggable(m,v),v}.bind(this)),v},_initDraggableIfNecessary:function(u,v,m,S,R){if(!jsPlumb.headless){var w=v??!1;if(w&&jsPlumb.isDragSupported(u,this)){var A=m||this.Defaults.DragOptions;if(A=jsPlumb.extend({},A),jsPlumb.isAlreadyDraggable(u,this))m.force&&this.initDraggable(u,A);else{var D=jsPlumb.dragEvents.drag,j=jsPlumb.dragEvents.stop,H=jsPlumb.dragEvents.start;this.manage(S,u),A[H]=e.wrap(A[H],c.bind(this)),A[D]=e.wrap(A[D],a.bind(this)),A[j]=e.wrap(A[j],l.bind(this));var M=this.getId(u);this._draggableStates[M]=!0;var L=this._draggableStates[M];A.disabled=L==null?!1:!L,this.initDraggable(u,A),this.getDragManager().register(u),R&&this.fire("elementDraggable",{el:u,options:A})}}}},animationSupported:!0,getElement:function(u){return u==null?null:(u=typeof u=="string"?u:u.tagName==null&&u.length!=null&&u.enctype==null?u[0]:u,typeof u=="string"?document.getElementById(u):u)},removeElement:function(u){o(this).elementRemoved(u),this.getEventManager().remove(u)},doAnimate:function(u,v,m){m=m||{};var S=this.getOffset(u),R=b(S,v),w=R[0]-S.left,A=R[1]-S.top,D=m.duration||250,j=15,H=D/j,M=j/D*w,L=j/D*A,G=0,X=setInterval(function(){n.setPosition(u,{left:S.left+M*(G+1),top:S.top+L*(G+1)}),m.step!=null&&m.step(G,Math.ceil(H)),G++,G>=H&&(window.clearInterval(X),m.complete!=null&&m.complete())},j)},destroyDroppable:function(u,v){o(this,v).destroyDroppable(u)},unbindDroppable:function(u,v,m,S){o(this,S).destroyDroppable(u,v,m)},droppable:function(u,v){u=e.isArray(u)||u.length!=null&&!e.isString(u)?u:[u];var m;return v=v||{},v.allowLoopback=!1,Array.prototype.slice.call(u).forEach(function(S){m=this.info(S),m.el&&this.initDroppable(m.el,v)}.bind(this)),this},initDroppable:function(u,v,m){o(this,m).droppable(u,v)},isAlreadyDraggable:function(u){return u._katavorioDrag!=null},isDragSupported:function(u,v){return!0},isDropSupported:function(u,v){return!0},isElementDraggable:function(u){return u=n.getElement(u),u._katavorioDrag&&u._katavorioDrag.isEnabled()},getDragObject:function(u){return u[0].drag.getDragElement()},getDragScope:function(u){return u._katavorioDrag&&u._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(u){return u[0].e},getUIPosition:function(u,v){var m=u[0].el;if(m.offsetParent==null)return null;var S=u[0].finalPos||u[0].pos,R={left:S[0],top:S[1]};if(m._katavorioDrag&&m.offsetParent!==this.getContainer()){var w=this.getOffset(m.offsetParent);R.left+=w.left,R.top+=w.top}return R},setDragFilter:function(u,v,m){u._katavorioDrag&&u._katavorioDrag.setFilter(v,m)},setElementDraggable:function(u,v){u=n.getElement(u),u._katavorioDrag&&u._katavorioDrag.setEnabled(v)},setDragScope:function(u,v){u._katavorioDrag&&u._katavorioDrag.k.setDragScope(u,v)},setDropScope:function(u,v){u._katavorioDrop&&u._katavorioDrop.length>0&&u._katavorioDrop[0].k.setDropScope(u,v)},addToPosse:function(u,v){var m=Array.prototype.slice.call(arguments,1),S=o(this);n.each(u,function(R){R=[n.getElement(R)],R.push.apply(R,m),S.addToPosse.apply(S,R)})},setPosse:function(u,v){var m=Array.prototype.slice.call(arguments,1),S=o(this);n.each(u,function(R){R=[n.getElement(R)],R.push.apply(R,m),S.setPosse.apply(S,R)})},removeFromPosse:function(u,v){var m=Array.prototype.slice.call(arguments,1),S=o(this);n.each(u,function(R){R=[n.getElement(R)],R.push.apply(R,m),S.removeFromPosse.apply(S,R)})},removeFromAllPosses:function(u){var v=o(this);n.each(u,function(m){v.removeFromAllPosses(n.getElement(m))})},setPosseState:function(u,v,m){var S=o(this);n.each(u,function(R){S.setPosseState(n.getElement(R),v,m)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(u){u._katavorioDrag&&u._katavorioDrag.abort()},addToDragSelection:function(u){var v=this.getElement(u);v!=null&&(v._isJsPlumbGroup||v._jsPlumbGroup==null)&&o(this).select(u)},removeFromDragSelection:function(u){o(this).deselect(u)},getDragSelection:function(){return o(this).getSelection()},clearDragSelection:function(){o(this).deselectAll()},trigger:function(u,v,m,S){this.getEventManager().trigger(u,v,m,S)},doReset:function(){for(var u in this)u.indexOf("_katavorio_")===0&&this[u].reset()},getEventManager:function(){return s(this)},on:function(u,v,m){return this.getEventManager().on.apply(this,arguments),this},off:function(u,v,m){return this.getEventManager().off.apply(this,arguments),this}});var z=function(u){var v=function(){/complete|loaded|interactive/.test(document.readyState)&&typeof document.body<"u"&&document.body!=null?u():setTimeout(v,9)};v()};z(n.init)}).call(typeof window<"u"?window:zt)});var Xi=class{},co=class{},xn=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=n.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var As=class{encodeKey(n){return Yl(n)}encodeValue(n){return Yl(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Ld(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,c]=s==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],a=e.get(o)||[];a.push(c),e.set(o,a)}),e}var Vd=/%(\d[a-f0-9])/gi,Ud={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Yl(t){return encodeURIComponent(t).replace(Vd,(n,e)=>Ud[e]??n)}function lo(t){return`${t}`}var Vn=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new As,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ld(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(lo):[lo(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(lo(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(lo(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Ss=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Bd(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ql(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Xl(t){return typeof Blob<"u"&&t instanceof Blob}function Kl(t){return typeof FormData<"u"&&t instanceof FormData}function zd(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var qi=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let s;if(Bd(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xn,this.context??=new Ss,!this.params)this.params=new Vn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),a=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ql(this.body)||Xl(this.body)||Kl(this.body)||zd(this.body)?this.body:this.body instanceof Vn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kl(this.body)?null:Xl(this.body)?this.body.type||null:ql(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=n.transferCache??this.transferCache,o=n.body!==void 0?n.body:this.body,c=n.withCredentials??this.withCredentials,a=n.reportProgress??this.reportProgress,l=n.headers||this.headers,b=n.params||this.params,_=n.context??this.context;return n.setHeaders!==void 0&&(l=Object.keys(n.setHeaders).reduce((O,T)=>O.set(T,n.setHeaders[T]),l)),n.setParams&&(b=Object.keys(n.setParams).reduce((O,T)=>O.set(T,n.setParams[T]),b)),new t(e,i,o,{params:b,headers:l,context:_,reportProgress:a,responseType:r,withCredentials:c,transferCache:s})}},Un=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Un||{}),Ki=class{constructor(n,e=200,i="OK"){this.headers=n.headers||new xn,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},uo=class t extends Ki{constructor(n={}){super(n),this.type=Un.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Zi=class t extends Ki{constructor(n={}){super(n),this.type=Un.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ln=class extends Ki{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},ec=200,Hd=204;function Ds(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Qi=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof qi)s=e;else{let a;r.headers instanceof xn?a=r.headers:a=new xn(r.headers);let l;r.params&&(r.params instanceof Vn?l=r.params:l=new Vn({fromObject:r.params})),s=new qi(e,i,r.body!==void 0?r.body:null,{headers:a,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=At(s).pipe(qn(a=>this.handler.handle(a)));if(e instanceof qi||r.observe==="events")return o;let c=o.pipe(rn(a=>a instanceof Zi));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Tt(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(Tt(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(Tt(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return c.pipe(Tt(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Vn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Ds(r,i))}post(e,i,r={}){return this.request("POST",e,Ds(r,i))}put(e,i,r={}){return this.request("PUT",e,Ds(r,i))}static{this.\u0275fac=function(i){return new(i||t)(bt(Xi))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),Gd=/^\)\]\}',?\n/,$d="X-Request-URL";function Zl(t){if(t.url)return t.url;let n=$d.toLocaleLowerCase();return t.headers.get(n)}var Wd=(()=>{class t{constructor(){this.fetchImpl=vt(Is,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=vt(oe)}handle(e){return new Li(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(Ms,s=>i.error(new Ln({error:s}))),()=>r.abort()})}doRequest(e,i,r){return ns(this,null,function*(){let s=this.createRequestInit(e),o;try{let T=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,ft({signal:i},s)));Yd(T),r.next({type:Un.Sent}),o=yield T}catch(T){r.error(new Ln({error:T,status:T.status??0,statusText:T.statusText,url:e.urlWithParams,headers:T.headers}));return}let c=new xn(o.headers),a=o.statusText,l=Zl(o)??e.urlWithParams,b=o.status,_=null;if(e.reportProgress&&r.next(new uo({headers:c,status:b,statusText:a,url:l})),o.body){let T=o.headers.get("content-length"),U=[],P=o.body.getReader(),h=0,d,k,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ns(this,null,function*(){for(;;){let{done:z,value:u}=yield P.read();if(z)break;if(U.push(u),h+=u.length,e.reportProgress){k=e.responseType==="text"?(k??"")+(d??=new TextDecoder).decode(u,{stream:!0}):void 0;let v=()=>r.next({type:Un.DownloadProgress,total:T?+T:void 0,loaded:h,partialText:k});N?N.run(v):v()}}}));let $=this.concatChunks(U,h);try{let z=o.headers.get("Content-Type")??"";_=this.parseBody(e,$,z)}catch(z){r.error(new Ln({error:z,headers:new xn(o.headers),status:o.status,statusText:o.statusText,url:Zl(o)??e.urlWithParams}));return}}b===0&&(b=_?ec:0),b>=200&&b<300?(r.next(new Zi({body:_,headers:c,status:b,statusText:a,url:l})),r.complete()):r.error(new Ln({error:_,headers:c,status:b,statusText:a,url:l}))})}parseBody(e,i,r){switch(e.responseType){case"json":let s=new TextDecoder().decode(i).replace(Gd,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>i[s]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),s=0;for(let o of e)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),Is=class{};function Ms(){}function Yd(t){t.then(Ms,Ms)}function nc(t,n){return n(t)}function qd(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}function Xd(t,n,e){return(i,r)=>qe(e,()=>n(i,s=>t(s,r)))}var Kd=new Vt(""),Ts=new Vt(""),Zd=new Vt(""),ic=new Vt("",{providedIn:"root",factory:()=>!0});function Qd(){let t=null;return(n,e)=>{t===null&&(t=(vt(Kd,{optional:!0})??[]).reduceRight(qd,nc));let i=vt(Hi);if(vt(ic)){let s=i.add();return t(n,e).pipe(pn(()=>i.remove(s)))}else return t(n,e)}}var Ql=(()=>{class t extends Xi{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=vt(Hi),this.contributeToStability=vt(ic)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Ts),...this.injector.get(Zd,[])]));this.chain=i.reduceRight((r,s)=>Xd(r,s,this.injector),nc)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(pn(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||t)(bt(co),bt(di))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})();var Jd=/^\)\]\}',?\n/;function th(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Jl=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new qt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?De(i.\u0275loadImpl()):At(null)).pipe(Me(()=>new Li(s=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((P,h)=>o.setRequestHeader(P,h.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let P=e.detectContentTypeHeader();P!==null&&o.setRequestHeader("Content-Type",P)}if(e.responseType){let P=e.responseType.toLowerCase();o.responseType=P!=="json"?P:"text"}let c=e.serializeBody(),a=null,l=()=>{if(a!==null)return a;let P=o.statusText||"OK",h=new xn(o.getAllResponseHeaders()),d=th(o)||e.url;return a=new uo({headers:h,status:o.status,statusText:P,url:d}),a},b=()=>{let{headers:P,status:h,statusText:d,url:k}=l(),N=null;h!==Hd&&(N=typeof o.response>"u"?o.responseText:o.response),h===0&&(h=N?ec:0);let $=h>=200&&h<300;if(e.responseType==="json"&&typeof N=="string"){let z=N;N=N.replace(Jd,"");try{N=N!==""?JSON.parse(N):null}catch(u){N=z,$&&($=!1,N={error:u,text:N})}}$?(s.next(new Zi({body:N,headers:P,status:h,statusText:d,url:k||void 0})),s.complete()):s.error(new Ln({error:N,headers:P,status:h,statusText:d,url:k||void 0}))},_=P=>{let{url:h}=l(),d=new Ln({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:h||void 0});s.error(d)},O=!1,T=P=>{O||(s.next(l()),O=!0);let h={type:Un.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(h.total=P.total),e.responseType==="text"&&o.responseText&&(h.partialText=o.responseText),s.next(h)},U=P=>{let h={type:Un.UploadProgress,loaded:P.loaded};P.lengthComputable&&(h.total=P.total),s.next(h)};return o.addEventListener("load",b),o.addEventListener("error",_),o.addEventListener("timeout",_),o.addEventListener("abort",_),e.reportProgress&&(o.addEventListener("progress",T),c!==null&&o.upload&&o.upload.addEventListener("progress",U)),o.send(c),s.next({type:Un.Sent}),()=>{o.removeEventListener("error",_),o.removeEventListener("abort",_),o.removeEventListener("load",b),o.removeEventListener("timeout",_),e.reportProgress&&(o.removeEventListener("progress",T),c!==null&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(bt(ao))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),rc=new Vt(""),eh="XSRF-TOKEN",nh=new Vt("",{providedIn:"root",factory:()=>eh}),ih="X-XSRF-TOKEN",rh=new Vt("",{providedIn:"root",factory:()=>ih}),ho=class{},oh=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=io(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt),bt(gn),bt(nh))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})();function sh(t,n){let e=t.url.toLowerCase();if(!vt(rc)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=vt(ho).getToken(),r=vt(rh);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var oc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(oc||{});function ah(t,n){return{\u0275kind:t,\u0275providers:n}}function Os(...t){let n=[Qi,Jl,Ql,{provide:Xi,useExisting:Ql},{provide:co,useFactory:()=>vt(Wd,{optional:!0})??vt(Jl)},{provide:Ts,useValue:sh,multi:!0},{provide:rc,useValue:!0},{provide:ho,useClass:oh}];for(let e of t)n.push(...e.\u0275providers);return Xn(n)}var tc=new Vt("");function lh(){return ah(oc.LegacyInterceptors,[{provide:tc,useFactory:Qd},{provide:Ts,useExisting:tc,multi:!0}])}var sc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({providers:[Os(lh())]})}}return t})();var Fs=class extends Gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ns=class t extends Fs{static makeCurrent(){Hl(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=uh();return e==null?null:dh(e)}resetBaseElement(){Ji=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return io(document.cookie,n)}},Ji=null;function uh(){return Ji=Ji||document.querySelector("base"),Ji?Ji.getAttribute("href"):null}function dh(t){return new URL(t,document.baseURI).pathname}var hh=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),js=new Vt(""),uc=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new qt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(bt(js),bt(oe))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),fo=class{constructor(n){this._doc=n}},ks="ng-app-id",dc=(()=>{class t{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=so(s),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${ks}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(ks),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(ks,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt),bt(Wr),bt(Gi,8),bt(gn))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Us=/%COMP%/g,hc="%COMP%",fh=`_nghost-${hc}`,ph=`_ngcontent-${hc}`,mh=!0,gh=new Vt("",{providedIn:"root",factory:()=>mh});function vh(t){return ph.replace(Us,t)}function bh(t){return fh.replace(Us,t)}function fc(t,n){return n.map(e=>e.replace(Us,t))}var po=(()=>{class t{constructor(e,i,r,s,o,c,a,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=so(c),this.defaultRenderer=new tr(e,o,a,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zi.ShadowDom&&(i=le(ft({},i),{encapsulation:zi.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof mo?r.applyToHost(e):r instanceof er&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case zi.Emulated:s=new mo(a,l,i,this.appId,b,o,c,_);break;case zi.ShadowDom:return new Ls(a,l,e,i,o,c,this.nonce,_);default:s=new er(a,l,i,b,o,c,_);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(bt(uc),bt(dc),bt(Wr),bt(gh),bt(Wt),bt(gn),bt(oe),bt(Gi))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),tr=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Rs[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(lc(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(lc(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new qt(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let s=Rs[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Rs[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&($i.DashCase|$i.Important)?n.style.setProperty(e,i,r&$i.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&$i.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=vs().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function lc(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ls=class extends tr{constructor(n,e,i,r,s,o,c,a){super(n,s,o,a),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fc(r.id,r.styles);for(let b of l){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=b,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},er=class extends tr{constructor(n,e,i,r,s,o,c,a){super(n,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=a?fc(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mo=class extends er{constructor(n,e,i,r,s,o,c,a){let l=r+"-"+i.id;super(n,e,i,s,o,c,a,l),this.contentAttr=vh(l),this.hostAttr=bh(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},yh=(()=>{class t extends fo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),cc=["alt","control","meta","shift"],_h={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ch={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xh=(()=>{class t extends fo{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vs().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=t._normalizeKey(i.pop()),o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),cc.forEach(l=>{let b=i.indexOf(l);b>-1&&(i.splice(b,1),o+=l+".")}),o+=s,i.length!=0||s.length===0)return null;let a={};return a.domEventName=r,a.fullKey=o,a}static matchEventFullKeyCode(e,i){let r=_h[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),cc.forEach(o=>{if(o!==r){let c=Ch[o];c(e)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})();function pc(t,n){return Ul(ft({rootComponent:t},Eh(n)))}function Eh(t){return{appProviders:[...Ih,...t?.providers??[]],platformProviders:Sh}}function wh(){Ns.makeCurrent()}function Dh(){return new Kn}function Ah(){return xl(document),document}var Sh=[{provide:gn,useValue:$l},{provide:El,useValue:wh,multi:!0},{provide:Wt,useFactory:Ah,deps:[]}];var Ih=[{provide:Cl,useValue:"root"},{provide:Kn,useFactory:Dh,deps:[]},{provide:js,useClass:yh,multi:!0,deps:[Wt,oe,gn]},{provide:js,useClass:xh,multi:!0,deps:[Wt]},po,dc,uc,{provide:Xr,useExisting:po},{provide:ao,useClass:hh,deps:[]},[]];var mc=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bs=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=bt(Mh),r},providedIn:"root"})}}return t})(),Mh=(()=>{class t extends Bs{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Fe.NONE:return i;case Fe.HTML:return pi(i,"HTML")?fi(i):Pl(this._doc,String(i)).toString();case Fe.STYLE:return pi(i,"Style")?fi(i):i;case Fe.SCRIPT:if(pi(i,"Script"))return fi(i);throw new qt(5200,!1);case Fe.URL:return pi(i,"URL")?fi(i):Ml(String(i));case Fe.RESOURCE_URL:if(pi(i,"ResourceURL"))return fi(i);throw new qt(5201,!1);default:throw new qt(5202,!1)}}bypassSecurityTrustHtml(e){return wl(e)}bypassSecurityTrustStyle(e){return Dl(e)}bypassSecurityTrustScript(e){return Al(e)}bypassSecurityTrustUrl(e){return Sl(e)}bypassSecurityTrustResourceUrl(e){return Il(e)}static{this.\u0275fac=function(i){return new(i||t)(bt(Wt))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Rt="primary",br=Symbol("RouteTitle"),Ws=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function wi(t){return new Ws(t)}function Th(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],c=t[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Oh(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!sn(t[e],n[e]))return!1;return!0}function sn(t,n){let e=t?Ys(t):void 0,i=n?Ys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!wc(t[r],n[r]))return!1;return!0}function Ys(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wc(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,s)=>i[s]===r)}else return t===n}function Dc(t){return t.length>0?t[t.length-1]:null}function Bn(t){return os(t)?t:to(t)?De(Promise.resolve(t)):At(t)}var kh={exact:Sc,subset:Ic},Ac={exact:Rh,subset:Fh,ignored:()=>!0};function vc(t,n,e){return kh[e.paths](t.root,n.root,e.matrixParams)&&Ac[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function Rh(t,n){return sn(t,n)}function Sc(t,n,e){if(!ni(t.segments,n.segments)||!bo(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!Sc(t.children[i],n.children[i],e))return!1;return!0}function Fh(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>wc(t[e],n[e]))}function Ic(t,n,e){return Mc(t,n,n.segments,e)}function Mc(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!ni(r,e)||n.hasChildren()||!bo(r,e,i))}else if(t.segments.length===e.length){if(!ni(t.segments,e)||!bo(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!Ic(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!ni(t.segments,r)||!bo(t.segments,r,i)||!t.children[Rt]?!1:Mc(t.children[Rt],n,s,i)}}function bo(t,n,e){return n.every((i,r)=>Ac[e](t[r].parameters,i.parameters))}var wn=class{constructor(n=new Gt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return Lh.serialize(this)}},Gt=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yo(this)}},ei=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return Tc(this)}};function Nh(t,n){return ni(t,n)&&t.every((e,i)=>sn(e.parameters,n[i].parameters))}function ni(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function jh(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===Rt&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Rt&&(e=e.concat(n(r,i)))}),e}var ya=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:()=>new lr,providedIn:"root"})}}return t})(),lr=class{parse(n){let e=new Xs(n);return new wn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${nr(n.root,!0)}`,i=Bh(n.queryParams),r=typeof n.fragment=="string"?`#${Vh(n.fragment)}`:"";return`${e}${i}${r}`}},Lh=new lr;function yo(t){return t.segments.map(n=>Tc(n)).join("/")}function nr(t,n){if(!t.hasChildren())return yo(t);if(n){let e=t.children[Rt]?nr(t.children[Rt],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Rt&&i.push(`${r}:${nr(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=jh(t,(i,r)=>r===Rt?[nr(t.children[Rt],!1)]:[`${r}:${nr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Rt]!=null?`${yo(t)}/${e[0]}`:`${yo(t)}/(${e.join("//")})`}}function Pc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function go(t){return Pc(t).replace(/%3B/gi,";")}function Vh(t){return encodeURI(t)}function qs(t){return Pc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _o(t){return decodeURIComponent(t)}function bc(t){return _o(t.replace(/\+/g,"%20"))}function Tc(t){return`${qs(t.path)}${Uh(t.parameters)}`}function Uh(t){return Object.entries(t).map(([n,e])=>`;${qs(n)}=${qs(e)}`).join("")}function Bh(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${go(e)}=${go(r)}`).join("&"):`${go(e)}=${go(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var zh=/^[^\/()?;#]+/;function zs(t){let n=t.match(zh);return n?n[0]:""}var Hh=/^[^\/()?;=#]+/;function Gh(t){let n=t.match(Hh);return n?n[0]:""}var $h=/^[^=?&#]+/;function Wh(t){let n=t.match($h);return n?n[0]:""}var Yh=/^[^&#]+/;function qh(t){let n=t.match(Yh);return n?n[0]:""}var Xs=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Rt]=new Gt(n,e)),i}parseSegment(){let n=zs(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new qt(4009,!1);return this.capture(n),new ei(_o(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=Gh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=zs(this.remaining);r&&(i=r,this.capture(i))}n[_o(e)]=_o(i)}parseQueryParam(n){let e=Wh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=qh(this.remaining);o&&(i=o,this.capture(i))}let r=bc(e),s=bc(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=zs(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new qt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Rt);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[Rt]:new Gt([],o),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new qt(4011,!1)}};function Oc(t){return t.segments.length>0?new Gt([],{[Rt]:t}):t}function kc(t){let n={};for(let[i,r]of Object.entries(t.children)){let s=kc(r);if(i===Rt&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))n[o]=c;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}let e=new Gt(t.segments,n);return Xh(e)}function Xh(t){if(t.numberOfChildren===1&&t.children[Rt]){let n=t.children[Rt];return new Gt(t.segments.concat(n.segments),n.children)}return t}function cr(t){return t instanceof wn}function Kh(t,n,e=null,i=null){let r=Rc(t);return Fc(r,n,e,i)}function Rc(t){let n;function e(s){let o={};for(let a of s.children){let l=e(a);o[a.outlet]=l}let c=new Gt(s.url,o);return s===t&&(n=c),c}let i=e(t.root),r=Oc(i);return n??r}function Fc(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Hs(r,r,r,e,i);let s=Zh(n);if(s.toRoot())return Hs(r,r,new Gt([],{}),e,i);let o=Qh(s,r,t),c=o.processChildren?or(o.segmentGroup,o.index,s.commands):jc(o.segmentGroup,o.index,s.commands);return Hs(r,o.segmentGroup,c,e,i)}function Co(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ur(t){return typeof t=="object"&&t!=null&&t.outlets}function Hs(t,n,e,i,r){let s={};i&&Object.entries(i).forEach(([a,l])=>{s[a]=Array.isArray(l)?l.map(b=>`${b}`):`${l}`});let o;t===n?o=e:o=Nc(t,n,e);let c=Oc(kc(o));return new wn(c,s,r)}function Nc(t,n,e){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===n?i[r]=e:i[r]=Nc(s,n,e)}),new Gt(t.segments,i)}var xo=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Co(i[0]))throw new qt(4003,!1);let r=i.find(ur);if(r&&r!==Dc(i))throw new qt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Zh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xo(!0,0,t);let n=0,e=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?e=!0:c===".."?n++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new xo(e,n,i)}var Ci=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function Qh(t,n,e){if(t.isAbsolute)return new Ci(n,!0,0);if(!e)return new Ci(n,!1,NaN);if(e.parent===null)return new Ci(e,!0,0);let i=Co(t.commands[0])?0:1,r=e.segments.length-1+i;return Jh(e,r,t.numberOfDoubleDots)}function Jh(t,n,e){let i=t,r=n,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new qt(4005,!1);r=i.segments.length}return new Ci(i,!1,r-s)}function tf(t){return ur(t[0])?t[0].outlets:{[Rt]:t}}function jc(t,n,e){if(t??=new Gt([],{}),t.segments.length===0&&t.hasChildren())return or(t,n,e);let i=ef(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Gt(t.segments.slice(0,i.pathIndex),{});return s.children[Rt]=new Gt(t.segments.slice(i.pathIndex),t.children),or(s,0,r)}else return i.match&&r.length===0?new Gt(t.segments,{}):i.match&&!t.hasChildren()?Ks(t,n,e):i.match?or(t,0,r):Ks(t,n,e)}function or(t,n,e){if(e.length===0)return new Gt(t.segments,{});{let i=tf(e),r={};if(Object.keys(i).some(s=>s!==Rt)&&t.children[Rt]&&t.numberOfChildren===1&&t.children[Rt].segments.length===0){let s=or(t.children[Rt],n,e);return new Gt(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=jc(t.children[s],n,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Gt(t.segments,r)}}function ef(t,n,e){let i=0,r=n,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return s;let o=t.segments[r],c=e[i];if(ur(c))break;let a=`${c}`,l=i<e.length-1?e[i+1]:null;if(r>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!_c(a,l,o))return s;i+=2}else{if(!_c(a,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Ks(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let s=e[r];if(ur(s)){let a=nf(s.outlets);return new Gt(i,a)}if(r===0&&Co(e[0])){let a=t.segments[n];i.push(new ei(a.path,yc(e[0]))),r++;continue}let o=ur(s)?s.outlets[Rt]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&Co(c)?(i.push(new ei(o,yc(c))),r+=2):(i.push(new ei(o,{})),r++)}return new Gt(i,{})}function nf(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=Ks(new Gt([],{}),0,i))}),n}function yc(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function _c(t,n,e){return t==e.path&&sn(n,e.parameters)}var sr="imperative",ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{}),Ge=class{constructor(n,e){this.id=n,this.url=e}},dr=class extends Ge{constructor(n,e,i="imperative",r=null){super(n,e),this.type=ge.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ii=class extends Ge{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},je=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(je||{}),Zs=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zs||{}),En=class extends Ge{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ri=class extends Ge{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=ge.NavigationSkipped}},hr=class extends Ge{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Eo=class extends Ge{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qs=class extends Ge{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Js=class extends Ge{constructor(n,e,i,r,s){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ta=class extends Ge{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ea=class extends Ge{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},na=class{constructor(n){this.route=n,this.type=ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ia=class{constructor(n){this.route=n,this.type=ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ra=class{constructor(n){this.snapshot=n,this.type=ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oa=class{constructor(n){this.snapshot=n,this.type=ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sa=class{constructor(n){this.snapshot=n,this.type=ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{constructor(n){this.snapshot=n,this.type=ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fr=class{},Di=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function rf(t,n){return t.providers&&!t._injector&&(t._injector=Nl(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Qe(t){return t.outlet||Rt}function of(t,n){let e=t.filter(i=>Qe(i)===n);return e.push(...t.filter(i=>Qe(i)!==n)),e}function yr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var la=class{get injector(){return yr(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Po(this.rootInjector),this.attachRef=null}},Po=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new la(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)(bt(di))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wo=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=ca(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=ca(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=ua(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return ua(n,this._root).map(e=>e.value)}};function ca(t,n){if(t===n.value)return n;for(let e of n.children){let i=ca(t,e);if(i)return i}return null}function ua(t,n){if(t===n.value)return[n];for(let e of n.children){let i=ua(t,e);if(i.length)return i.unshift(n),i}return[]}var Ne=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function _i(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Do=class extends wo{constructor(n,e){super(n),this.snapshot=e,_a(this,n)}toString(){return this.snapshot.toString()}};function Lc(t){let n=sf(t),e=new Ie([new ei("",{})]),i=new Ie({}),r=new Ie({}),s=new Ie({}),o=new Ie(""),c=new Ai(e,i,s,o,r,Rt,t,n.root);return c.snapshot=n.root,new Do(new Ne(c,[]),n)}function sf(t){let n={},e={},i={},r="",s=new xi([],n,i,r,e,Rt,t,null,{});return new So("",new Ne(s,[]))}var Ai=class{constructor(n,e,i,r,s,o,c,a){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(Tt(l=>l[br]))??At(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(n=>wi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(n=>wi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ao(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:ft(ft({},n.params),t.params),data:ft(ft({},n.data),t.data),resolve:ft(ft(ft(ft({},t.data),n.data),r?.data),t._resolvedData)}:i={params:ft({},t.params),data:ft({},t.data),resolve:ft(ft({},t.data),t._resolvedData??{})},r&&Uc(r)&&(i.resolve[br]=r.title),i}var xi=class{get title(){return this.data?.[br]}constructor(n,e,i,r,s,o,c,a,l){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},So=class extends wo{constructor(n,e){super(e),this.url=n,_a(this,e)}toString(){return Vc(this._root)}};function _a(t,n){n.value._routerState=t,n.children.forEach(e=>_a(t,e))}function Vc(t){let n=t.children.length>0?` { ${t.children.map(Vc).join(", ")} } `:"";return`${t.value}${n}`}function Gs(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,sn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),sn(n.params,e.params)||t.paramsSubject.next(e.params),Oh(n.url,e.url)||t.urlSubject.next(e.url),sn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function da(t,n){let e=sn(t.params,n.params)&&Nh(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||da(t.parent,n.parent))}function Uc(t){return typeof t.title=="string"||t.title===null}var af=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new ee,this.deactivateEvents=new ee,this.attachEvents=new ee,this.detachEvents=new ee,this.parentContexts=vt(Po),this.location=vt(mi),this.changeDetector=vt(ze),this.inputBinder=vt(Ca,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new qt(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new ha(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:a,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]})}}return t})(),ha=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Ai?this.route:n===Po?this.childContexts:this.parent.get(n,e)}},Ca=new Vt("");function lf(t,n,e){let i=pr(t,n._root,e?e._root:void 0);return new Do(i,n)}function pr(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=cf(t,n,e);return new Ne(i,r)}else{if(t.shouldAttach(n.value)){let s=t.retrieve(n.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(c=>pr(t,c)),o}}let i=uf(n.value),r=n.children.map(s=>pr(t,s));return new Ne(i,r)}}function cf(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return pr(t,i,r);return pr(t,i)})}function uf(t){return new Ai(new Ie(t.url),new Ie(t.params),new Ie(t.queryParams),new Ie(t.fragment),new Ie(t.data),t.outlet,t.component,t)}var mr=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Bc="ngNavigationCancelingError";function Io(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=cr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=zc(!1,je.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function zc(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Bc]=!0,e.cancellationCode=n,e}function df(t){return Hc(t)&&cr(t.url)}function Hc(t){return!!t&&t[Bc]}var hf=(t,n,e,i)=>Tt(r=>(new fa(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),fa=class{constructor(n,e,i,r,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Gs(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=_i(e);n.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){let r=n.value,s=e?e.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,e,o.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=_i(n);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:c})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=_i(n);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=_i(e);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new aa(s.value.snapshot))}),n.children.length&&this.forwardEvent(new oa(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,s=e?e.value:null;if(Gs(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,o.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Gs(c.route.value),this.activateChildRoutes(n,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}else this.activateChildRoutes(n,null,i)}},Mo=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Ei=class{constructor(n,e){this.component=n,this.route=e}};function ff(t,n,e){let i=t._root,r=n?n._root:null;return ir(i,r,e,[i.value])}function pf(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Ii(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!_l(t)?t:n.get(t):i}function ir(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=_i(n);return t.children.forEach(o=>{mf(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ar(c,e.getContext(o),r)),r}function mf(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=n?n.value:null,c=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=gf(o,s,s.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new Mo(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ir(t,n,c?c.children:null,i,r):ir(t,n,e,i,r),a&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Ei(c.outlet.component,o))}else o&&ar(n,c,r),r.canActivateChecks.push(new Mo(i)),s.component?ir(t,null,c?c.children:null,i,r):ir(t,null,e,i,r);return r}function gf(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!ni(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ni(t.url,n.url)||!sn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!da(t,n)||!sn(t.queryParams,n.queryParams);case"paramsChange":default:return!da(t,n)}}function ar(t,n,e){let i=_i(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?n?ar(o,n.children.getContext(s),e):ar(o,null,e):ar(o,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Ei(n.outlet.component,r)):e.canDeactivateChecks.push(new Ei(null,r)):e.canDeactivateChecks.push(new Ei(null,r))}function _r(t){return typeof t=="function"}function vf(t){return typeof t=="boolean"}function bf(t){return t&&_r(t.canLoad)}function yf(t){return t&&_r(t.canActivate)}function _f(t){return t&&_r(t.canActivateChild)}function Cf(t){return t&&_r(t.canDeactivate)}function xf(t){return t&&_r(t.canMatch)}function Gc(t){return t instanceof pl||t?.name==="EmptyError"}var vo=Symbol("INITIAL_VALUE");function Si(){return Me(t=>Vi(t.map(n=>n.pipe(Ye(1),on(vo)))).pipe(Tt(n=>{for(let e of n)if(e!==!0){if(e===vo)return vo;if(e===!1||Ef(e))return e}return!0}),rn(n=>n!==vo),Ye(1)))}function Ef(t){return cr(t)||t instanceof mr}function wf(t,n){return Ve(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?At(le(ft({},e),{guardsResult:!0})):Df(o,i,r,t).pipe(Ve(c=>c&&vf(c)?Af(i,s,t,n):At(c)),Tt(c=>le(ft({},e),{guardsResult:c})))})}function Df(t,n,e,i){return De(t).pipe(Ve(r=>Tf(r.component,r.route,e,n,i)),Rn(r=>r!==!0,!0))}function Af(t,n,e,i){return De(n).pipe(qn(r=>Ur(If(r.route.parent,i),Sf(r.route,i),Pf(t,r.path,e),Mf(t,r.route,e))),Rn(r=>r!==!0,!0))}function Sf(t,n){return t!==null&&n&&n(new sa(t)),At(!0)}function If(t,n){return t!==null&&n&&n(new ra(t)),At(!0)}function Mf(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return At(!0);let r=i.map(s=>ss(()=>{let o=yr(n)??e,c=Ii(s,o),a=yf(c)?c.canActivate(n,t):qe(o,()=>c(n,t));return Bn(a).pipe(Rn())}));return At(r).pipe(Si())}function Pf(t,n,e){let i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>pf(o)).filter(o=>o!==null).map(o=>ss(()=>{let c=o.guards.map(a=>{let l=yr(o.node)??e,b=Ii(a,l),_=_f(b)?b.canActivateChild(i,t):qe(l,()=>b(i,t));return Bn(_).pipe(Rn())});return At(c).pipe(Si())}));return At(s).pipe(Si())}function Tf(t,n,e,i,r){let s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!s||s.length===0)return At(!0);let o=s.map(c=>{let a=yr(n)??r,l=Ii(c,a),b=Cf(l)?l.canDeactivate(t,n,e,i):qe(a,()=>l(t,n,e,i));return Bn(b).pipe(Rn())});return At(o).pipe(Si())}function Of(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return At(!0);let s=r.map(o=>{let c=Ii(o,t),a=bf(c)?c.canLoad(n,e):qe(t,()=>c(n,e));return Bn(a)});return At(s).pipe(Si(),$c(i))}function $c(t){return fl(Kt(n=>{if(typeof n!="boolean")throw Io(t,n)}),Tt(n=>n===!0))}function kf(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return At(!0);let s=r.map(o=>{let c=Ii(o,t),a=xf(c)?c.canMatch(n,e):qe(t,()=>c(n,e));return Bn(a)});return At(s).pipe(Si(),$c(i))}var gr=class{constructor(n){this.segmentGroup=n||null}},vr=class extends Error{constructor(n){super(),this.urlTree=n}};function yi(t){return Yn(new gr(t))}function Rf(t){return Yn(new qt(4e3,!1))}function Ff(t){return Yn(zc(!1,je.GuardRejected))}var pa=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return At(i);if(r.numberOfChildren>1||!r.children[Rt])return Rf(`${n.redirectTo}`);r=r.children[Rt]}}applyRedirectCommands(n,e,i,r,s){if(typeof e!="string"){let c=e,{queryParams:a,fragment:l,routeConfig:b,url:_,outlet:O,params:T,data:U,title:P}=r,h=qe(s,()=>c({params:T,data:U,queryParams:a,fragment:l,routeConfig:b,url:_,outlet:O,title:P}));if(h instanceof wn)throw new vr(h);e=h}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new vr(o);return o}applyRedirectCreateUrlTree(n,e,i,r){let s=this.createSegmentGroup(n,e.root,i,r);return new wn(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(n,e,i,r){let s=this.createSegments(n,e.segments,i,r),o={};return Object.entries(e.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(n,a,i,r)}),new Gt(s,o)}createSegments(n,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new qt(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nf(t,n,e,i,r){let s=Wc(t,n,e);return s.matched?(i=rf(n,i),kf(i,n,e,r).pipe(Tt(o=>o===!0?s:ft({},ma)))):At(s)}function Wc(t,n,e){if(n.path==="**")return jf(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?ft({},ma):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||Th)(e,t,n);if(!r)return ft({},ma);let s={};Object.entries(r.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=r.consumed.length>0?ft(ft({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function jf(t){return{matched:!0,parameters:t.length>0?Dc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Cc(t,n,e,i){return e.length>0&&Uf(t,e,i)?{segmentGroup:new Gt(n,Vf(i,new Gt(e,t.children))),slicedSegments:[]}:e.length===0&&Bf(t,e,i)?{segmentGroup:new Gt(t.segments,Lf(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Gt(t.segments,t.children),slicedSegments:e}}function Lf(t,n,e,i){let r={};for(let s of e)if(To(t,n,s)&&!i[Qe(s)]){let o=new Gt([],{});r[Qe(s)]=o}return ft(ft({},i),r)}function Vf(t,n){let e={};e[Rt]=n;for(let i of t)if(i.path===""&&Qe(i)!==Rt){let r=new Gt([],{});e[Qe(i)]=r}return e}function Uf(t,n,e){return e.some(i=>To(t,n,i)&&Qe(i)!==Rt)}function Bf(t,n,e){return e.some(i=>To(t,n,i))}function To(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function zf(t,n,e){return n.length===0&&!t.children[e]}var ga=class{};function Hf(t,n,e,i,r,s,o="emptyOnly"){return new va(t,n,e,i,r,o,s).recognize()}var Gf=31,va=class{constructor(n,e,i,r,s,o,c){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new pa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new qt(4002,`'${n.segmentGroup}'`)}recognize(){let n=Cc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Tt(({children:e,rootSnapshot:i})=>{let r=new Ne(i,e),s=new So("",r),o=Kh(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(n){let e=new xi([],Object.freeze({}),Object.freeze(ft({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Rt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Rt,e).pipe(Tt(i=>({children:i,rootSnapshot:e})),kn(i=>{if(i instanceof vr)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof gr?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,s):this.processSegment(n,e,i,i.segments,r,!0,s).pipe(Tt(o=>o instanceof Ne?[o]:[]))}processChildren(n,e,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return De(s).pipe(qn(o=>{let c=i.children[o],a=of(e,o);return this.processSegmentGroup(n,a,c,o,r)}),bl((o,c)=>(o.push(...c),o)),as(null),vl(),Ve(o=>{if(o===null)return yi(i);let c=Yc(o);return $f(c),At(c)}))}processSegment(n,e,i,r,s,o,c){return De(e).pipe(qn(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,s,o,c).pipe(kn(l=>{if(l instanceof gr)return At(null);throw l}))),Rn(a=>!!a),kn(a=>{if(Gc(a))return zf(i,r,s)?At(new ga):yi(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,s,o,c,a){return Qe(i)!==o&&(o===Rt||!To(r,s,i))?yi(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,s,o,a):yi(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o,c){let{matched:a,parameters:l,consumedSegments:b,positionalParamSegments:_,remainingSegments:O}=Wc(e,r,s);if(!a)return yi(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Gf&&(this.allowRedirects=!1));let T=new xi(s,l,Object.freeze(ft({},this.urlTree.queryParams)),this.urlTree.fragment,xc(r),Qe(r),r.component??r._loadedComponent??null,r,Ec(r)),U=Ao(T,c,this.paramsInheritanceStrategy);T.params=Object.freeze(U.params),T.data=Object.freeze(U.data);let P=this.applyRedirects.applyRedirectCommands(b,r.redirectTo,_,T,n);return this.applyRedirects.lineralizeSegments(r,P).pipe(Ve(h=>this.processSegment(n,i,e,h.concat(O),o,!1,c)))}matchSegmentAgainstRoute(n,e,i,r,s,o){let c=Nf(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),c.pipe(Me(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Me(({routes:l})=>{let b=i._loadedInjector??n,{parameters:_,consumedSegments:O,remainingSegments:T}=a,U=new xi(O,_,Object.freeze(ft({},this.urlTree.queryParams)),this.urlTree.fragment,xc(i),Qe(i),i.component??i._loadedComponent??null,i,Ec(i)),P=Ao(U,o,this.paramsInheritanceStrategy);U.params=Object.freeze(P.params),U.data=Object.freeze(P.data);let{segmentGroup:h,slicedSegments:d}=Cc(e,O,T,l);if(d.length===0&&h.hasChildren())return this.processChildren(b,l,h,U).pipe(Tt(N=>new Ne(U,N)));if(l.length===0&&d.length===0)return At(new Ne(U,[]));let k=Qe(i)===s;return this.processSegment(b,l,h,d,k?Rt:s,!0,U).pipe(Tt(N=>new Ne(U,N instanceof Ne?[N]:[])))}))):yi(e)))}getChildConfig(n,e,i){return e.children?At({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?At({routes:e._loadedRoutes,injector:e._loadedInjector}):Of(n,e,i,this.urlSerializer).pipe(Ve(r=>r?this.configLoader.loadChildren(n,e).pipe(Kt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Ff(e))):At({routes:[],injector:n})}};function $f(t){t.sort((n,e)=>n.value.outlet===Rt?-1:e.value.outlet===Rt?1:n.value.outlet.localeCompare(e.value.outlet))}function Wf(t){let n=t.value.routeConfig;return n&&n.path===""}function Yc(t){let n=[],e=new Set;for(let i of t){if(!Wf(i)){n.push(i);continue}let r=n.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=Yc(i.children);n.push(new Ne(i.value,r))}return n.filter(i=>!e.has(i))}function xc(t){return t.data||{}}function Ec(t){return t.resolve||{}}function Yf(t,n,e,i,r,s){return Ve(o=>Hf(t,n,e,i,o.extractedUrl,r,s).pipe(Tt(({state:c,tree:a})=>le(ft({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function qf(t,n){return Ve(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return At(e);let s=new Set(r.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let l of qc(a))o.add(l);let c=0;return De(o).pipe(qn(a=>s.has(a)?Xf(a,i,t,n):(a.data=Ao(a,a.parent,t).resolve,At(void 0))),Kt(()=>c++),ls(1),Ve(a=>c===o.size?At(e):On))})}function qc(t){let n=t.children.map(e=>qc(e)).flat();return[t,...n]}function Xf(t,n,e,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Uc(r)&&(s[br]=r.title),Kf(s,t,n,i).pipe(Tt(o=>(t._resolvedData=o,t.data=Ao(t,t.parent,e).resolve,null)))}function Kf(t,n,e,i){let r=Ys(t);if(r.length===0)return At({});let s={};return De(r).pipe(Ve(o=>Zf(t[o],n,e,i).pipe(Rn(),Kt(c=>{if(c instanceof mr)throw Io(new lr,c);s[o]=c}))),ls(1),ml(s),kn(o=>Gc(o)?On:Yn(o)))}function Zf(t,n,e,i){let r=yr(n)??i,s=Ii(t,r),o=s.resolve?s.resolve(n,e):qe(r,()=>s(n,e));return Bn(o)}function $s(t){return Me(n=>{let e=t(n);return e?De(e).pipe(Tt(()=>n)):At(n)})}var Xc=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Rt);return i}getResolvedTitleForRoute(e){return e.data[br]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:()=>vt(Qf),providedIn:"root"})}}return t})(),Qf=(()=>{class t extends Xc{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(bt(mc))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xa=new Vt("",{providedIn:"root",factory:()=>({})}),Jf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ce({type:t,selectors:[["ng-component"]],standalone:!0,features:[he],decls:1,vars:0,template:function(i,r){i&1&&se(0,"router-outlet")},dependencies:[af],encapsulation:2})}}return t})();function Ea(t){let n=t.children&&t.children.map(Ea),e=n?le(ft({},t),{children:n}):ft({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=Jf),e}var wa=new Vt(""),tp=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=vt(gs)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return At(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Bn(e.loadComponent()).pipe(Tt(Kc),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),pn(()=>{this.componentLoaders.delete(e)})),r=new rs(i,()=>new Zt).pipe(is());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return At({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ep(i,this.compiler,e,this.onLoadEndListener).pipe(pn(()=>{this.childrenLoaders.delete(i)})),o=new rs(s,()=>new Zt).pipe(is());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ep(t,n,e,i){return Bn(t.loadChildren()).pipe(Tt(Kc),Ve(r=>r instanceof Fl||Array.isArray(r)?At(r):De(n.compileModuleAsync(r))),Tt(r=>{i&&i(t);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(e).injector,o=s.get(wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ea),injector:s}}))}function np(t){return t&&typeof t=="object"&&"default"in t}function Kc(t){return np(t)?t.default:t}var Da=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:()=>vt(ip),providedIn:"root"})}}return t})(),ip=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rp=new Vt("");var op=new Vt(""),sp=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zt,this.transitionAbortSubject=new Zt,this.configLoader=vt(tp),this.environmentInjector=vt(di),this.urlSerializer=vt(ya),this.rootContexts=vt(Po),this.location=vt(no),this.inputBindingEnabled=vt(Ca,{optional:!0})!==null,this.titleStrategy=vt(Xc),this.options=vt(xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=vt(Da),this.createViewTransition=vt(rp,{optional:!0}),this.navigationErrorHandler=vt(op,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>At(void 0),this.rootComponentType=null;let e=r=>this.events.next(new na(r)),i=r=>this.events.next(new ia(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(le(ft(ft({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sr,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rn(s=>s.id!==0),Tt(s=>le(ft({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Me(s=>{let o=!1,c=!1;return At(s).pipe(Me(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",je.SupersededByNewNavigation),On;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?le(ft({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&b!=="reload"){let _="";return this.events.next(new ri(a.id,this.urlSerializer.serialize(a.rawUrl),_,Zs.IgnoredSameUrlNavigation)),a.resolve(!1),On}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return At(a).pipe(Me(_=>{let O=this.transitions?.getValue();return this.events.next(new dr(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),O!==this.transitions?.getValue()?On:Promise.resolve(_)}),Yf(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=le(ft({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let O=new Eo(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(O)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:_,extractedUrl:O,source:T,restoredState:U,extras:P}=a,h=new dr(_,this.urlSerializer.serialize(O),T,U);this.events.next(h);let d=Lc(this.rootComponentType).snapshot;return this.currentTransition=s=le(ft({},a),{targetSnapshot:d,urlAfterRedirects:O,extras:le(ft({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=O,At(s)}else{let _="";return this.events.next(new ri(a.id,this.urlSerializer.serialize(a.extractedUrl),_,Zs.IgnoredByUrlHandlingStrategy)),a.resolve(!1),On}}),Kt(a=>{let l=new Qs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Tt(a=>(this.currentTransition=s=le(ft({},a),{guards:ff(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),wf(this.environmentInjector,a=>this.events.next(a)),Kt(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Io(this.urlSerializer,a.guardsResult);let l=new Js(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),rn(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",je.GuardRejected),!1)),$s(a=>{if(a.guards.canActivateChecks.length)return At(a).pipe(Kt(l=>{let b=new ta(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(b)}),Me(l=>{let b=!1;return At(l).pipe(qf(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(l,"",je.NoDataFromResolver)}}))}),Kt(l=>{let b=new ea(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(b)}))}),$s(a=>{let l=b=>{let _=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(b.routeConfig).pipe(Kt(O=>{b.component=O}),Tt(()=>{})));for(let O of b.children)_.push(...l(O));return _};return Vi(l(a.targetSnapshot.root)).pipe(as(null),Ye(1))}),$s(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:a,targetSnapshot:l}=s,b=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return b?De(b).pipe(Tt(()=>s)):At(s)}),Tt(a=>{let l=lf(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=le(ft({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Kt(()=>{this.events.next(new fr)}),hf(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ye(1),Kt({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ii(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Re(this.transitionAbortSubject.pipe(Kt(a=>{throw a}))),pn(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",je.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(a=>{if(c=!0,Hc(a))this.events.next(new En(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),df(a)?this.events.next(new Di(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let l=new hr(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let b=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(b instanceof mr){let{message:_,cancellationCode:O}=Io(this.urlSerializer,b);this.events.next(new En(s.id,this.urlSerializer.serialize(s.extractedUrl),_,O)),this.events.next(new Di(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(l);let _=e.errorHandler(a);s.resolve(!!_)}}catch(b){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(b)}}return On}))}))}cancelNavigationTransition(e,i,r){let s=new En(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ap(t){return t!==sr}var lp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:()=>vt(cp),providedIn:"root"})}}return t})(),ba=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},cp=(()=>{class t extends ba{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=hi(t)))(r||t)}})()}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:()=>vt(up),providedIn:"root"})}}return t})(),up=(()=>{class t extends Zc{constructor(){super(...arguments),this.location=vt(no),this.urlSerializer=vt(ya),this.options=vt(xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=vt(Da),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof dr)this.stateMemento=this.createStateMemento();else if(e instanceof ri)this.rawUrlTree=i.initialUrl;else if(e instanceof Eo){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof fr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof En&&(e.code===je.GuardRejected||e.code===je.NoDataFromResolver)?this.restoreHistory(i):e instanceof hr?this.restoreHistory(i,!0):e instanceof ii&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof wn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=ft(ft({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=ft(ft({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=hi(t)))(r||t)}})()}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rr||{});function dp(t,n){t.events.pipe(rn(e=>e instanceof ii||e instanceof En||e instanceof hr||e instanceof ri),Tt(e=>e instanceof ii||e instanceof ri?rr.COMPLETE:(e instanceof En?e.code===je.Redirect||e.code===je.SupersededByNewNavigation:!1)?rr.REDIRECTING:rr.FAILED),rn(e=>e!==rr.REDIRECTING),Ye(1)).subscribe(()=>{n()})}function hp(t){throw t}var fp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=vt(Jr),this.stateManager=vt(Zc),this.options=vt(xa,{optional:!0})||{},this.pendingTasks=vt(Hi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=vt(sp),this.urlSerializer=vt(ya),this.location=vt(no),this.urlHandlingStrategy=vt(Da),this._events=new Zt,this.errorHandler=this.options.errorHandler||hp,this.navigated=!1,this.routeReuseStrategy=vt(lp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=vt(wa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!vt(Ca,{optional:!0}),this.eventsSubscription=new Tn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof En&&i.code!==je.Redirect&&i.code!==je.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ii)this.navigated=!0;else if(i instanceof Di){let o=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a=ft({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ap(r.source)},o);this.scheduleNavigation(c,sr,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}gp(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let a=ft({},r);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ea),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=i,l=a?this.currentUrlTree.fragment:o,b=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":b=ft(ft({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}b!==null&&(b=this.removeEmptyProps(b));let _;try{let O=r?r.snapshot:this.routerState.snapshot.root;_=Rc(O)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),_=this.currentUrlTree.root}return Fc(_,e,b,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=cr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,sr,null,i)}navigate(e,i={skipLocationChange:!1}){return mp(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=ft({},fp):i===!1?r=ft({},pp):r=i,cr(e))return vc(this.currentUrlTree,e,r);let s=this.parseUrl(e);return vc(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,l;o?(c=o.resolve,a=o.reject,l=o.promise):l=new Promise((_,O)=>{c=_,a=O});let b=this.pendingTasks.add();return dp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mp(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new qt(4008,!1)}function gp(t){return!(t instanceof fr)&&!(t instanceof Di)}var vp=new Vt("");function Jc(t,...n){return Xn([{provide:wa,multi:!0,useValue:t},[],{provide:Ai,useFactory:bp,deps:[Qc]},{provide:ms,multi:!0,useFactory:yp},n.map(e=>e.\u0275providers)])}function bp(t){return t.routerState.root}function yp(){let t=vt($r);return n=>{let e=t.get(eo);if(n!==e.components[0])return;let i=t.get(Qc),r=t.get(_p);t.get(Cp)===1&&i.initialNavigation(),t.get(xp,null,cs.Optional)?.setUpPreloading(),t.get(vp,null,cs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var _p=new Vt("",{factory:()=>new Zt}),Cp=new Vt("",{providedIn:"root",factory:()=>1});var xp=new Vt("");var tu=[];var eu={providers:[Vl({eventCoalescing:!0}),Jc(tu)]};var Cr=class{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},Aa=class extends Cr{constructor(n,e,i,r,s){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},xr=class extends Cr{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},Sa=class extends Cr{constructor(n){super(),this.element=n instanceof ue?n.nativeElement:n}},Ia=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof Aa)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof xr)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof Sa)return this._attachedPortal=n,this.attachDomPortal(n)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var nu=(()=>{class t extends Ia{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ee,this.attachDomPortal=s=>{this._document;let o=s.element;o.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||t)(kt(Rl),kt(mi),kt(Wt))}}static{this.\u0275dir=pe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[jn]})}}return t})();var iu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})();var Pa;try{Pa=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Pa=!1}var $e=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Wl(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Pa)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(bt(gn))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Er;function Ep(){if(Er==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Er=!0}))}finally{Er=Er||!1}return Er}function Mi(t){return Ep()?t:!!t.capture}var Ma;function wp(){if(Ma==null){let t=typeof document<"u"?document.head:null;Ma=!!(t&&(t.createShadowRoot||t.attachShadow))}return Ma}function ru(t){if(wp()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Ta(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function zn(t){return t.composedPath?t.composedPath()[0]:t.target}function ou(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Oo(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function ka(t){return Array.isArray(t)?t:[t]}function oi(t){return t instanceof ue?t.nativeElement:t}var su=new Set,si,Dp=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Sp}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Ap(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||t)(bt($e),bt(Gi,8))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ap(t,n){if(!su.has(t))try{si||(si=document.createElement("style"),n&&si.setAttribute("nonce",n),si.setAttribute("type","text/css"),document.head.appendChild(si)),si.sheet&&(si.sheet.insertRule(`@media ${t} {body{ }}`,0),su.add(t))}catch(e){console.error(e)}}function Sp(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var lu=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Zt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return au(ka(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=au(ka(e)).map(o=>this._registerQuery(o).observable),s=Vi(r);return s=Ur(s.pipe(Ye(1)),s.pipe(Hr(1),zr(0))),s.pipe(Tt(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:a,query:l})=>{c.matches=c.matches||a,c.breakpoints[l]=a}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),s={observable:new Li(o=>{let c=a=>this._zone.run(()=>o.next(a));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(on(i),Tt(({matches:o})=>({query:e,matches:o})),Re(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||t)(bt(Dp),bt(oe))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function au(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var Wp=200,Fa=class{constructor(n,e){this._letterKeyStream=new Zt,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Zt,this.selectedItem=this._selectedItem;let i=typeof e?.debounceInterval=="number"?e.debounceInterval:Wp;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(Kt(e=>this._pressedLetters.push(e)),zr(n),rn(()=>this._pressedLetters.length>0),Tt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},Na=class{constructor(n,e){this._items=n,this._activeItemIndex=-1,this._activeItem=fs(null),this._wrap=!1,this._typeaheadSubscription=Tn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new Zt,this.change=new Zt,n instanceof Fn?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):hs(n)&&(this._effectRef=zl(()=>this._itemsChanged(n()),{injector:e}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Fa(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(r||Oo(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+n*i+e.length)%e.length,s=e[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return hs(this._items)?this._items():this._items instanceof Fn?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Fo=class extends Na{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};function ja(t){return t.buttons===0||t.detail===0}function La(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var Yp=new Vt("cdk-input-modality-detector-options"),qp={ignoreKeys:[18,17,224,91,16]},du=650,Pi=Mi({passive:!0,capture:!0}),Xp=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ie(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zn(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<du||(this._modality.next(ja(o)?"keyboard":"mouse"),this._mostRecentTarget=zn(o))},this._onTouchstart=o=>{if(La(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zn(o)},this._options=ft(ft({},qp),s),this.modalityDetected=this._modality.pipe(Hr(1)),this.modalityChanged=this.modalityDetected.pipe(gl()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pi),r.addEventListener("mousedown",this._onMousedown,Pi),r.addEventListener("touchstart",this._onTouchstart,Pi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pi),document.removeEventListener("mousedown",this._onMousedown,Pi),document.removeEventListener("touchstart",this._onTouchstart,Pi))}static{this.\u0275fac=function(i){return new(i||t)(bt($e),bt(oe),bt(Wt),bt(Yp,8))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ro=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Ro||{}),Kp=new Vt("cdk-focus-monitor-default-options"),ko=Mi({passive:!0,capture:!0}),hu=(()=>{class t{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zt,this._rootNodeFocusAndBlurListener=c=>{let a=zn(c);for(let l=a;l;l=l.parentElement)c.type==="focus"?this._onFocus(c,l):this._onBlur(c,l)},this._document=s,this._detectionMode=o?.detectionMode||Ro.IMMEDIATE}monitor(e,i=!1){let r=oi(e);if(!this._platform.isBrowser||r.nodeType!==1)return At();let s=ru(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let c={checkChildren:i,subject:new Zt,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let i=oi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let s=oi(e),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,a])=>this._originChanged(c,i,a)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Ro.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Ro.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?du:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),s=zn(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ko),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ko)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Re(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ko),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ko),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||t)(bt(oe),bt($e),bt(Xp),bt(Wt,8),bt(Kp,8))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ai=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ai||{}),cu="cdk-high-contrast-black-on-white",uu="cdk-high-contrast-white-on-black",Ra="cdk-high-contrast-active",fu=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=vt(lu).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ai.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ai.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ai.BLACK_ON_WHITE}return ai.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Ra,cu,uu),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===ai.BLACK_ON_WHITE?e.add(Ra,cu):i===ai.WHITE_ON_BLACK&&e.add(Ra,uu)}}static{this.\u0275fac=function(i){return new(i||t)(bt($e),bt(Wt))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zp=new Vt("cdk-dir-doc",{providedIn:"root",factory:Qp});function Qp(){return vt(Wt)}var Jp=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function tm(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?Jp.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var No=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new ee,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=tm(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(bt(Zp,8))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({})}}return t})();function gu(t){return t!=null}function em(t){return to(t)?De(t):t}function vu(t){let n={};return t.forEach(e=>{n=e!=null?ft(ft({},n),e):n}),Object.keys(n).length===0?null:n}function bu(t,n){return n.map(e=>e(t))}function nm(t){return!t.validate}function yu(t){return t.map(n=>nm(n)?n:e=>n.validate(e))}function im(t){if(!t)return null;let n=t.filter(gu);return n.length==0?null:function(e){return vu(bu(e,n))}}function rm(t){return t!=null?im(yu(t)):null}function om(t){if(!t)return null;let n=t.filter(gu);return n.length==0?null:function(e){let i=bu(e,n).map(em);return Br(i).pipe(Tt(vu))}}function sm(t){return t!=null?om(yu(t)):null}var Va=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=rm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=sm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},jo=class extends Va{get formDirective(){return null}get path(){return null}};var am={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},f_=le(ft({},am),{"[class.ng-submitted]":"isSubmitted"});var um=["*"];function dm(t,n){t&1&&_n(0)}var Ua=(()=>{class t{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(i){return new(i||t)(kt(ue))}}static{this.\u0275dir=pe({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return t})(),Ba=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(kt(Nn))}}static{this.\u0275dir=pe({type:t,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return t})(),hm=0;var Dn={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},za=new Vt("STEPPER_GLOBAL_OPTIONS"),Lo=(()=>{class t{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new ee,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static{this.\u0275fac=function(i){return new(i||t)(kt(Ui(()=>Vo)),kt(za,8))}}static{this.\u0275cmp=ce({type:t,selectors:[["cdk-step"]],contentQueries:function(i,r,s){if(i&1&&(Ze(s,Ba,5),Ze(s,jo,5)),i&2){let o;_e(o=Ce())&&(r.stepLabel=o.first),_e(o=Ce())&&(r._childForms=o)}},viewQuery:function(i,r){if(i&1&&Qn(Nn,7),i&2){let s;_e(s=Ce())&&(r.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",He],optional:[2,"optional","optional",He],completed:[2,"completed","completed",He],hasError:[2,"hasError","hasError",He]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[vn,mn,he],ngContentSelectors:um,decls:1,vars:0,template:function(i,r){i&1&&(yn(),te(0,dm,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return t})(),Vo=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new Zt,this.steps=new Fn,this._sortedHeaders=new Fn,this.linear=!1,this._selectedIndex=0,this.selectionChange=new ee,this.selectedIndexChange=new ee,this._orientation="horizontal",this._groupId=hm++}ngAfterContentInit(){this._steps.changes.pipe(on(this._steps),Re(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(on(this._stepHeader),Re(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Fo(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:At()).pipe(on(this._layoutDirection()),Re(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let i=e-this._selectedIndex;return i<0?this._layoutDirection()==="rtl"?"next":"previous":i>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,i=Dn.NUMBER){let r=this.steps.toArray()[e],s=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,s):this._getGuidelineLogic(r,s,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?Dn.ERROR:!e.completed||i?Dn.NUMBER:e.editable?Dn.EDIT:Dn.DONE}_getGuidelineLogic(e,i,r=Dn.NUMBER){return e._showError()&&e.hasError&&!i?Dn.ERROR:e.completed&&!i?Dn.DONE:e.completed&&i?r:e.editable&&i?Dn.EDIT:r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let i=Oo(e),r=e.keyCode,s=this._keyManager;s.activeItemIndex!=null&&!i&&(r===32||r===13)?(this.selectedIndex=s.activeItemIndex,e.preventDefault()):s.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(i=>{let r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,i=Ta();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static{this.\u0275fac=function(i){return new(i||t)(kt(No,8),kt(ze),kt(ue))}}static{this.\u0275dir=pe({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,r,s){if(i&1&&(Ze(s,Lo,5),Ze(s,Ua,5)),i&2){let o;_e(o=Ce())&&(r._steps=o),_e(o=Ce())&&(r._stepHeader=o)}},inputs:{linear:[2,"linear","linear",He],selectedIndex:[2,"selectedIndex","selectedIndex",Bl],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[vn]})}}return t})();var Cu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[wr]})}}return t})();function fm(){return!0}var pm=new Vt("mat-sanity-checks",{providedIn:"root",factory:fm}),Je=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return ou()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||t)(bt(fu),bt(pm,8),bt(Wt))}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[wr,wr]})}}return t})();var Dr=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var We=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(We||{}),Ha=class{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=We.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},xu=Mi({passive:!0,capture:!0}),Ga=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let e=zn(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,i,r){let s=this._events.get(e);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,xu)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,xu)))}},Eu={enterDuration:225,exitDuration:150},mm=800,wu=Mi({passive:!0,capture:!0}),Du=["mousedown","touchstart"],Au=["mouseup","mouseleave","touchend","touchcancel"],$a=class t{static{this._eventManager=new Ga}constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=oi(i))}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=ft(ft({},Eu),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let o=i.radius||gm(n,e,r),c=n-r.left,a=e-r.top,l=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${c-o}px`,b.style.top=`${a-o}px`,b.style.height=`${o*2}px`,b.style.width=`${o*2}px`,i.color!=null&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(b);let _=window.getComputedStyle(b),O=_.transitionProperty,T=_.transitionDuration,U=O==="none"||T==="0s"||T==="0s, 0s"||r.width===0&&r.height===0,P=new Ha(this,b,i,U);b.style.transform="scale3d(1, 1, 1)",P.state=We.FADING_IN,i.persistent||(this._mostRecentTransientRipple=P);let h=null;return!U&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let d=()=>{h&&(h.fallbackTimer=null),clearTimeout(N),this._finishRippleTransition(P)},k=()=>this._destroyRipple(P),N=setTimeout(k,l+100);b.addEventListener("transitionend",d),b.addEventListener("transitioncancel",k),h={onTransitionEnd:d,onTransitionCancel:k,fallbackTimer:N}}),this._activeRipples.set(P,h),(U||!l)&&this._finishRippleTransition(P),P}fadeOutRipple(n){if(n.state===We.FADING_OUT||n.state===We.HIDDEN)return;let e=n.element,i=ft(ft({},Eu),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=We.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=oi(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Du.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Au.forEach(e=>{this._triggerElement.addEventListener(e,this,wu)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===We.FADING_IN?this._startFadeOutTransition(n):n.state===We.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=We.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=We.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=ja(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+mm;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!La(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===We.VISIBLE||n.config.terminateOnPointerUp&&n.state===We.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(Du.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(Au.forEach(e=>n.removeEventListener(e,this,wu)),this._pointerUpEventsRegistered=!1))}};function gm(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var vm=new Vt("mat-ripple-global-options"),Su=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $a(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ft(ft(ft({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,ft(ft({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,ft(ft({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||t)(kt(ue),kt(oe),kt($e),kt(vm,8),kt(Yr,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ae("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),Uo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[Je,Je]})}}return t})();var ym=["*"],Bo;function _m(){if(Bo===void 0&&(Bo=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Bo=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Bo}function Ar(t){return _m()?.createHTML(t)||t}function Iu(t){return Error(`Unable to find icon with the name "${t}"`)}function Cm(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Mu(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Pu(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var An=class{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}},xm=(()=>{class t{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new An(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){let o=this._sanitizer.sanitize(Fe.HTML,r);if(!o)throw Pu(r);let c=Ar(o);return this._addSvgIconConfig(e,i,new An("",c,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new An(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let s=this._sanitizer.sanitize(Fe.HTML,i);if(!s)throw Pu(i);let o=Ar(s);return this._addSvgIconSetConfig(e,new An("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Fe.RESOURCE_URL,e);if(!i)throw Mu(e);let r=this._cachedIconsByUrl.get(i);return r?At(zo(r)):this._loadSvgIconFromConfig(new An(e,null)).pipe(Kt(s=>this._cachedIconsByUrl.set(i,s)),Tt(s=>zo(s)))}getNamedSvgIcon(e,i=""){let r=Tu(i,e),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):Yn(Iu(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?At(zo(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Tt(i=>zo(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return At(r);let s=i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(kn(c=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(Fe.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(l)),At(null)})));return Br(s).pipe(Tt(()=>{let o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw Iu(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,e,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Kt(i=>e.svgText=i),Tt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?At(null):this._fetchIcon(e).pipe(Kt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let s=e.querySelector(`[id="${i}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let c=this._svgElementFromString(Ar("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Ar("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){let{name:o,value:c}=r[s];o!=="id"&&i.setAttribute(o,c)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw Cm();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let o=this._sanitizer.sanitize(Fe.RESOURCE_URL,i);if(!o)throw Mu(i);let c=this._inProgressUrlFetches.get(o);if(c)return c;let a=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Tt(l=>Ar(l)),pn(()=>this._inProgressUrlFetches.delete(o)),yl());return this._inProgressUrlFetches.set(o,a),a}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Tu(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](i,e);if(s)return Em(s)?new An(s.url,null,s.options):new An(s,null)}}static{this.\u0275fac=function(i){return new(i||t)(bt(Qi,8),bt(Bs),bt(Wt,8),bt(Kn))}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zo(t){return t.cloneNode(!0)}function Tu(t,n){return t+":"+n}function Em(t){return!!(t.url&&t.options)}var wm=new Vt("MAT_ICON_DEFAULT_OPTIONS"),Dm=new Vt("mat-icon-location",{providedIn:"root",factory:Am});function Am(){let t=vt(Wt),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var Ou=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Sm=Ou.map(t=>`[${t}]`).join(", "),Im=/^url\(['"]?#(.*?)['"]?\)$/,ku=(()=>{class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,o,c){this._elementRef=e,this._iconRegistry=i,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Tn.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Sm),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Ou.forEach(o=>{let c=i[s],a=c.getAttribute(o),l=a?a.match(Im):null;if(l){let b=r.get(c);b||(b=[],r.set(c,b)),b.push({name:o,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ye(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${i}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static{this.\u0275fac=function(i){return new(i||t)(kt(ue),kt(xm),us("aria-hidden"),kt(Dm),kt(Kn),kt(wm,8))}}static{this.\u0275cmp=ce({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Xe("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Wi(r.color?"mat-"+r.color:""),Ae("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",He],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[vn,he],ngContentSelectors:ym,decls:1,vars:0,template:function(i,r){i&1&&(yn(),_n(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return t})(),Ho=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[Je,Je]})}}return t})();function Mm(t,n){if(t&1&&Zn(0,2),t&2){let e=Bt();Ht("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Pm(t,n){if(t&1&&(_t(0,"span",7),Ft(1),xt()),t&2){let e=Bt(2);Ct(),Pe(e._getDefaultTextForState(e.state))}}function Tm(t,n){if(t&1&&(_t(0,"span",8),Ft(1),xt()),t&2){let e=Bt(3);Ct(),Pe(e._intl.completedLabel)}}function Om(t,n){if(t&1&&(_t(0,"span",8),Ft(1),xt()),t&2){let e=Bt(3);Ct(),Pe(e._intl.editableLabel)}}function km(t,n){if(t&1&&(te(0,Tm,2,1,"span",8)(1,Om,2,1,"span",8),_t(2,"mat-icon",7),Ft(3),xt()),t&2){let e=Bt(2);Ke(e.state==="done"?0:e.state==="edit"?1:-1),Ct(3),Pe(e._getDefaultTextForState(e.state))}}function Rm(t,n){if(t&1&&te(0,Pm,2,1,"span",7)(1,km,4,2,"mat-icon",7),t&2){let e,i=Bt();Ke((e=i.state)==="number"?0:1)}}function Fm(t,n){t&1&&(_t(0,"div",4),Zn(1,9),xt()),t&2&&(Ct(),Ht("ngTemplateOutlet",n.template))}function Nm(t,n){if(t&1&&(_t(0,"div",4),Ft(1),xt()),t&2){let e=Bt();Ct(),Pe(e.label)}}function jm(t,n){if(t&1&&(_t(0,"div",5),Ft(1),xt()),t&2){let e=Bt();Ct(),Pe(e._intl.optionalLabel)}}function Lm(t,n){if(t&1&&(_t(0,"div",6),Ft(1),xt()),t&2){let e=Bt();Ct(),Pe(e.errorMessage)}}var Fu=["*"];function Vm(t,n){}function Um(t,n){if(t&1&&(_n(0),te(1,Vm,0,0,"ng-template",0)),t&2){let e=Bt();Ct(),Ht("cdkPortalOutlet",e._portal)}}var Nu=(t,n)=>({step:t,i:n}),ju=t=>({animationDuration:t}),Lu=(t,n)=>({value:t,params:n});function Bm(t,n){t&1&&_n(0)}function zm(t,n){t&1&&se(0,"div",6)}function Hm(t,n){if(t&1&&(Zn(0,5),te(1,zm,1,0,"div",6)),t&2){let e=n.$implicit,i=n.$index,r=n.$count;Bt(2);let s=ps(4);Ht("ngTemplateOutlet",s)("ngTemplateOutletContext",Yi(3,Nu,e,i)),Ct(),Ke(i!==r-1?1:-1)}}function Gm(t,n){if(t&1){let e=bn();_t(0,"div",7),ye("@horizontalStepTransition.done",function(r){Ue(e);let s=Bt(2);return Be(s._animationDone.next(r))}),Zn(1,8),xt()}if(t&2){let e=n.$implicit,i=n.$index,r=Bt(2);Ae("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),Ht("@horizontalStepTransition",Yi(8,Lu,r._getAnimationDirection(i),vi(6,ju,r._getAnimationDuration())))("id",r._getStepContentId(i)),Xe("aria-labelledby",r._getStepLabelId(i)),Ct(),Ht("ngTemplateOutlet",e.content)}}function $m(t,n){if(t&1&&(_t(0,"div",1)(1,"div",2),Zr(2,Hm,2,6,null,null,Kr),xt(),_t(4,"div",3),Zr(5,Gm,2,11,"div",4,Kr),xt()()),t&2){let e=Bt();Ct(2),Qr(e.steps),Ct(3),Qr(e.steps)}}function Wm(t,n){if(t&1){let e=bn();_t(0,"div",9),Zn(1,5),_t(2,"div",10)(3,"div",11),ye("@verticalStepTransition.done",function(r){Ue(e);let s=Bt(2);return Be(s._animationDone.next(r))}),_t(4,"div",12),Zn(5,8),xt()()()()}if(t&2){let e=n.$implicit,i=n.$index,r=n.$count,s=Bt(2),o=ps(4);Ct(),Ht("ngTemplateOutlet",o)("ngTemplateOutletContext",Yi(10,Nu,e,i)),Ct(),Ae("mat-stepper-vertical-line",i!==r-1),Ct(),Ae("mat-vertical-stepper-content-inactive",s.selectedIndex!==i),Ht("@verticalStepTransition",Yi(15,Lu,s._getAnimationDirection(i),vi(13,ju,s._getAnimationDuration())))("id",s._getStepContentId(i)),Xe("aria-labelledby",s._getStepLabelId(i)),Ct(2),Ht("ngTemplateOutlet",e.content)}}function Ym(t,n){if(t&1&&Zr(0,Wm,6,18,"div",9,Kr),t&2){let e=Bt();Qr(e.steps)}}function qm(t,n){if(t&1){let e=bn();_t(0,"mat-step-header",13),ye("click",function(){let r=Ue(e).step;return Be(r.select())})("keydown",function(r){Ue(e);let s=Bt();return Be(s._onKeydown(r))}),xt()}if(t&2){let e=n.step,i=n.i,r=Bt();Ae("mat-horizontal-stepper-header",r.orientation==="horizontal")("mat-vertical-stepper-header",r.orientation==="vertical"),Ht("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),Xe("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",r._stepIsNavigable(i,e)?null:!0)}}var Wa=(()=>{class t extends Ba{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=hi(t)))(r||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","matStepLabel",""]],standalone:!0,features:[jn]})}}return t})(),Go=(()=>{class t{constructor(){this.changes=new Zt,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xm(t){return t||new Go}var Km={provide:Go,deps:[[new Bi,new Gr,Go]],useFactory:Xm},Ya=(()=>{class t extends Ua{constructor(e,i,r,s){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof Wa?null:this.label}_templateLabel(){return this.label instanceof Wa?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static{this.\u0275fac=function(i){return new(i||t)(kt(Go),kt(hu),kt(ue),kt(ze))}}static{this.\u0275cmp=ce({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,r){i&2&&Wi("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[jn,he],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,r){if(i&1&&(se(0,"div",0),_t(1,"div")(2,"div",1),te(3,Mm,1,2,"ng-container",2)(4,Rm,2,1),xt()(),_t(5,"div",3),te(6,Fm,2,1,"div",4)(7,Nm,2,1,"div",4)(8,jm,2,1,"div",5)(9,Lm,2,1,"div",6),xt()),i&2){let s;Ht("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),Ct(),jl("mat-step-icon-state-",r.state," mat-step-icon"),Ae("mat-step-icon-selected",r.selected),Ct(2),Ke(r.iconOverrides&&r.iconOverrides[r.state]?3:4),Ct(2),Ae("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error",r.state=="error"),Ct(),Ke((s=r._templateLabel())?6:r._stringLabel()?7:-1,s),Ct(2),Ke(r.optional&&r.state!="error"?8:-1),Ct(),Ke(r.state==="error"?9:-1)}},dependencies:[Su,bs,ku],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-app-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-app-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-app-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-app-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-app-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-app-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-app-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-app-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-app-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-app-on-primary))}'],encapsulation:2,changeDetection:0})}}return t})(),Vu="500ms",Uu="225ms",Ru={horizontalStepTransition:ys("horizontalStepTransition",[ti("previous",Jn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),ti("current",Jn({transform:"none",visibility:"inherit"})),ti("next",Jn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),xs("* => *",Cs([_s("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),ws("@*",Es(),{optional:!0})]),{params:{animationDuration:Vu}})]),verticalStepTransition:ys("verticalStepTransition",[ti("previous",Jn({height:"0px",visibility:"hidden"})),ti("next",Jn({height:"0px",visibility:"hidden"})),ti("current",Jn({height:"*",visibility:"inherit"})),xs("* <=> current",Cs([_s("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),ws("@*",Es(),{optional:!0})]),{params:{animationDuration:Uu}})])},Zm=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(i){return new(i||t)(kt(Nn))}}static{this.\u0275dir=pe({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0})}}return t})(),Qm=(()=>{class t{constructor(e){this._template=e}static{this.\u0275fac=function(i){return new(i||t)(kt(Nn))}}static{this.\u0275dir=pe({type:t,selectors:[["ng-template","matStepContent",""]],standalone:!0})}}return t})(),Jm=(()=>{class t extends Lo{constructor(e,i,r,s){super(e,s),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=Tn.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Me(()=>this._stepper.selectionChange.pipe(Tt(e=>e.selectedStep===this),on(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new xr(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){let r=this._errorStateMatcher.isErrorState(e,i),s=!!(e&&e.invalid&&this.interacted);return r||s}static{this.\u0275fac=function(i){return new(i||t)(kt(Ui(()=>Bu)),kt(Dr,4),kt(mi),kt(za,8))}}static{this.\u0275cmp=ce({type:t,selectors:[["mat-step"]],contentQueries:function(i,r,s){if(i&1&&(Ze(s,Wa,5),Ze(s,Qm,5)),i&2){let o;_e(o=Ce())&&(r.stepLabel=o.first),_e(o=Ce())&&(r._lazyContent=o.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[gi([{provide:Dr,useExisting:t},{provide:Lo,useExisting:t}]),jn,he],ngContentSelectors:Fu,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(yn(),te(0,Um,2,1,"ng-template"))},dependencies:[nu],encapsulation:2,changeDetection:0})}}return t})(),Bu=(()=>{class t extends Vo{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this._stepHeader=void 0,this._steps=void 0,this.steps=new Fn,this.animationDone=new ee,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Zt,this._animationDuration="",this._isServer=!vt($e).isBrowser;let s=r.nativeElement.nodeName.toLowerCase();this.orientation=s==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Re(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Re(this._destroyed)).subscribe(e=>{e.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Vu:Uu}static{this.\u0275fac=function(i){return new(i||t)(kt(No,8),kt(ze),kt(ue))}}static{this.\u0275cmp=ce({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,r,s){if(i&1&&(Ze(s,Jm,5),Ze(s,Zm,5)),i&2){let o;_e(o=Ce())&&(r._steps=o),_e(o=Ce())&&(r._icons=o)}},viewQuery:function(i,r){if(i&1&&Qn(Ya,5),i&2){let s;_e(s=Ce())&&(r._stepHeader=s)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(i,r){i&2&&(Xe("aria-orientation",r.orientation),Ae("mat-stepper-horizontal",r.orientation==="horizontal")("mat-stepper-vertical",r.orientation==="vertical")("mat-stepper-label-position-end",r.orientation==="horizontal"&&r.labelPosition=="end")("mat-stepper-label-position-bottom",r.orientation==="horizontal"&&r.labelPosition=="bottom")("mat-stepper-header-position-bottom",r.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[gi([{provide:Vo,useExisting:t}]),jn,he],ngContentSelectors:Fu,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,r){if(i&1&&(yn(),te(0,Bm,1,0)(1,$m,7,0,"div",1)(2,Ym,2,0)(3,qm,1,23,"ng-template",null,0,Ll)),i&2){let s;Ke(r._isServer?0:-1),Ct(),Ke((s=r.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[bs,Ya],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-app-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-app-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-app-outline));top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Ru.horizontalStepTransition,Ru.verticalStepTransition]},changeDetection:0})}}return t})();var zu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({providers:[Km,Dr],imports:[Je,Cn,iu,Cu,Ho,Uo,Bu,Ya,Je]})}}return t})();var Hu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Jt({type:t})}static{this.\u0275inj=Qt({imports:[Je,Uo,Je]})}}return t})();var Wu=Nd(Gu());var tg=["timelineContainer"];function eg(t,n){if(t&1){let e=bn();_t(0,"div",9),ye("click",function(){let r=Ue(e).$implicit,s=Bt(2);return Be(s.onSubjectClick(r))}),Ft(1),xt()}if(t&2){let e=n.$implicit,i=n.index,r=Bt().index;Ht("id","subject-"+r+"-"+i),Ct(),de(" ",e.name," ")}}function ng(t,n){if(t&1&&(_t(0,"div",5)(1,"div",6),Ft(2),xt(),_t(3,"div",7),te(4,eg,2,2,"div",8),xt()()),t&2){let e=n.$implicit,i=n.index;Ct(),Ht("id","module-"+i),Ct(),de(" ",e.name," "),Ct(),Ht("ngClass",i%2===0?"subjects-right":"subjects-left"),Ct(),Ht("ngForOf",e.subjects)}}var $o=class t{modules=[];selectSubject=new ee;timelineContainer;jsPlumbInstance;ngAfterViewInit(){this.jsPlumbInstance=Wu.jsPlumb.getInstance({Container:this.timelineContainer?.nativeElement||void 0}),this.jsPlumbInstance&&setTimeout(()=>this.createConnections(),500),this.onScroll()}ngOnChanges(){setTimeout(()=>{this.clearConnections(),this.createConnections(),this.onScroll()},500)}onScroll(){document.querySelectorAll(".timeline-item, .subject").forEach(e=>{e.getBoundingClientRect().top<window.innerHeight*.9&&e.classList.add("visible")})}createConnections(){window.innerWidth<=768||this.jsPlumbInstance&&this.modules.forEach((n,e)=>{let i=`module-${e}`,r=e%2===0;document.getElementById(i)&&n.subjects.forEach((s,o)=>{let c=`subject-${e}-${o}`;document.getElementById(c)&&this.createConnection(c,i,r)})})}createConnection(n,e,i){this.jsPlumbInstance.connect({source:n,target:e,anchors:i?["LeftMiddle","RightMiddle"]:["RightMiddle","LeftMiddle"],connector:["Bezier",{curviness:50}],endpoints:["Blank","Blank"],paintStyle:{stroke:"#4682b4",strokeWidth:2,dashstyle:"2 2"}})}clearConnections(){this.jsPlumbInstance&&(this.jsPlumbInstance.deleteEveryConnection(),this.jsPlumbInstance.reset())}refreshConnections(){this.clearConnections(),setTimeout(()=>this.createConnections(),500)}onSubjectClick(n){this.selectSubject.emit(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ce({type:t,selectors:[["app-timeline"]],viewQuery:function(e,i){if(e&1&&Qn(tg,5),e&2){let r;_e(r=Ce())&&(i.timelineContainer=r.first)}},hostBindings:function(e,i){e&1&&ye("scroll",function(){return i.onScroll()},!1,Ol)},inputs:{modules:"modules"},outputs:{selectSubject:"selectSubject"},standalone:!0,features:[mn,he],decls:5,vars:1,consts:[["timelineContainer",""],[1,"timeline-container"],[1,"vertical-timeline"],[1,"timeline-line"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"timeline-label",3,"id"],[1,"subjects-wrapper",3,"ngClass"],["class","subject",3,"id","click",4,"ngFor","ngForOf"],[1,"subject",3,"click","id"]],template:function(e,i){e&1&&(_t(0,"div",1)(1,"div",2,0),se(3,"div",3),te(4,ng,5,4,"div",4),xt()()),e&2&&(Ct(4),Ht("ngForOf",i.modules))},dependencies:[Cn,ro,bi,zu,Hu,Ho],styles:[".timeline-container[_ngcontent-%COMP%]{position:relative;padding-bottom:100px}.vertical-timeline[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.timeline-line[_ngcontent-%COMP%]{position:absolute;width:2px;background:#e3e3e3;top:0;bottom:0;left:50%;transform:translate(-50%)}.timeline-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;margin:30px 0;max-width:270px;opacity:0;transform:translateY(50px);transition:opacity .6s ease-out,transform .6s ease-out}.timeline-item.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.timeline-label[_ngcontent-%COMP%]{background:#4682b4;padding:8px 12px;border:1px solid #4682b4;border-radius:5px;font-weight:400;color:#fff}.subjects-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-height:10px;gap:5px}.subjects-right[_ngcontent-%COMP%]{left:calc(50% + 250px);align-items:flex-start;display:flex;text-align:left}.subjects-left[_ngcontent-%COMP%]{right:calc(50% + 250px);align-items:flex-end;display:flex;text-align:right}.subject[_ngcontent-%COMP%]{cursor:pointer;background:#fff;padding:8px 12px;border:1px solid #E3E3E3;border-radius:5px;min-width:180px;box-shadow:0 2px 12px #1212130f;color:#343434;opacity:0;transform:translateY(30px);transition:opacity .6s ease-out,transform .6s ease-out}.subject[_ngcontent-%COMP%]:hover{box-shadow:0 6px 10px #00000026;color:#fff;background:#343434}.subject.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@media (max-width: 768px){.timeline-container[_ngcontent-%COMP%]{padding-bottom:50px}.timeline-line[_ngcontent-%COMP%]{width:1px}.timeline-item[_ngcontent-%COMP%]{max-width:200px;margin:30px 0}.timeline-label[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px}.subjects-wrapper[_ngcontent-%COMP%]{gap:10px;margin-top:20px}.subjects-right[_ngcontent-%COMP%], .subjects-left[_ngcontent-%COMP%]{position:static;align-items:center;justify-content:center;flex-direction:column;left:auto;right:auto}.subject[_ngcontent-%COMP%]{min-width:140px;padding:8px 12px;font-size:14px;margin:5px 0}}@media (max-width: 480px){.timeline-item[_ngcontent-%COMP%]{max-width:150px;margin:25px 0}.timeline-label[_ngcontent-%COMP%]{font-size:12px;padding:5px 8px}.subjects-wrapper[_ngcontent-%COMP%]{gap:12px;margin-top:25px}.subject[_ngcontent-%COMP%]{min-width:120px;padding:6px 10px;font-size:12px;margin:6px 0}}"]})};var ig=t=>({show:t}),rg=t=>({open:t});function og(t,n){if(t&1&&(_t(0,"li")(1,"a",27),se(2,"i",28),Ft(3),xt()()),t&2){let e=n.$implicit;Ct(),Ht("href",e.url,Tl),Ct(2),de(" ",e.name,"")}}function sg(t,n){if(t&1&&(_t(0,"div",25)(1,"h3"),Ft(2,"Pliki do pobrania"),xt(),_t(3,"ul"),te(4,og,4,2,"li",26),xt()()),t&2){let e=Bt(2);Ct(4),Ht("ngForOf",e.subject.files)}}function ag(t,n){if(t&1&&(_t(0,"div",4)(1,"h2",5),Ft(2),xt(),_t(3,"div",6)(4,"p"),Ft(5),xt()(),_t(6,"div",7)(7,"p")(8,"strong"),Ft(9,"Prowadz\u0105cy:"),xt(),Ft(10),xt()(),_t(11,"div",8)(12,"p")(13,"strong"),Ft(14,"ECTS:"),xt(),Ft(15),xt()(),_t(16,"div",9)(17,"p")(18,"strong"),Ft(19,"Typ zaliczenia:"),xt(),Ft(20),xt()(),_t(21,"div",10)(22,"div",11),se(23,"i",12),_t(24,"span",13),Ft(25,"Wyk\u0142ad:"),xt(),_t(26,"span",14),Ft(27),xt()(),_t(28,"div",11),se(29,"i",15),_t(30,"span",13),Ft(31,"\u0106wiczenia:"),xt(),_t(32,"span",14),Ft(33),xt()(),_t(34,"div",11),se(35,"i",16),_t(36,"span",13),Ft(37,"Laboratoria:"),xt(),_t(38,"span",14),Ft(39),xt()(),_t(40,"div",11),se(41,"i",17),_t(42,"span",13),Ft(43,"Semiaria:"),xt(),_t(44,"span",14),Ft(45),xt()(),_t(46,"p",18),Ft(47),xt()(),_t(48,"div",19)(49,"div",20),se(50,"i",21),_t(51,"span",22),Ft(52,"Godziny niekontaktowe:"),xt(),_t(53,"span",23),Ft(54),xt()()(),te(55,sg,5,1,"div",24),xt()),t&2){let e=Bt();Ct(2),Pe(e.subject.name),Ct(3),Pe(e.subject.description||""),Ct(5),de(" ",e.subject.lecturer||"Brak informacji",""),Ct(5),de(" ",e.subject.ects||"0",""),Ct(5),de(" ",e.subject.exam_type||"Brak informacji",""),Ct(7),de("",(e.subject.contact_hours==null?null:e.subject.contact_hours.lecture)||0," h"),Ct(6),de("",(e.subject.contact_hours==null?null:e.subject.contact_hours.exercises)||0," h"),Ct(6),de("",(e.subject.contact_hours==null?null:e.subject.contact_hours.labs)||0," h"),Ct(6),de("",(e.subject.contact_hours==null?null:e.subject.contact_hours.seminars)||0," h"),Ct(2),de("Suma godzin kontaktowych: ",e.getTotalContactHours()," h"),Ct(7),de("",e.subject.non_contact_hours||0," h"),Ct(),Ht("ngIf",e.subject.files==null?null:e.subject.files.length)}}var Wo=class t{subject=null;ngOnChanges(n){n.subject&&n.subject.currentValue}getTotalContactHours(){if(!this.subject||!this.subject.contact_hours)return 0;let{contact_hours:n}=this.subject,e=n?.lecture||0,i=n?.exercises||0,r=n?.labs||0,s=n?.seminars||0;return e+i+r+s}closeSidebar(){this.subject=null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ce({type:t,selectors:[["app-subject-details"]],inputs:{subject:"subject"},standalone:!0,features:[mn,he],decls:5,vars:7,consts:[[1,"backdrop",3,"click","ngClass"],[1,"sidebar",3,"ngClass"],[1,"close-btn",3,"click"],["class","subject-details",4,"ngIf"],[1,"subject-details"],[1,"subject-title"],[1,"section","description"],[1,"section","lecturer"],[1,"section","ects"],[1,"section","exam-type"],[1,"section","contact-hours"],[1,"contact-hour-card"],[1,"fas","fa-chalkboard-teacher"],[1,"contact-hour-label"],[1,"contact-hour-value"],[1,"fas","fa-users"],[1,"fas","fa-flask"],[1,"fas","fa-chalkboard"],[1,"suma_godzin"],[1,"section","non-contact-hours"],[1,"non-contact-hour-card"],[1,"fas","fa-calendar-check"],[1,"non-contact-hour-label"],[1,"non-contact-hour-value"],["class","section files",4,"ngIf"],[1,"section","files"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"fas","fa-file-alt"]],template:function(e,i){e&1&&(_t(0,"div",0),ye("click",function(){return i.closeSidebar()}),xt(),_t(1,"div",1)(2,"button",2),ye("click",function(){return i.closeSidebar()}),Ft(3,"\u2715"),xt(),te(4,ag,56,12,"div",3),xt()),e&2&&(Ht("ngClass",vi(3,ig,i.subject)),Ct(),Ht("ngClass",vi(5,rg,i.subject)),Ct(3),Ht("ngIf",i.subject))},dependencies:[Cn,ro,bi,oo],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;opacity:0;transition:opacity .6s ease-in-out;pointer-events:none}.backdrop.show[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.sidebar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:66vh;background:#fff;box-shadow:0 -3px 10px #0003;border-top-left-radius:20px;border-top-right-radius:20px;padding:20px;overflow-y:auto;transform:translateY(100%);opacity:0;transition:transform .6s ease-in-out,opacity .6s ease-in-out}.sidebar.open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:24px;color:#333;cursor:pointer;transition:transform .3s ease-in-out}.close-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.subject-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#333;border-bottom:2px solid #4682b4;padding-bottom:5px}.section[_ngcontent-%COMP%]{margin-bottom:20px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#333}.suma_godzin[_ngcontent-%COMP%]{font-size:14px!important;color:#777!important;margin-top:15px!important;font-weight:400!important}.contact-hours[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.contact-hours[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-left:20px}.files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.files[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.files[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#4682b4;font-weight:700;display:flex;align-items:center}.files[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.files[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#006994}@media (min-width: 769px){.sidebar[_ngcontent-%COMP%]{inset:0 0 auto auto;width:350px;height:100%;border-radius:0;box-shadow:-3px 0 10px #0003;transform:translate(100%)}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}}.contact-hour-card[_ngcontent-%COMP%], .non-contact-hour-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 20px;margin:10px 0;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;align-items:center}.contact-hour-label[_ngcontent-%COMP%], .non-contact-hour-label[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-right:10px}.contact-hour-value[_ngcontent-%COMP%], .non-contact-hour-value[_ngcontent-%COMP%]{color:#4682b4}.contact-hour-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .non-contact-hour-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:18px;color:#4682b4}"]})};function ld(t){return typeof t>"u"||t===null}function lg(t){return typeof t=="object"&&t!==null}function cg(t){return Array.isArray(t)?t:ld(t)?[]:[t]}function ug(t,n){var e,i,r,s;if(n)for(s=Object.keys(n),e=0,i=s.length;e<i;e+=1)r=s[e],t[r]=n[r];return t}function dg(t,n){var e="",i;for(i=0;i<n;i+=1)e+=t;return e}function hg(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var fg=ld,pg=lg,mg=cg,gg=dg,vg=hg,bg=ug,ae={isNothing:fg,isObject:pg,toArray:mg,repeat:gg,isNegativeZero:vg,extend:bg};function cd(t,n){var e="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(e+='in "'+t.mark.name+'" '),e+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(e+=`

`+t.mark.snippet),i+" "+e):i}function Ir(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=cd(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ir.prototype=Object.create(Error.prototype);Ir.prototype.constructor=Ir;Ir.prototype.toString=function(n){return this.name+": "+cd(this,n)};var Te=Ir;function qa(t,n,e,i,r){var s="",o="",c=Math.floor(r/2)-1;return i-n>c&&(s=" ... ",n=i-c+s.length),e-i>c&&(o=" ...",e=i+c-o.length),{str:s+t.slice(n,e).replace(/\t/g,"\u2192")+o,pos:i-n+s.length}}function Xa(t,n){return ae.repeat(" ",n-t.length)+t}function yg(t,n){if(n=Object.create(n||null),!t.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var e=/\r?\n|\r|\0/g,i=[0],r=[],s,o=-1;s=e.exec(t.buffer);)r.push(s.index),i.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var c="",a,l,b=Math.min(t.line+n.linesAfter,r.length).toString().length,_=n.maxLength-(n.indent+b+3);for(a=1;a<=n.linesBefore&&!(o-a<0);a++)l=qa(t.buffer,i[o-a],r[o-a],t.position-(i[o]-i[o-a]),_),c=ae.repeat(" ",n.indent)+Xa((t.line-a+1).toString(),b)+" | "+l.str+`
`+c;for(l=qa(t.buffer,i[o],r[o],t.position,_),c+=ae.repeat(" ",n.indent)+Xa((t.line+1).toString(),b)+" | "+l.str+`
`,c+=ae.repeat("-",n.indent+b+3+l.pos)+`^
`,a=1;a<=n.linesAfter&&!(o+a>=r.length);a++)l=qa(t.buffer,i[o+a],r[o+a],t.position-(i[o]-i[o+a]),_),c+=ae.repeat(" ",n.indent)+Xa((t.line+a+1).toString(),b)+" | "+l.str+`
`;return c.replace(/\n$/,"")}var _g=yg,Cg=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],xg=["scalar","sequence","mapping"];function Eg(t){var n={};return t!==null&&Object.keys(t).forEach(function(e){t[e].forEach(function(i){n[String(i)]=e})}),n}function wg(t,n){if(n=n||{},Object.keys(n).forEach(function(e){if(Cg.indexOf(e)===-1)throw new Te('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(e){return e},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Eg(n.styleAliases||null),xg.indexOf(this.kind)===-1)throw new Te('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var xe=wg;function Yu(t,n){var e=[];return t[n].forEach(function(i){var r=e.length;e.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(r=o)}),e[r]=i}),e}function Dg(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,e;function i(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(n=0,e=arguments.length;n<e;n+=1)arguments[n].forEach(i);return t}function Za(t){return this.extend(t)}Za.prototype.extend=function(n){var e=[],i=[];if(n instanceof xe)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(e=e.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new Te("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.forEach(function(s){if(!(s instanceof xe))throw new Te("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Te("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Te("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof xe))throw new Te("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Za.prototype);return r.implicit=(this.implicit||[]).concat(e),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Yu(r,"implicit"),r.compiledExplicit=Yu(r,"explicit"),r.compiledTypeMap=Dg(r.compiledImplicit,r.compiledExplicit),r};var Ag=Za,Sg=new xe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Ig=new xe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Mg=new xe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Pg=new Ag({explicit:[Sg,Ig,Mg]});function Tg(t){if(t===null)return!0;var n=t.length;return n===1&&t==="~"||n===4&&(t==="null"||t==="Null"||t==="NULL")}function Og(){return null}function kg(t){return t===null}var Rg=new xe("tag:yaml.org,2002:null",{kind:"scalar",resolve:Tg,construct:Og,predicate:kg,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Fg(t){if(t===null)return!1;var n=t.length;return n===4&&(t==="true"||t==="True"||t==="TRUE")||n===5&&(t==="false"||t==="False"||t==="FALSE")}function Ng(t){return t==="true"||t==="True"||t==="TRUE"}function jg(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Lg=new xe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Fg,construct:Ng,predicate:jg,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Vg(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Ug(t){return 48<=t&&t<=55}function Bg(t){return 48<=t&&t<=57}function zg(t){if(t===null)return!1;var n=t.length,e=0,i=!1,r;if(!n)return!1;if(r=t[e],(r==="-"||r==="+")&&(r=t[++e]),r==="0"){if(e+1===n)return!0;if(r=t[++e],r==="b"){for(e++;e<n;e++)if(r=t[e],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(e++;e<n;e++)if(r=t[e],r!=="_"){if(!Vg(t.charCodeAt(e)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(e++;e<n;e++)if(r=t[e],r!=="_"){if(!Ug(t.charCodeAt(e)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;e<n;e++)if(r=t[e],r!=="_"){if(!Bg(t.charCodeAt(e)))return!1;i=!0}return!(!i||r==="_")}function Hg(t){var n=t,e=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(e=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return e*parseInt(n.slice(2),2);if(n[1]==="x")return e*parseInt(n.slice(2),16);if(n[1]==="o")return e*parseInt(n.slice(2),8)}return e*parseInt(n,10)}function Gg(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ae.isNegativeZero(t)}var $g=new xe("tag:yaml.org,2002:int",{kind:"scalar",resolve:zg,construct:Hg,predicate:Gg,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Wg=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Yg(t){return!(t===null||!Wg.test(t)||t[t.length-1]==="_")}function qg(t){var n,e;return n=t.replace(/_/g,"").toLowerCase(),e=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?e===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:e*parseFloat(n,10)}var Xg=/^[-+]?[0-9]+e/;function Kg(t,n){var e;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ae.isNegativeZero(t))return"-0.0";return e=t.toString(10),Xg.test(e)?e.replace("e",".e"):e}function Zg(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ae.isNegativeZero(t))}var Qg=new xe("tag:yaml.org,2002:float",{kind:"scalar",resolve:Yg,construct:qg,predicate:Zg,represent:Kg,defaultStyle:"lowercase"}),Jg=Pg.extend({implicit:[Rg,Lg,$g,Qg]}),tv=Jg,ud=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),dd=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ev(t){return t===null?!1:ud.exec(t)!==null||dd.exec(t)!==null}function nv(t){var n,e,i,r,s,o,c,a=0,l=null,b,_,O;if(n=ud.exec(t),n===null&&(n=dd.exec(t)),n===null)throw new Error("Date resolve error");if(e=+n[1],i=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(e,i,r));if(s=+n[4],o=+n[5],c=+n[6],n[7]){for(a=n[7].slice(0,3);a.length<3;)a+="0";a=+a}return n[9]&&(b=+n[10],_=+(n[11]||0),l=(b*60+_)*6e4,n[9]==="-"&&(l=-l)),O=new Date(Date.UTC(e,i,r,s,o,c,a)),l&&O.setTime(O.getTime()-l),O}function iv(t){return t.toISOString()}var rv=new xe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ev,construct:nv,instanceOf:Date,represent:iv});function ov(t){return t==="<<"||t===null}var sv=new xe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ov}),nl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function av(t){if(t===null)return!1;var n,e,i=0,r=t.length,s=nl;for(e=0;e<r;e++)if(n=s.indexOf(t.charAt(e)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function lv(t){var n,e,i=t.replace(/[\r\n=]/g,""),r=i.length,s=nl,o=0,c=[];for(n=0;n<r;n++)n%4===0&&n&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|s.indexOf(i.charAt(n));return e=r%4*6,e===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):e===18?(c.push(o>>10&255),c.push(o>>2&255)):e===12&&c.push(o>>4&255),new Uint8Array(c)}function cv(t){var n="",e=0,i,r,s=t.length,o=nl;for(i=0;i<s;i++)i%3===0&&i&&(n+=o[e>>18&63],n+=o[e>>12&63],n+=o[e>>6&63],n+=o[e&63]),e=(e<<8)+t[i];return r=s%3,r===0?(n+=o[e>>18&63],n+=o[e>>12&63],n+=o[e>>6&63],n+=o[e&63]):r===2?(n+=o[e>>10&63],n+=o[e>>4&63],n+=o[e<<2&63],n+=o[64]):r===1&&(n+=o[e>>2&63],n+=o[e<<4&63],n+=o[64],n+=o[64]),n}function uv(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var dv=new xe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:av,construct:lv,predicate:uv,represent:cv}),hv=Object.prototype.hasOwnProperty,fv=Object.prototype.toString;function pv(t){if(t===null)return!0;var n=[],e,i,r,s,o,c=t;for(e=0,i=c.length;e<i;e+=1){if(r=c[e],o=!1,fv.call(r)!=="[object Object]")return!1;for(s in r)if(hv.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(n.indexOf(s)===-1)n.push(s);else return!1}return!0}function mv(t){return t!==null?t:[]}var gv=new xe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pv,construct:mv}),vv=Object.prototype.toString;function bv(t){if(t===null)return!0;var n,e,i,r,s,o=t;for(s=new Array(o.length),n=0,e=o.length;n<e;n+=1){if(i=o[n],vv.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;s[n]=[r[0],i[r[0]]]}return!0}function yv(t){if(t===null)return[];var n,e,i,r,s,o=t;for(s=new Array(o.length),n=0,e=o.length;n<e;n+=1)i=o[n],r=Object.keys(i),s[n]=[r[0],i[r[0]]];return s}var _v=new xe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:bv,construct:yv}),Cv=Object.prototype.hasOwnProperty;function xv(t){if(t===null)return!0;var n,e=t;for(n in e)if(Cv.call(e,n)&&e[n]!==null)return!1;return!0}function Ev(t){return t!==null?t:{}}var wv=new xe("tag:yaml.org,2002:set",{kind:"mapping",resolve:xv,construct:Ev}),hd=tv.extend({implicit:[rv,sv],explicit:[dv,gv,_v,wv]}),Gn=Object.prototype.hasOwnProperty,Yo=1,fd=2,pd=3,qo=4,Ka=1,Dv=2,qu=3,Av=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Sv=/[\x85\u2028\u2029]/,Iv=/[,\[\]\{\}]/,md=/^(?:!|!!|![a-z\-]+!)$/i,gd=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Xu(t){return Object.prototype.toString.call(t)}function an(t){return t===10||t===13}function ci(t){return t===9||t===32}function Oe(t){return t===9||t===32||t===10||t===13}function Oi(t){return t===44||t===91||t===93||t===123||t===125}function Mv(t){var n;return 48<=t&&t<=57?t-48:(n=t|32,97<=n&&n<=102?n-97+10:-1)}function Pv(t){return t===120?2:t===117?4:t===85?8:0}function Tv(t){return 48<=t&&t<=57?t-48:-1}function Ku(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Ov(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var vd=new Array(256),bd=new Array(256);for(li=0;li<256;li++)vd[li]=Ku(li)?1:0,bd[li]=Ku(li);var li;function kv(t,n){this.input=t,this.filename=n.filename||null,this.schema=n.schema||hd,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function yd(t,n){var e={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return e.snippet=_g(e),new Te(n,e)}function wt(t,n){throw yd(t,n)}function Xo(t,n){t.onWarning&&t.onWarning.call(null,yd(t,n))}var Zu={YAML:function(n,e,i){var r,s,o;n.version!==null&&wt(n,"duplication of %YAML directive"),i.length!==1&&wt(n,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&wt(n,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&wt(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=o<2,o!==1&&o!==2&&Xo(n,"unsupported YAML version of the document")},TAG:function(n,e,i){var r,s;i.length!==2&&wt(n,"TAG directive accepts exactly two arguments"),r=i[0],s=i[1],md.test(r)||wt(n,"ill-formed tag handle (first argument) of the TAG directive"),Gn.call(n.tagMap,r)&&wt(n,'there is a previously declared suffix for "'+r+'" tag handle'),gd.test(s)||wt(n,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{wt(n,"tag prefix is malformed: "+s)}n.tagMap[r]=s}};function Hn(t,n,e,i){var r,s,o,c;if(n<e){if(c=t.input.slice(n,e),i)for(r=0,s=c.length;r<s;r+=1)o=c.charCodeAt(r),o===9||32<=o&&o<=1114111||wt(t,"expected valid JSON character");else Av.test(c)&&wt(t,"the stream contains non-printable characters");t.result+=c}}function Qu(t,n,e,i){var r,s,o,c;for(ae.isObject(e)||wt(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(e),o=0,c=r.length;o<c;o+=1)s=r[o],Gn.call(n,s)||(n[s]=e[s],i[s]=!0)}function ki(t,n,e,i,r,s,o,c,a){var l,b;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),l=0,b=r.length;l<b;l+=1)Array.isArray(r[l])&&wt(t,"nested arrays are not supported inside keys"),typeof r=="object"&&Xu(r[l])==="[object Object]"&&(r[l]="[object Object]");if(typeof r=="object"&&Xu(r)==="[object Object]"&&(r="[object Object]"),r=String(r),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,b=s.length;l<b;l+=1)Qu(t,n,s[l],e);else Qu(t,n,s,e);else!t.json&&!Gn.call(e,r)&&Gn.call(n,r)&&(t.line=o||t.line,t.lineStart=c||t.lineStart,t.position=a||t.position,wt(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):n[r]=s,delete e[r];return n}function il(t){var n;n=t.input.charCodeAt(t.position),n===10?t.position++:n===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):wt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ne(t,n,e){for(var i=0,r=t.input.charCodeAt(t.position);r!==0;){for(;ci(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(n&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(an(r))for(il(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return e!==-1&&i!==0&&t.lineIndent<e&&Xo(t,"deficient indentation"),i}function Qo(t){var n=t.position,e;return e=t.input.charCodeAt(n),!!((e===45||e===46)&&e===t.input.charCodeAt(n+1)&&e===t.input.charCodeAt(n+2)&&(n+=3,e=t.input.charCodeAt(n),e===0||Oe(e)))}function rl(t,n){n===1?t.result+=" ":n>1&&(t.result+=ae.repeat(`
`,n-1))}function Rv(t,n,e){var i,r,s,o,c,a,l,b,_=t.kind,O=t.result,T;if(T=t.input.charCodeAt(t.position),Oe(T)||Oi(T)||T===35||T===38||T===42||T===33||T===124||T===62||T===39||T===34||T===37||T===64||T===96||(T===63||T===45)&&(r=t.input.charCodeAt(t.position+1),Oe(r)||e&&Oi(r)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,c=!1;T!==0;){if(T===58){if(r=t.input.charCodeAt(t.position+1),Oe(r)||e&&Oi(r))break}else if(T===35){if(i=t.input.charCodeAt(t.position-1),Oe(i))break}else{if(t.position===t.lineStart&&Qo(t)||e&&Oi(T))break;if(an(T))if(a=t.line,l=t.lineStart,b=t.lineIndent,ne(t,!1,-1),t.lineIndent>=n){c=!0,T=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=a,t.lineStart=l,t.lineIndent=b;break}}c&&(Hn(t,s,o,!1),rl(t,t.line-a),s=o=t.position,c=!1),ci(T)||(o=t.position+1),T=t.input.charCodeAt(++t.position)}return Hn(t,s,o,!1),t.result?!0:(t.kind=_,t.result=O,!1)}function Fv(t,n){var e,i,r;if(e=t.input.charCodeAt(t.position),e!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(e=t.input.charCodeAt(t.position))!==0;)if(e===39)if(Hn(t,i,t.position,!0),e=t.input.charCodeAt(++t.position),e===39)i=t.position,t.position++,r=t.position;else return!0;else an(e)?(Hn(t,i,r,!0),rl(t,ne(t,!1,n)),i=r=t.position):t.position===t.lineStart&&Qo(t)?wt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);wt(t,"unexpected end of the stream within a single quoted scalar")}function Nv(t,n){var e,i,r,s,o,c;if(c=t.input.charCodeAt(t.position),c!==34)return!1;for(t.kind="scalar",t.result="",t.position++,e=i=t.position;(c=t.input.charCodeAt(t.position))!==0;){if(c===34)return Hn(t,e,t.position,!0),t.position++,!0;if(c===92){if(Hn(t,e,t.position,!0),c=t.input.charCodeAt(++t.position),an(c))ne(t,!1,n);else if(c<256&&vd[c])t.result+=bd[c],t.position++;else if((o=Pv(c))>0){for(r=o,s=0;r>0;r--)c=t.input.charCodeAt(++t.position),(o=Mv(c))>=0?s=(s<<4)+o:wt(t,"expected hexadecimal character");t.result+=Ov(s),t.position++}else wt(t,"unknown escape sequence");e=i=t.position}else an(c)?(Hn(t,e,i,!0),rl(t,ne(t,!1,n)),e=i=t.position):t.position===t.lineStart&&Qo(t)?wt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}wt(t,"unexpected end of the stream within a double quoted scalar")}function jv(t,n){var e=!0,i,r,s,o=t.tag,c,a=t.anchor,l,b,_,O,T,U=Object.create(null),P,h,d,k;if(k=t.input.charCodeAt(t.position),k===91)b=93,T=!1,c=[];else if(k===123)b=125,T=!0,c={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),k=t.input.charCodeAt(++t.position);k!==0;){if(ne(t,!0,n),k=t.input.charCodeAt(t.position),k===b)return t.position++,t.tag=o,t.anchor=a,t.kind=T?"mapping":"sequence",t.result=c,!0;e?k===44&&wt(t,"expected the node content, but found ','"):wt(t,"missed comma between flow collection entries"),h=P=d=null,_=O=!1,k===63&&(l=t.input.charCodeAt(t.position+1),Oe(l)&&(_=O=!0,t.position++,ne(t,!0,n))),i=t.line,r=t.lineStart,s=t.position,Ri(t,n,Yo,!1,!0),h=t.tag,P=t.result,ne(t,!0,n),k=t.input.charCodeAt(t.position),(O||t.line===i)&&k===58&&(_=!0,k=t.input.charCodeAt(++t.position),ne(t,!0,n),Ri(t,n,Yo,!1,!0),d=t.result),T?ki(t,c,U,h,P,d,i,r,s):_?c.push(ki(t,null,U,h,P,d,i,r,s)):c.push(P),ne(t,!0,n),k=t.input.charCodeAt(t.position),k===44?(e=!0,k=t.input.charCodeAt(++t.position)):e=!1}wt(t,"unexpected end of the stream within a flow collection")}function Lv(t,n){var e,i,r=Ka,s=!1,o=!1,c=n,a=0,l=!1,b,_;if(_=t.input.charCodeAt(t.position),_===124)i=!1;else if(_===62)i=!0;else return!1;for(t.kind="scalar",t.result="";_!==0;)if(_=t.input.charCodeAt(++t.position),_===43||_===45)Ka===r?r=_===43?qu:Dv:wt(t,"repeat of a chomping mode identifier");else if((b=Tv(_))>=0)b===0?wt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?wt(t,"repeat of an indentation width identifier"):(c=n+b-1,o=!0);else break;if(ci(_)){do _=t.input.charCodeAt(++t.position);while(ci(_));if(_===35)do _=t.input.charCodeAt(++t.position);while(!an(_)&&_!==0)}for(;_!==0;){for(il(t),t.lineIndent=0,_=t.input.charCodeAt(t.position);(!o||t.lineIndent<c)&&_===32;)t.lineIndent++,_=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>c&&(c=t.lineIndent),an(_)){a++;continue}if(t.lineIndent<c){r===qu?t.result+=ae.repeat(`
`,s?1+a:a):r===Ka&&s&&(t.result+=`
`);break}for(i?ci(_)?(l=!0,t.result+=ae.repeat(`
`,s?1+a:a)):l?(l=!1,t.result+=ae.repeat(`
`,a+1)):a===0?s&&(t.result+=" "):t.result+=ae.repeat(`
`,a):t.result+=ae.repeat(`
`,s?1+a:a),s=!0,o=!0,a=0,e=t.position;!an(_)&&_!==0;)_=t.input.charCodeAt(++t.position);Hn(t,e,t.position,!1)}return!0}function Ju(t,n){var e,i=t.tag,r=t.anchor,s=[],o,c=!1,a;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),a=t.input.charCodeAt(t.position);a!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,wt(t,"tab characters must not be used in indentation")),!(a!==45||(o=t.input.charCodeAt(t.position+1),!Oe(o))));){if(c=!0,t.position++,ne(t,!0,-1)&&t.lineIndent<=n){s.push(null),a=t.input.charCodeAt(t.position);continue}if(e=t.line,Ri(t,n,pd,!1,!0),s.push(t.result),ne(t,!0,-1),a=t.input.charCodeAt(t.position),(t.line===e||t.lineIndent>n)&&a!==0)wt(t,"bad indentation of a sequence entry");else if(t.lineIndent<n)break}return c?(t.tag=i,t.anchor=r,t.kind="sequence",t.result=s,!0):!1}function Vv(t,n,e){var i,r,s,o,c,a,l=t.tag,b=t.anchor,_={},O=Object.create(null),T=null,U=null,P=null,h=!1,d=!1,k;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=_),k=t.input.charCodeAt(t.position);k!==0;){if(!h&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,wt(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),s=t.line,(k===63||k===58)&&Oe(i))k===63?(h&&(ki(t,_,O,T,U,null,o,c,a),T=U=P=null),d=!0,h=!0,r=!0):h?(h=!1,r=!0):wt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,k=i;else{if(o=t.line,c=t.lineStart,a=t.position,!Ri(t,e,fd,!1,!0))break;if(t.line===s){for(k=t.input.charCodeAt(t.position);ci(k);)k=t.input.charCodeAt(++t.position);if(k===58)k=t.input.charCodeAt(++t.position),Oe(k)||wt(t,"a whitespace character is expected after the key-value separator within a block mapping"),h&&(ki(t,_,O,T,U,null,o,c,a),T=U=P=null),d=!0,h=!1,r=!1,T=t.tag,U=t.result;else if(d)wt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=l,t.anchor=b,!0}else if(d)wt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=l,t.anchor=b,!0}if((t.line===s||t.lineIndent>n)&&(h&&(o=t.line,c=t.lineStart,a=t.position),Ri(t,n,qo,!0,r)&&(h?U=t.result:P=t.result),h||(ki(t,_,O,T,U,P,o,c,a),T=U=P=null),ne(t,!0,-1),k=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>n)&&k!==0)wt(t,"bad indentation of a mapping entry");else if(t.lineIndent<n)break}return h&&ki(t,_,O,T,U,null,o,c,a),d&&(t.tag=l,t.anchor=b,t.kind="mapping",t.result=_),d}function Uv(t){var n,e=!1,i=!1,r,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&wt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(e=!0,o=t.input.charCodeAt(++t.position)):o===33?(i=!0,r="!!",o=t.input.charCodeAt(++t.position)):r="!",n=t.position,e){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(n,t.position),o=t.input.charCodeAt(++t.position)):wt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Oe(o);)o===33&&(i?wt(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(n-1,t.position+1),md.test(r)||wt(t,"named tag handle cannot contain such characters"),i=!0,n=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(n,t.position),Iv.test(s)&&wt(t,"tag suffix cannot contain flow indicator characters")}s&&!gd.test(s)&&wt(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{wt(t,"tag name is malformed: "+s)}return e?t.tag=s:Gn.call(t.tagMap,r)?t.tag=t.tagMap[r]+s:r==="!"?t.tag="!"+s:r==="!!"?t.tag="tag:yaml.org,2002:"+s:wt(t,'undeclared tag handle "'+r+'"'),!0}function Bv(t){var n,e;if(e=t.input.charCodeAt(t.position),e!==38)return!1;for(t.anchor!==null&&wt(t,"duplication of an anchor property"),e=t.input.charCodeAt(++t.position),n=t.position;e!==0&&!Oe(e)&&!Oi(e);)e=t.input.charCodeAt(++t.position);return t.position===n&&wt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(n,t.position),!0}function zv(t){var n,e,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),n=t.position;i!==0&&!Oe(i)&&!Oi(i);)i=t.input.charCodeAt(++t.position);return t.position===n&&wt(t,"name of an alias node must contain at least one character"),e=t.input.slice(n,t.position),Gn.call(t.anchorMap,e)||wt(t,'unidentified alias "'+e+'"'),t.result=t.anchorMap[e],ne(t,!0,-1),!0}function Ri(t,n,e,i,r){var s,o,c,a=1,l=!1,b=!1,_,O,T,U,P,h;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=c=qo===e||pd===e,i&&ne(t,!0,-1)&&(l=!0,t.lineIndent>n?a=1:t.lineIndent===n?a=0:t.lineIndent<n&&(a=-1)),a===1)for(;Uv(t)||Bv(t);)ne(t,!0,-1)?(l=!0,c=s,t.lineIndent>n?a=1:t.lineIndent===n?a=0:t.lineIndent<n&&(a=-1)):c=!1;if(c&&(c=l||r),(a===1||qo===e)&&(Yo===e||fd===e?P=n:P=n+1,h=t.position-t.lineStart,a===1?c&&(Ju(t,h)||Vv(t,h,P))||jv(t,P)?b=!0:(o&&Lv(t,P)||Fv(t,P)||Nv(t,P)?b=!0:zv(t)?(b=!0,(t.tag!==null||t.anchor!==null)&&wt(t,"alias node should not have any properties")):Rv(t,P,Yo===e)&&(b=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):a===0&&(b=c&&Ju(t,h))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&wt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),_=0,O=t.implicitTypes.length;_<O;_+=1)if(U=t.implicitTypes[_],U.resolve(t.result)){t.result=U.construct(t.result),t.tag=U.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Gn.call(t.typeMap[t.kind||"fallback"],t.tag))U=t.typeMap[t.kind||"fallback"][t.tag];else for(U=null,T=t.typeMap.multi[t.kind||"fallback"],_=0,O=T.length;_<O;_+=1)if(t.tag.slice(0,T[_].tag.length)===T[_].tag){U=T[_];break}U||wt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&U.kind!==t.kind&&wt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+U.kind+'", not "'+t.kind+'"'),U.resolve(t.result,t.tag)?(t.result=U.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):wt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||b}function Hv(t){var n=t.position,e,i,r,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(ne(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),e=t.position;o!==0&&!Oe(o);)o=t.input.charCodeAt(++t.position);for(i=t.input.slice(e,t.position),r=[],i.length<1&&wt(t,"directive name must not be less than one character in length");o!==0;){for(;ci(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!an(o));break}if(an(o))break;for(e=t.position;o!==0&&!Oe(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}o!==0&&il(t),Gn.call(Zu,i)?Zu[i](t,i,r):Xo(t,'unknown document directive "'+i+'"')}if(ne(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ne(t,!0,-1)):s&&wt(t,"directives end mark is expected"),Ri(t,t.lineIndent-1,qo,!1,!0),ne(t,!0,-1),t.checkLineBreaks&&Sv.test(t.input.slice(n,t.position))&&Xo(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Qo(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ne(t,!0,-1));return}if(t.position<t.length-1)wt(t,"end of the stream or a document separator is expected");else return}function _d(t,n){t=String(t),n=n||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var e=new kv(t,n),i=t.indexOf("\0");for(i!==-1&&(e.position=i,wt(e,"null byte is not allowed in input")),e.input+="\0";e.input.charCodeAt(e.position)===32;)e.lineIndent+=1,e.position+=1;for(;e.position<e.length-1;)Hv(e);return e.documents}function Gv(t,n,e){n!==null&&typeof n=="object"&&typeof e>"u"&&(e=n,n=null);var i=_d(t,e);if(typeof n!="function")return i;for(var r=0,s=i.length;r<s;r+=1)n(i[r])}function $v(t,n){var e=_d(t,n);if(e.length!==0){if(e.length===1)return e[0];throw new Te("expected a single document in the stream, but found more")}}var Wv=Gv,Yv=$v,Cd={loadAll:Wv,load:Yv},xd=Object.prototype.toString,Ed=Object.prototype.hasOwnProperty,ol=65279,qv=9,Mr=10,Xv=13,Kv=32,Zv=33,Qv=34,Qa=35,Jv=37,tb=38,eb=39,nb=42,wd=44,ib=45,Ko=58,rb=61,ob=62,sb=63,ab=64,Dd=91,Ad=93,lb=96,Sd=123,cb=124,Id=125,Ee={};Ee[0]="\\0";Ee[7]="\\a";Ee[8]="\\b";Ee[9]="\\t";Ee[10]="\\n";Ee[11]="\\v";Ee[12]="\\f";Ee[13]="\\r";Ee[27]="\\e";Ee[34]='\\"';Ee[92]="\\\\";Ee[133]="\\N";Ee[160]="\\_";Ee[8232]="\\L";Ee[8233]="\\P";var ub=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],db=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hb(t,n){var e,i,r,s,o,c,a;if(n===null)return{};for(e={},i=Object.keys(n),r=0,s=i.length;r<s;r+=1)o=i[r],c=String(n[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),a=t.compiledTypeMap.fallback[o],a&&Ed.call(a.styleAliases,c)&&(c=a.styleAliases[c]),e[o]=c;return e}function fb(t){var n,e,i;if(n=t.toString(16).toUpperCase(),t<=255)e="x",i=2;else if(t<=65535)e="u",i=4;else if(t<=4294967295)e="U",i=8;else throw new Te("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+e+ae.repeat("0",i-n.length)+n}var pb=1,Pr=2;function mb(t){this.schema=t.schema||hd,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ae.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=hb(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Pr:pb,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function td(t,n){for(var e=ae.repeat(" ",n),i=0,r=-1,s="",o,c=t.length;i<c;)r=t.indexOf(`
`,i),r===-1?(o=t.slice(i),i=c):(o=t.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(s+=e),s+=o;return s}function Ja(t,n){return`
`+ae.repeat(" ",t.indent*n)}function gb(t,n){var e,i,r;for(e=0,i=t.implicitTypes.length;e<i;e+=1)if(r=t.implicitTypes[e],r.resolve(n))return!0;return!1}function Zo(t){return t===Kv||t===qv}function Tr(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ol||65536<=t&&t<=1114111}function ed(t){return Tr(t)&&t!==ol&&t!==Xv&&t!==Mr}function nd(t,n,e){var i=ed(t),r=i&&!Zo(t);return(e?i:i&&t!==wd&&t!==Dd&&t!==Ad&&t!==Sd&&t!==Id)&&t!==Qa&&!(n===Ko&&!r)||ed(n)&&!Zo(n)&&t===Qa||n===Ko&&r}function vb(t){return Tr(t)&&t!==ol&&!Zo(t)&&t!==ib&&t!==sb&&t!==Ko&&t!==wd&&t!==Dd&&t!==Ad&&t!==Sd&&t!==Id&&t!==Qa&&t!==tb&&t!==nb&&t!==Zv&&t!==cb&&t!==rb&&t!==ob&&t!==eb&&t!==Qv&&t!==Jv&&t!==ab&&t!==lb}function bb(t){return!Zo(t)&&t!==Ko}function Sr(t,n){var e=t.charCodeAt(n),i;return e>=55296&&e<=56319&&n+1<t.length&&(i=t.charCodeAt(n+1),i>=56320&&i<=57343)?(e-55296)*1024+i-56320+65536:e}function Md(t){var n=/^\n* /;return n.test(t)}var Pd=1,tl=2,Td=3,Od=4,Ti=5;function yb(t,n,e,i,r,s,o,c){var a,l=0,b=null,_=!1,O=!1,T=i!==-1,U=-1,P=vb(Sr(t,0))&&bb(Sr(t,t.length-1));if(n||o)for(a=0;a<t.length;l>=65536?a+=2:a++){if(l=Sr(t,a),!Tr(l))return Ti;P=P&&nd(l,b,c),b=l}else{for(a=0;a<t.length;l>=65536?a+=2:a++){if(l=Sr(t,a),l===Mr)_=!0,T&&(O=O||a-U-1>i&&t[U+1]!==" ",U=a);else if(!Tr(l))return Ti;P=P&&nd(l,b,c),b=l}O=O||T&&a-U-1>i&&t[U+1]!==" "}return!_&&!O?P&&!o&&!r(t)?Pd:s===Pr?Ti:tl:e>9&&Md(t)?Ti:o?s===Pr?Ti:tl:O?Od:Td}function _b(t,n,e,i,r){t.dump=function(){if(n.length===0)return t.quotingType===Pr?'""':"''";if(!t.noCompatMode&&(ub.indexOf(n)!==-1||db.test(n)))return t.quotingType===Pr?'"'+n+'"':"'"+n+"'";var s=t.indent*Math.max(1,e),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),c=i||t.flowLevel>-1&&e>=t.flowLevel;function a(l){return gb(t,l)}switch(yb(n,c,t.indent,o,a,t.quotingType,t.forceQuotes&&!i,r)){case Pd:return n;case tl:return"'"+n.replace(/'/g,"''")+"'";case Td:return"|"+id(n,t.indent)+rd(td(n,s));case Od:return">"+id(n,t.indent)+rd(td(Cb(n,o),s));case Ti:return'"'+xb(n)+'"';default:throw new Te("impossible error: invalid scalar style")}}()}function id(t,n){var e=Md(t)?String(n):"",i=t[t.length-1]===`
`,r=i&&(t[t.length-2]===`
`||t===`
`),s=r?"+":i?"":"-";return e+s+`
`}function rd(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Cb(t,n){for(var e=/(\n+)([^\n]*)/g,i=function(){var l=t.indexOf(`
`);return l=l!==-1?l:t.length,e.lastIndex=l,od(t.slice(0,l),n)}(),r=t[0]===`
`||t[0]===" ",s,o;o=e.exec(t);){var c=o[1],a=o[2];s=a[0]===" ",i+=c+(!r&&!s&&a!==""?`
`:"")+od(a,n),r=s}return i}function od(t,n){if(t===""||t[0]===" ")return t;for(var e=/ [^ ]/g,i,r=0,s,o=0,c=0,a="";i=e.exec(t);)c=i.index,c-r>n&&(s=o>r?o:c,a+=`
`+t.slice(r,s),r=s+1),o=c;return a+=`
`,t.length-r>n&&o>r?a+=t.slice(r,o)+`
`+t.slice(o+1):a+=t.slice(r),a.slice(1)}function xb(t){for(var n="",e=0,i,r=0;r<t.length;e>=65536?r+=2:r++)e=Sr(t,r),i=Ee[e],!i&&Tr(e)?(n+=t[r],e>=65536&&(n+=t[r+1])):n+=i||fb(e);return n}function Eb(t,n,e){var i="",r=t.tag,s,o,c;for(s=0,o=e.length;s<o;s+=1)c=e[s],t.replacer&&(c=t.replacer.call(e,String(s),c)),(Sn(t,n,c,!1,!1)||typeof c>"u"&&Sn(t,n,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=r,t.dump="["+i+"]"}function sd(t,n,e,i){var r="",s=t.tag,o,c,a;for(o=0,c=e.length;o<c;o+=1)a=e[o],t.replacer&&(a=t.replacer.call(e,String(o),a)),(Sn(t,n+1,a,!0,!0,!1,!0)||typeof a>"u"&&Sn(t,n+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=Ja(t,n)),t.dump&&Mr===t.dump.charCodeAt(0)?r+="-":r+="- ",r+=t.dump);t.tag=s,t.dump=r||"[]"}function wb(t,n,e){var i="",r=t.tag,s=Object.keys(e),o,c,a,l,b;for(o=0,c=s.length;o<c;o+=1)b="",i!==""&&(b+=", "),t.condenseFlow&&(b+='"'),a=s[o],l=e[a],t.replacer&&(l=t.replacer.call(e,a,l)),Sn(t,n,a,!1,!1)&&(t.dump.length>1024&&(b+="? "),b+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Sn(t,n,l,!1,!1)&&(b+=t.dump,i+=b));t.tag=r,t.dump="{"+i+"}"}function Db(t,n,e,i){var r="",s=t.tag,o=Object.keys(e),c,a,l,b,_,O;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Te("sortKeys must be a boolean or a function");for(c=0,a=o.length;c<a;c+=1)O="",(!i||r!=="")&&(O+=Ja(t,n)),l=o[c],b=e[l],t.replacer&&(b=t.replacer.call(e,l,b)),Sn(t,n+1,l,!0,!0,!0)&&(_=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,_&&(t.dump&&Mr===t.dump.charCodeAt(0)?O+="?":O+="? "),O+=t.dump,_&&(O+=Ja(t,n)),Sn(t,n+1,b,!0,_)&&(t.dump&&Mr===t.dump.charCodeAt(0)?O+=":":O+=": ",O+=t.dump,r+=O));t.tag=s,t.dump=r||"{}"}function ad(t,n,e){var i,r,s,o,c,a;for(r=e?t.explicitTypes:t.implicitTypes,s=0,o=r.length;s<o;s+=1)if(c=r[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(e?c.multi&&c.representName?t.tag=c.representName(n):t.tag=c.tag:t.tag="?",c.represent){if(a=t.styleMap[c.tag]||c.defaultStyle,xd.call(c.represent)==="[object Function]")i=c.represent(n,a);else if(Ed.call(c.represent,a))i=c.represent[a](n,a);else throw new Te("!<"+c.tag+'> tag resolver accepts not "'+a+'" style');t.dump=i}return!0}return!1}function Sn(t,n,e,i,r,s,o){t.tag=null,t.dump=e,ad(t,e,!1)||ad(t,e,!0);var c=xd.call(t.dump),a=i,l;i&&(i=t.flowLevel<0||t.flowLevel>n);var b=c==="[object Object]"||c==="[object Array]",_,O;if(b&&(_=t.duplicates.indexOf(e),O=_!==-1),(t.tag!==null&&t.tag!=="?"||O||t.indent!==2&&n>0)&&(r=!1),O&&t.usedDuplicates[_])t.dump="*ref_"+_;else{if(b&&O&&!t.usedDuplicates[_]&&(t.usedDuplicates[_]=!0),c==="[object Object]")i&&Object.keys(t.dump).length!==0?(Db(t,n,t.dump,r),O&&(t.dump="&ref_"+_+t.dump)):(wb(t,n,t.dump),O&&(t.dump="&ref_"+_+" "+t.dump));else if(c==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!o&&n>0?sd(t,n-1,t.dump,r):sd(t,n,t.dump,r),O&&(t.dump="&ref_"+_+t.dump)):(Eb(t,n,t.dump),O&&(t.dump="&ref_"+_+" "+t.dump));else if(c==="[object String]")t.tag!=="?"&&_b(t,t.dump,n,s,a);else{if(c==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Te("unacceptable kind of an object to dump "+c)}t.tag!==null&&t.tag!=="?"&&(l=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",t.dump=l+" "+t.dump)}return!0}function Ab(t,n){var e=[],i=[],r,s;for(el(t,e,i),r=0,s=i.length;r<s;r+=1)n.duplicates.push(e[i[r]]);n.usedDuplicates=new Array(s)}function el(t,n,e){var i,r,s;if(t!==null&&typeof t=="object")if(r=n.indexOf(t),r!==-1)e.indexOf(r)===-1&&e.push(r);else if(n.push(t),Array.isArray(t))for(r=0,s=t.length;r<s;r+=1)el(t[r],n,e);else for(i=Object.keys(t),r=0,s=i.length;r<s;r+=1)el(t[i[r]],n,e)}function Sb(t,n){n=n||{};var e=new mb(n);e.noRefs||Ab(t,e);var i=t;return e.replacer&&(i=e.replacer.call({"":i},"",i)),Sn(e,0,i,!0,!0)?e.dump+`
`:""}var Ib=Sb,Mb={dump:Ib};function sl(t,n){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var al=Cd.load,cx=Cd.loadAll,ux=Mb.dump;var dx=sl("safeLoad","load"),hx=sl("safeLoadAll","loadAll"),fx=sl("safeDump","dump");var Jo=class t{constructor(n){this.http=n}yamlUrl="./subjects.yaml";getAppConfig(){return this.http.get(this.yamlUrl,{responseType:"text"}).pipe(Tt(n=>{let e=al(n);return{title:e.title||"Domy\u015Blny Tytu\u0142",subtitle:e.subtitle||"Domy\u015Blny Podtytu\u0142"}}))}getSemesters(){return this.http.get(this.yamlUrl,{responseType:"text"}).pipe(Tt(n=>{let e=al(n);return Object.keys(e.semesters).map(i=>{let r=e.semesters[Number(i)];return{number:Number(i),modules:r.modules?.map(s=>({name:s.name||"Nieznany Modu\u0142",subjects:s.subjects?.map(o=>({name:o.name||"Nieznany Przedmiot",description:o.description||"Brak opisu",lecturer:o.lecturer||"Nieznany prowadz\u0105cy",ects:o.ects||0,exam_type:o.exam_type||"pass",contact_hours:o.contact_hours?{lecture:o.contact_hours.lecture||0,exercises:o.contact_hours.exercises||0,labs:o.contact_hours.labs||0,seminars:o.contact_hours.seminars||0}:{lecture:0,exercises:0,labs:0,seminars:0},totalContactHours:o.contact_hours?Object.values(o.contact_hours).reduce((c,a)=>c+a,0):0,non_contact_hours:o.non_contact_hours||0,files:o.files||[]}))||[]}))||[]}})}))}static \u0275fac=function(e){return new(e||t)(bt(Qi))};static \u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ob(t,n){if(t&1){let e=bn();_t(0,"div",11),ye("click",function(){let r=Ue(e).index,s=Bt();return Be(s.onSemesterClick(r))})("mouseenter",function(){let r=Ue(e).index,s=Bt();return Be(s.onMouseEnter(r))})("mouseleave",function(){Ue(e);let r=Bt();return Be(r.onMouseLeave())}),_t(1,"span",12),Ft(2),xt()()}if(t&2){let e=n.index,i=Bt();Ae("selected",i.selectedSemester===e),Ct(2),de("Semestr ",e+1,"")}}function kb(t,n){if(t&1&&(_t(0,"div",13),Ft(1),xt()),t&2){let e=Bt();Ct(),de(" Semestr ",e.selectedSemester+1,`
`)}}function Rb(t,n){if(t&1){let e=bn();_t(0,"app-timeline",14),ye("selectSubject",function(r){Ue(e);let s=Bt();return Be(s.onSubjectSelected(r))}),xt()}if(t&2){let e=Bt();Ht("modules",e.getModulesForSemester(e.selectedSemester))}}function Fb(t,n){if(t&1&&se(0,"app-subject-details",15),t&2){let e=Bt();Ht("subject",e.selectedSubject)}}var ts=class t{constructor(n,e){this.dataService=n;this.cdRef=e}semesters=[];selectedSubject=null;selectedSemester=null;hoveredSemester=null;appConfig={title:"",subtitle:""};ngOnInit(){this.dataService.getAppConfig().subscribe(n=>{this.appConfig=n}),this.dataService.getSemesters().subscribe(n=>{this.semesters=n,this.selectedSemester=0})}onSubjectSelected(n){this.selectedSubject=null,this.cdRef.detectChanges(),setTimeout(()=>{this.selectedSubject=n,this.cdRef.detectChanges()},0)}onSemesterClick(n){this.selectedSemester=n,this.selectedSubject=null}getModulesForSemester(n){return this.semesters[n]?.modules||[]}onMouseEnter(n){this.hoveredSemester=n}onMouseLeave(){this.hoveredSemester=null}static \u0275fac=function(e){return new(e||t)(kt(Jo),kt(ze))};static \u0275cmp=ce({type:t,selectors:[["app-root"]],standalone:!0,features:[he],decls:15,vars:6,consts:[[1,"container"],[1,"modal"],[1,"header"],["href","https://informatyka.amw.gdynia.pl/"],["src","./logo.png","alt","Logo",1,"logo"],[1,"titles"],[1,"semester-selection"],["class","semester-label",3,"selected","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","semester-selected",4,"ngIf"],[3,"modules","selectSubject",4,"ngIf"],[3,"subject",4,"ngIf"],[1,"semester-label",3,"click","mouseenter","mouseleave"],[1,"semester-title"],[1,"semester-selected"],[3,"selectSubject","modules"],[3,"subject"]],template:function(e,i){e&1&&(_t(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),se(4,"img",4),xt(),_t(5,"div",5)(6,"h1"),Ft(7),xt(),_t(8,"h2"),Ft(9),xt()()(),_t(10,"div",6),te(11,Ob,3,3,"div",7),xt()(),te(12,kb,2,1,"div",8)(13,Rb,1,1,"app-timeline",9)(14,Fb,1,1,"app-subject-details",10),xt()),e&2&&(Ct(7),Pe(i.appConfig.title),Ct(2),Pe(i.appConfig.subtitle),Ct(2),Ht("ngForOf",i.semesters),Ct(),Ht("ngIf",i.selectedSemester!==null),Ct(),Ht("ngIf",i.selectedSemester!==null&&i.getModulesForSemester(i.selectedSemester).length>0),Ct(),Ht("ngIf",i.selectedSubject))},dependencies:[Cn,bi,oo,$o,Wo],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:50px}.modal[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;border:1px solid #d3d3d3;width:800px;min-height:200px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:0 2px 12px #1212130f}.header[_ngcontent-%COMP%]{display:flex;align-items:center}.logo[_ngcontent-%COMP%]{height:100%;width:auto;max-height:70px;margin-right:15px}.titles[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;color:#343434;margin:5px 0;text-align:left}.modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:gray;font-weight:400;margin:8px 0 15px;text-align:left}.semester-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:auto;padding-bottom:0;gap:1px}.semester-label[_ngcontent-%COMP%]{flex:1;text-align:center;padding:2px 0;cursor:pointer;font-size:18px;font-weight:500;position:relative;transition:color .3s}.semester-label[_ngcontent-%COMP%]{flex:0 0 auto;width:100px;padding:0;font-size:16px;text-align:center;cursor:pointer;font-weight:500;position:relative;transition:color .3s;color:#343434}.semester-label[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;width:0%;height:3px;background-color:transparent;transform:translate(-50%);transform-origin:center center;transition:width .3s ease,background-color .3s ease,transform .3s ease}.semester-label.selected[_ngcontent-%COMP%]:after{width:100%;background-color:#4682b4;transform:translate(-50%) scaleX(1)}.semester-label[_ngcontent-%COMP%]:hover:after{width:100%;background-color:#4682b4;transform:translate(-50%) scaleX(1)}.semester-label[_ngcontent-%COMP%]:hover, .semester-label.selected[_ngcontent-%COMP%]{color:#4682b4}.semester-selected[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;color:#4682b4;margin-top:20px;margin-bottom:20px}@media (max-width: 600px){.modal[_ngcontent-%COMP%]{width:95%;min-height:auto;padding:15px;max-width:250px}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.logo[_ngcontent-%COMP%]{height:30px}.titles[_ngcontent-%COMP%]{align-items:center}.semester-selection[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:auto;padding-bottom:10px}.semester-label[_ngcontent-%COMP%]{flex:0 0 auto;width:100px;padding:10px 0;font-size:16px;text-align:center;cursor:pointer;font-weight:500;position:relative;transition:color .3s}.semester-label[_ngcontent-%COMP%]:after{bottom:-4px}}']})};var Nb="@",jb=(()=>{class t{constructor(e,i,r,s,o){this.doc=e,this.delegate=i,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=vt(kl,{optional:!0}),this.loadingSchedulerFn=vt(Lb,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-CSXIMWET.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new qt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new ll(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(e,i);s.use(c),this.scheduler?.notify(10)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){qr()}}static{this.\u0275prov=Pt({token:t,factory:t.\u0275fac})}}return t})(),ll=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,i,r){this.delegate.insertBefore(n,e,i,r)}removeChild(n,e,i){this.delegate.removeChild(n,e,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(n,e,i)),this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(n,e,i)),this.delegate.listen(n,e,i)}shouldReplay(n){return this.replay!==null&&n.startsWith(Nb)}},Lb=new Vt("");function kd(t="animations"){return ds("NgAsyncAnimations"),Xn([{provide:Xr,useFactory:(n,e,i)=>new jb(n,e,i,t),deps:[Wt,po,oe]},{provide:Yr,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}pc(ts,{providers:[sc,Os(),...eu.providers,kd()]}).catch(t=>console.error(t));
